"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[7726],{87609:function(e,l,t){var a=t(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},o=(0,a._)("path",{fill:"currentColor",d:"M480 352H346.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96c0-17.7-14.3-32-32-32zm-48 104c-13.2 0-24-10.8-24-24s10.8-24 24-24s24 10.8 24 24s-10.8 24-24 24zm-198.6-81.4c6.2 6.3 14.4 9.4 22.6 9.4s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32c-17.7 0-32 14.33-32 32v242.8l-73.4-73.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"},null,-1),s=[o];function r(e,l){return(0,a.wg)(),(0,a.iD)("svg",n,s)}l["Z"]={name:"fa6-solid-download",render:r}},88339:function(e,l,t){var a=t(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},o=(0,a._)("path",{fill:"currentColor",d:"M105.4 182.6c12.5 12.49 32.76 12.5 45.25.001L224 109.3V352c0 17.67 14.33 32 32 32s32-14.33 32-32V109.3l73.38 73.38c12.49 12.49 32.75 12.49 45.25-.001c12.49-12.49 12.49-32.75 0-45.25l-128-128C272.4 3.125 264.2 0 256 0s-16.4 3.125-22.6 9.375L105.4 137.4c-12.52 12.5-12.52 32.7 0 45.2zM480 352H320c0 35.35-28.65 64-64 64s-64-28.65-64-64H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96c0-17.7-14.3-32-32-32zm-48 104c-13.2 0-24-10.8-24-24s10.8-24 24-24s24 10.8 24 24s-10.8 24-24 24z"},null,-1),s=[o];function r(e,l){return(0,a.wg)(),(0,a.iD)("svg",n,s)}l["Z"]={name:"fa6-solid-upload",render:r}},29325:function(e,l,t){t.r(l),t.d(l,{default:function(){return z}});var a=t(79509),n=(t(3905),t(28785)),o=(t(9638),t(77049)),s=(t(7739),t(8350)),r=(t(12573),t(75915),t(33948),t(38862),t(74916),t(15306),t(66252)),i=t(2262),c=t(3577),u=t(42119),d=t(40195),f=t(80065),m=t(81884),v=t(30020),p=t(10384),g=t(27554),U=t(88339),w=t(87609),S=t(8509);const _={class:"toolbar"},k={key:0,class:"body"},h={style:{"font-size":"0.9em",color:"#606266"}};var b=(0,r.aZ)({__name:"CharacterPresetsPage",setup(e){const{t:l}=(0,S.QT)(),t=(0,g.B)(),b=(0,u.tv)(),y=(0,i.iH)(!1),C=(0,i.iH)(null);function z(){y.value=!0}async function D(){if(!C.value)return;const e=await C.value.getReadPromise();let n=null;try{n=JSON.parse(e)}catch(s){n=null}const o=(0,d.mf)(n);if(o){for(let e of n)t.addOrOverwrite(e.name,e.item);y.value=!1}else(0,a.z8)({message:l("presetPage.wrongFormat"),type:"error"})}function F(e){const l=t.presets.value[e],a=[l],n=JSON.stringify(a);(0,f.Qz)(n,"text/plain",e)}function I(){const e=JSON.stringify(t.allFlat.value);(0,f.Qz)(e,"text/plain",l("misc.preset"))}const R=t.allFlat,W=(0,r.Fl)((()=>R.value.length));function Z(e){t.deletePreset(e)}function x(e){console.log("handle",e),b.push({name:"calculate",params:{presetName:e}})}return(e,t)=>{const a=o.mi,u=s.d0,d=o.MO,f=n.GT;return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(u,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=e=>y.value=e),title:(0,i.SU)(l)("misc.import"),width:(0,i.SU)(m.B)?"60%":"90%"},{footer:(0,r.w5)((()=>[(0,r.Wm)(a,{onClick:t[0]||(t[0]=e=>y.value=!1)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,i.SU)(l)("misc.cancel")),1)])),_:1}),(0,r.Wm)(a,{type:"primary",onClick:D},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,i.SU)(l)("misc.confirm")),1)])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)((0,i.SU)(p.Z),{ref_key:"fileImportBlock",ref:C},null,512)])),_:1},8,["modelValue","title","width"]),(0,r._)("div",_,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{icon:(0,i.SU)(w.Z),onClick:I},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,i.SU)(l)("presetPage.exportAll")),1)])),_:1},8,["icon"]),(0,r.Wm)(a,{icon:(0,i.SU)(U.Z),onClick:z},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,i.SU)(l)("misc.import")),1)])),_:1},8,["icon"])])),_:1})]),(0,i.SU)(W)>0?((0,r.wg)(),(0,r.iD)("div",k,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,i.SU)(R),(e=>((0,r.wg)(),(0,r.j4)(v.Z,{item:e.item,name:e.name,"calculate-icon":!1,onDelete:l=>Z(e.name),onDownload:l=>F(e.name),class:"item",onClick:l=>x(e.name)},null,8,["item","name","onDelete","onDownload","onClick"])))),256))])):((0,r.wg)(),(0,r.j4)(f,{key:1},{default:(0,r.w5)((()=>[(0,r._)("p",h,[(0,r.Uk)((0,c.zw)((0,i.SU)(l)("presetPage.go")),1),(0,r._)("span",{class:"route-item",onClick:t[2]||(t[2]=l=>e.$router.replace("/calculate"))},(0,c.zw)((0,i.SU)(l)("misc.calculator")),1),(0,r.Uk)((0,c.zw)((0,i.SU)(l)("presetPage.toCalc")),1)])])),_:1}))])}}}),y=t(83744);const C=(0,y.Z)(b,[["__scopeId","data-v-7e50a26a"]]);var z=C},30020:function(e,l,t){t.d(l,{Z:function(){return F}});var a=t(66252),n=t(77049),o=(t(75915),t(3577)),s=t(2262),r=t(49963),i=t(19145),c=t(66113),u=t(10403),d=t(87609),f=t(21323),m=t(8509);const v={class:"item br-3"},p={class:"header"},g={class:"fs-12"},U={key:0,class:"buttons flex-row"},w={class:"body"},S={class:"detail-div fs-12"},_=["src"],k={class:"detail-div fs-12"},h=["src"],b={class:"detail-div fs-12"},y=["src"];var C=(0,a.aZ)({__name:"PresetItem",props:{item:null,name:{default:"name"},toolbar:{type:Boolean,default:!0},calculateIcon:{type:Boolean,default:!0}},setup(e){const l=e,{t:t}=(0,m.QT)(),C=(0,a.Fl)((()=>l.item.character.name)),z=(0,a.Fl)((()=>{const e=i.O[C.value];return e.avatar})),D=((0,a.Fl)((()=>{const e=i.O[C.value];return e.chs})),(0,a.Fl)((()=>c.G[l.item.weapon.name]))),F=(0,a.Fl)((()=>u.F[l.item.targetFunction.name]));return(i,c)=>{const u=n.mi;return(0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",p,[(0,a._)("span",g,(0,o.zw)(l.name),1),e.toolbar?((0,a.wg)(),(0,a.iD)("div",U,[(0,a.Wm)(u,{icon:(0,s.SU)(f.Z),text:"",size:"small",circle:"",onClick:c[0]||(c[0]=(0,r.iM)((e=>i.$emit("delete")),["stop"])),class:"button",title:(0,s.SU)(t)("misc.del")},null,8,["icon","title"]),(0,a.Wm)(u,{icon:(0,s.SU)(d.Z),text:"",size:"small",circle:"",onClick:c[1]||(c[1]=(0,r.iM)((e=>i.$emit("download")),["stop"])),class:"button",title:(0,s.SU)(t)("misc.export")},null,8,["icon","title"])])):(0,a.kq)("",!0)]),(0,a._)("div",w,[(0,a._)("div",S,[(0,a._)("img",{src:(0,s.SU)(z),class:"c-avatar br-50p"},null,8,_),(0,a._)("span",null,(0,o.zw)((0,s.SU)(t)("character",(0,s.SU)(C))),1)]),(0,a._)("div",k,[(0,a._)("img",{src:(0,s.SU)(D).url,class:"w-avatar br-50p"},null,8,h),(0,a._)("span",null,(0,o.zw)((0,s.SU)(t)("weapon",l.item.weapon.name)),1)]),(0,a._)("div",b,[(0,a._)("img",{src:(0,s.SU)(F).badge,class:"tf-avatar br-50p"},null,8,y),(0,a._)("span",null,(0,o.zw)((0,s.SU)(t)("tfName",(0,s.SU)(F).name)),1)])])])}}}),z=t(83744);const D=(0,z.Z)(C,[["__scopeId","data-v-2991bd7c"]]);var F=D},10384:function(e,l,t){t.d(l,{Z:function(){return p}});var a=t(2262),n=t(86660),o=(t(28475),t(88339)),s=t(66252),r=t(3577);const i=e=>((0,s.dD)("data-v-9adc0540"),e=e(),(0,s.Cn)(),e),c={class:"center-div"},u=i((()=>(0,s._)("span",null,"点击，或拖拽上传",-1))),d={key:0,class:"filename"};var f=(0,s.aZ)({__name:"ImportBlock",setup(e,{expose:l}){const t=(0,a.iH)(!1);function i(e){e.preventDefault(),t.value=!0}function f(e){e.preventDefault(),t.value=!1}function m(e){e.preventDefault()}const v=(0,a.iH)(null),p=(0,a.iH)(!1),g=(0,a.iH)(""),U=(0,a.iH)(null);function w(){U.value&&U.value.click()}function S(){if(U.value&&U.value.files){const e=Array.from(U.value.files);e.length>0&&(v.value=e[0],p.value=!0,g.value=e[0].name)}}function _(e){e.preventDefault(),t.value=!1;let l=null;if(e.dataTransfer)if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if("file"===e.dataTransfer.items[t].kind){l=e.dataTransfer.items[t].getAsFile();break}}else l=e.dataTransfer.files[0];v.value=l,l&&(p.value=!0,g.value=l.name)}function k(){return new Promise(((e,l)=>{v.value||l("未选择文件");try{let t=new FileReader;t.onload=l=>{l.target&&e(l.target.result)},t.onerror=e=>{l(e)},t.readAsText(v.value)}catch(t){l(t)}}))}return l({getReadPromise:k}),(e,l)=>{const a=o.Z,v=n.gn;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:(0,r.C_)(["root",{over:t.value}]),ref:"rootBox",onDragenter:i,onDragleave:f,onDragover:m,onDrop:_,onClick:w},[(0,s._)("div",c,[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(a)])),_:1}),u])],34),p.value?((0,s.wg)(),(0,s.iD)("p",d,(0,r.zw)(g.value),1)):(0,s.kq)("",!0),(0,s._)("input",{type:"file",ref_key:"fileInput",ref:U,class:"file-input",onChange:S},null,544)])}}}),m=t(83744);const v=(0,m.Z)(f,[["__scopeId","data-v-9adc0540"]]);var p=v},7739:function(e,l,t){t(3392)},8350:function(e,l,t){t.d(l,{d0:function(){return x}});var a=t(66252),n=t(2262),o=t(49963),s=t(3577),r=t(34549),i=t(86660),c=t(62423),u=t(1446),d=t(69559),f=t(66080);const m=Symbol("dialogInjectionKey");var v=t(37394),p=t(22252),g=t(45473);const U=["aria-label"],w=["id"],S={name:"ElDialogContent"},_=(0,a.aZ)({...S,props:c.q,emits:c.b,setup(e){const l=e,{t:t}=(0,d.bU)(),{Close:r}=f.NK,{dialogRef:c,headerRef:u,bodyId:S,ns:_,style:k}=(0,a.f3)(m),{focusTrapRef:h}=(0,a.f3)(v.D5),b=(0,p.F)(h,c),y=(0,a.Fl)((()=>l.draggable));return(0,g.O)(c,u,y),(e,l)=>((0,a.wg)(),(0,a.iD)("div",{ref:(0,n.SU)(b),class:(0,s.C_)([(0,n.SU)(_).b(),(0,n.SU)(_).is("fullscreen",e.fullscreen),(0,n.SU)(_).is("draggable",(0,n.SU)(y)),{[(0,n.SU)(_).m("center")]:e.center},e.customClass]),style:(0,s.j5)((0,n.SU)(k)),tabindex:"-1",onClick:l[1]||(l[1]=(0,o.iM)((()=>{}),["stop"]))},[(0,a._)("header",{ref_key:"headerRef",ref:u,class:(0,s.C_)((0,n.SU)(_).e("header"))},[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("span",{role:"heading",class:(0,s.C_)((0,n.SU)(_).e("title"))},(0,s.zw)(e.title),3)])),e.showClose?((0,a.wg)(),(0,a.iD)("button",{key:0,"aria-label":(0,n.SU)(t)("el.dialog.close"),class:(0,s.C_)((0,n.SU)(_).e("headerbtn")),type:"button",onClick:l[0]||(l[0]=l=>e.$emit("close"))},[(0,a.Wm)((0,n.SU)(i.gn),{class:(0,s.C_)((0,n.SU)(_).e("close"))},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.closeIcon||(0,n.SU)(r))))])),_:1},8,["class"])],10,U)):(0,a.kq)("v-if",!0)],2),(0,a._)("div",{id:(0,n.SU)(S),class:(0,s.C_)((0,n.SU)(_).e("body"))},[(0,a.WI)(e.$slots,"default")],10,w),e.$slots.footer?((0,a.wg)(),(0,a.iD)("footer",{key:0,class:(0,s.C_)((0,n.SU)(_).e("footer"))},[(0,a.WI)(e.$slots,"footer")],2)):(0,a.kq)("v-if",!0)],6))}});var k=(0,u.Z)(_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]),h=t(87471),b=t(94457),y=t(10590),C=t(25299),z=t(97357),D=t(76551);const F=["aria-label","aria-labelledby","aria-describedby"],I={name:"ElDialog"},R=(0,a.aZ)({...I,props:h.B,emits:h.A,setup(e,{expose:l}){const t=e,i=(0,a.Rr)();(0,y.A)({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},(0,a.Fl)((()=>!!i.title)));const c=(0,C.s)("dialog"),u=(0,n.iH)(),d=(0,n.iH)(),f=(0,n.iH)(),{visible:v,titleId:p,bodyId:g,style:U,rendered:w,zIndex:S,afterEnter:_,afterLeave:h,beforeLeave:I,handleClose:R,onModalClick:W,onOpenAutoFocus:Z,onCloseAutoFocus:x,onCloseRequested:A}=(0,b.R)(t,u);(0,a.JJ)(m,{dialogRef:u,headerRef:d,bodyId:g,ns:c,rendered:w,style:U});const M=(0,z.S)(W),H=(0,a.Fl)((()=>t.draggable&&!t.fullscreen));return l({visible:v,dialogContentRef:f}),(e,l)=>((0,a.wg)(),(0,a.j4)(a.lR,{to:"body",disabled:!e.appendToBody},[(0,a.Wm)(o.uT,{name:"dialog-fade",onAfterEnter:(0,n.SU)(_),onAfterLeave:(0,n.SU)(h),onBeforeLeave:(0,n.SU)(I),persisted:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)((0,n.SU)(r.F6),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":(0,n.SU)(S)},{default:(0,a.w5)((()=>[(0,a._)("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:(0,n.SU)(p),"aria-describedby":(0,n.SU)(g),class:(0,s.C_)(`${(0,n.SU)(c).namespace.value}-overlay-dialog`),onClick:l[0]||(l[0]=(...e)=>(0,n.SU)(M).onClick&&(0,n.SU)(M).onClick(...e)),onMousedown:l[1]||(l[1]=(...e)=>(0,n.SU)(M).onMousedown&&(0,n.SU)(M).onMousedown(...e)),onMouseup:l[2]||(l[2]=(...e)=>(0,n.SU)(M).onMouseup&&(0,n.SU)(M).onMouseup(...e))},[(0,a.Wm)((0,n.SU)(D.Z),{loop:"",trapped:(0,n.SU)(v),"focus-start-el":"container",onFocusAfterTrapped:(0,n.SU)(Z),onFocusAfterReleased:(0,n.SU)(x),onReleaseRequested:(0,n.SU)(A)},{default:(0,a.w5)((()=>[(0,n.SU)(w)?((0,a.wg)(),(0,a.j4)(k,{key:0,ref_key:"dialogContentRef",ref:f,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:(0,n.SU)(H),fullscreen:e.fullscreen,"show-close":e.showClose,style:(0,s.j5)((0,n.SU)(U)),title:e.title,onClose:(0,n.SU)(R)},(0,a.Nv)({header:(0,a.w5)((()=>[e.$slots.title?(0,a.WI)(e.$slots,"title",{key:1}):(0,a.WI)(e.$slots,"header",{key:0,close:(0,n.SU)(R),titleId:(0,n.SU)(p),titleClass:(0,n.SU)(c).e("title")})])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):(0,a.kq)("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,F)])),_:3},8,["mask","overlay-class","z-index"]),[[o.F8,(0,n.SU)(v)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var W=(0,u.Z)(R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]),Z=t(85739);const x=(0,Z.nz)(W)},12573:function(e,l,t){t(3392),t(31959)},3905:function(e,l,t){t(3392)},22252:function(e,l,t){t.d(l,{F:function(){return n}});var a=t(3577);const n=(...e)=>l=>{e.forEach((e=>{(0,a.mf)(e)?e(l):e.value=l}))}}}]);