"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[136],{96186:function(t,e,a){a.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root",on:{click:function(e){return t.$emit("click")}}},[""!==t.back?a("img",{attrs:{src:t.back}}):t._e(),a("span",{staticClass:"s1"}),a("span",{staticClass:"s2"}),a("span",{staticClass:"s3"}),a("span",{staticClass:"s4"}),t._v(" + ")])},n=[],s={name:"AddButton",props:{back:{default:""}}},r=s,l=a(1001),c=(0,l.Z)(r,i,n,!1,null,"f016431a",null),o=c.exports},4016:function(t,e,a){a.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filters"},[a("span",[t._v("主词条：")]),a("select-artifact-main-stat",{model:{value:t.filterMainTag,callback:function(e){t.filterMainTag=e},expression:"filterMainTag"}}),a("span",[t._v("套装：")]),a("select-artifact-set",{attrs:{"any-option":""},model:{value:t.filterArtifactSetName,callback:function(e){t.filterArtifactSetName=e},expression:"filterArtifactSetName"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.artifactListDisplayed.length>0,expression:"artifactListDisplayed.length > 0"}],staticClass:"artifacts"},t._l(t.artifactListDisplayed,(function(e){return a("artifact-display",{key:e.id,attrs:{item:e,selectable:""},on:{click:function(a){return t.$emit("select",e.id)}}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.artifactListDisplayed.length,expression:"artifactListDisplayed.length === 0"}],staticClass:"no-artifacts"},[a("el-empty")],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.artifactList.length},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)},n=[],s=a(60630),r=a(93972),l=a(24044);const c=20;var o={name:"SelectArtifact",components:{SelectArtifactMainStat:s.Z,SelectArtifactSet:r.Z,ArtifactDisplay:l.Z},props:{position:{}},created(){this.pageSize=c},data(){return{filterMainTag:"any",filterArtifactSetName:"any",currentPage:1}},computed:{artifactListUnfiltered(){if("any"===this.position)return this.$store.getters["artifacts/allFlat"];const t=this.$store.state.artifacts[this.position];return t},artifactList(){let t=[];for(let e of this.artifactListUnfiltered)"any"!==this.filterMainTag&&this.filterMainTag!==e.mainTag.name||"any"!==this.filterArtifactSetName&&this.filterArtifactSetName!==e.setName||t.push(e);return t},artifactListDisplayed(){const t=(this.currentPage-1)*c,e=Math.min(t+c,this.artifactList.length);return this.artifactList.slice(t,e)}}},f=o,m=a(1001),u=(0,m.Z)(f,i,n,!1,null,"dce6579e",null),h=u.exports},60630:function(t,e,a){a.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,size:"small",multiple:t.multiple},on:{input:function(e){return t.$emit("input",e)}}},[t.includeAny?a("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.tagList,(function(t){return a("el-option",{key:t.name,attrs:{label:t.title,value:t.name}})}))],2)},n=[],s=a(98017),r={name:"SelectArtifactMainStat",props:{value:{},includeAny:{default:!0},multiple:{default:!1},position:{default:null}},computed:{tagList(){let t=[];if(this.position)for(let e of s.nl[this.position])t.push({name:e,title:s.vB[e].chs});else for(let e in s.vB)t.push({name:e,title:s.vB[e].chs});return t}}},l=r,c=a(1001),o=(0,c.Z)(l,i,n,!1,null,null,null),f=o.exports},93972:function(t,e,a){a.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,disabled:t.disabled,size:"small",multiple:t.multiple,"multiple-limit":t.multipleLimit},on:{input:function(e){return t.$emit("input",e)}}},[t.anyOption?a("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.allArtifactsName,(function(e){return a("el-option",{key:e.name,attrs:{label:e.chs,value:e.name}},[a("div",{staticClass:"item"},[a("img",{staticClass:"tn",attrs:{src:e.url}}),a("span",[t._v(t._s(e.chs))])])])}))],2)},n=[],s=a(36110),r=a(4222);let l=Object.values(s.oN);l.sort(((t,e)=>e.maxStar-t.maxStar));let c=l.map((t=>({name:t.eng,chs:t.chs,url:(0,r.Lk)(t.eng)})));var o={name:"SelectArtifactSet",created:function(){this.allArtifactsName=c},props:{value:{type:String,required:!0},disabled:{type:Boolean,default:!1},anyOption:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},multipleLimit:{default:2}}},f=o,m=a(1001),u=(0,m.Z)(f,i,n,!1,null,"470a80ef",null),h=u.exports},60560:function(t,e,a){a.r(e),a.d(e,{default:function(){return ka}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("apply-preset-dialog",{ref:"applyPresetDialog",on:{selected:function(e){return t.handleApplyPreset(e)}}}),a("el-dialog",{attrs:{title:"选择圣遗物",width:"80%",visible:t.showSelectArtifactDialog},on:{"update:visible":function(e){t.showSelectArtifactDialog=e}}},[a("select-artifact",{attrs:{position:t.selectArtifactSlot},on:{select:t.handleSelectArtifact}})],1),a("el-dialog",{attrs:{visible:t.showDamageAnalysisDialog,title:"伤害构成",width:"60%"},on:{"update:visible":function(e){t.showDamageAnalysisDialog=e}}},[a("damage-analysis",{ref:"damageAnalysis",attrs:{"enemy-config":t.enemyConfig,"character-level":t.characterLevelNumber}})],1),a("el-dialog",{attrs:{visible:t.showSelectBuffDialog,title:"选择BUFF",width:"60%"},on:{"update:visible":function(e){t.showSelectBuffDialog=e}}},[a("select-buff",{on:{select:t.handleSelectBuff}})],1),a("el-dialog",{attrs:{visible:t.showConstraintDialog,title:"算法及过滤设置",width:"60%"},on:{"update:visible":function(e){t.showConstraintDialog=e}}},[a("el-row",[a("el-col",{attrs:{span:15}},[a("p",{staticClass:"common-title2"},[t._v(" 算法 "),a("el-tooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" A*：推荐"),a("br"),t._v(" 启发式剪枝：不保证得到最优解，但是速度快"),a("br"),t._v(" 纯枚举：不推荐 ")]},proxy:!0}])},[a("i",{staticClass:"el-icon-question",attrs:{content:""}})])],1),"Naive"===t.algorithm?a("el-alert",{staticStyle:{"margin-bottom":"12px"},attrs:{title:"请限定套装或者主词条，否则计算将十分耗时，可能导致计算超时",type:"warning"}}):t._e(),a("el-radio-group",{model:{value:t.algorithm,callback:function(e){t.algorithm=e},expression:"algorithm"}},[a("el-radio",{attrs:{label:"AStar"}},[t._v("A*")]),a("el-radio",{attrs:{label:"Heuristic"}},[t._v("启发式剪枝")]),a("el-radio",{attrs:{label:"Naive"}},[t._v("纯枚举")])],1),a("p",{staticClass:"common-title2"},[t._v("搭配数量")]),a("div",{staticStyle:{"margin-top":"12px","margin-bottom":"12px"}},[a("div",{staticStyle:{width:"70%"}},[a("el-slider",{attrs:{min:1,max:100,"show-input":!0},model:{value:t.max_result_num,callback:function(e){t.max_result_num=e},expression:"max_result_num"}})],1)]),a("p",{staticClass:"common-title2"},[t._v("限定套装")]),a("div",{staticStyle:{"margin-top":"12px","margin-bottom":"12px"}},[a("select-artifact-set",{staticStyle:{width:"50%"},attrs:{anyOption:"",multiple:""},model:{value:t.constraintArtifactSet,callback:function(e){t.constraintArtifactSet=e},expression:"constraintArtifactSet"}})],1),a("p",{staticClass:"common-title2"},[t._v("限定主词条")]),a("div",{staticStyle:{"margin-top":"12px","margin-bottom":"12px"}},[a("div",{staticClass:"constraint-main-stat-item"},[a("span",[t._v("时之沙")]),a("select-artifact-main-stat",{staticStyle:{width:"30%"},attrs:{"include-any":!1,multiple:!0,position:"sand"},model:{value:t.constraintSandMainStats,callback:function(e){t.constraintSandMainStats=e},expression:"constraintSandMainStats"}})],1),a("div",{staticClass:"constraint-main-stat-item"},[a("span",[t._v("空之杯")]),a("select-artifact-main-stat",{staticStyle:{width:"30%"},attrs:{"include-any":!1,multiple:!0,position:"cup"},model:{value:t.constraintGobletMainStats,callback:function(e){t.constraintGobletMainStats=e},expression:"constraintGobletMainStats"}})],1),a("div",{staticClass:"constraint-main-stat-item"},[a("span",[t._v("理之冠")]),a("select-artifact-main-stat",{staticStyle:{width:"30%"},attrs:{"include-any":!1,multiple:!0,position:"head"},model:{value:t.constraintHeadMainStats,callback:function(e){t.constraintHeadMainStats=e},expression:"constraintHeadMainStats"}})],1)]),a("p",{staticClass:"constraint-title"},[t._v("限定最小值")]),a("div",[a("div",{staticClass:"constraint-min-item"},[a("span",{staticClass:"constraint-min-title"},[t._v("元素充能效率")]),a("div",{staticStyle:{width:"70%"}},[a("el-slider",{attrs:{min:1,max:4,step:.05,"show-input":!0},model:{value:t.constraintMinRecharge,callback:function(e){t.constraintMinRecharge=e},expression:"constraintMinRecharge"}})],1)]),a("div",{staticClass:"constraint-min-item"},[a("span",{staticClass:"constraint-min-title"},[t._v("元素精通")]),a("div",{staticStyle:{width:"70%"}},[a("el-slider",{attrs:{min:0,max:2e3,step:10,"show-input":!0},model:{value:t.constraintMinElementalMastery,callback:function(e){t.constraintMinElementalMastery=e},expression:"constraintMinElementalMastery"}})],1)]),a("div",{staticClass:"constraint-min-item"},[a("span",{staticClass:"constraint-min-title"},[t._v("暴击率")]),a("div",{staticStyle:{width:"70%"}},[a("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":!0},model:{value:t.constraintMinCritical,callback:function(e){t.constraintMinCritical=e},expression:"constraintMinCritical"}})],1)]),a("div",{staticClass:"constraint-min-item"},[a("span",{staticClass:"constraint-min-title"},[t._v("暴击伤害")]),a("div",{staticStyle:{width:"70%"}},[a("el-slider",{attrs:{min:0,max:4,step:.1,"show-input":!0},model:{value:t.constraintMinCriticalDamage,callback:function(e){t.constraintMinCriticalDamage=e},expression:"constraintMinCriticalDamage"}})],1)])])],1),a("el-col",{attrs:{span:9}},[a("p",{staticClass:"common-title2"},[t._v("过滤圣遗物组")]),a("div",{staticClass:"mona-scroll",staticStyle:{"max-height":"50vh",overflow:"auto"}},[a("el-tree",{ref:"filterKumiRef",attrs:{data:t.kumiTreeDataForElementUI,"show-checkbox":""}})],1)])],1)],1),a("el-dialog",{attrs:{visible:t.showArtifactAnalysisDialog,title:"词条统计",width:"60%"},on:{"update:visible":function(e){t.showArtifactAnalysisDialog=e}}},[a("artifacts-set-statistics",{attrs:{"artifact-ids":t.artifactIds}})],1),a("el-dialog",{attrs:{visible:t.showArtifactPerBonusDialog,title:"词条收益曲线",width:"80%"},on:{"update:visible":function(e){t.showArtifactPerBonusDialog=e}}},[a("artifact-per-stat-bonus",{attrs:{data:t.miscPerStatBonus}})],1),a("el-dialog",{attrs:{visible:t.showSaveKumiDialog,title:"新建圣遗物组",width:"60%"},on:{"update:visible":function(e){t.showSaveKumiDialog=e}}},[a("save-as-kumi",{attrs:{"default-name":t.kumiDefaultName},on:{confirm:t.handleSaveAsKumi}})],1),a("el-dialog",{attrs:{visible:t.showUseKumiDialog,title:"选择圣遗物组",width:"60%"},on:{"update:visible":function(e){t.showUseKumiDialog=e}}},[a("div",{staticClass:"mona-scroll",staticStyle:{height:"60vh"}},[a("el-tree",{attrs:{data:t.kumiTreeDataForElementUI},on:{"node-click":t.handleUseKumi}})],1)]),a("el-dialog",{attrs:{visible:t.showEnemyConfigDialog,title:"敌人设置",width:"60%"},on:{"update:visible":function(e){t.showEnemyConfigDialog=e}}},[a("enemy-config",{model:{value:t.enemyConfig,callback:function(e){t.enemyConfig=e},expression:"enemyConfig"}})],1),a("el-dialog",{attrs:{visible:t.showConfigArtifactDialog,title:"圣遗物设置",width:"60%"},on:{"update:visible":function(e){t.showConfigArtifactDialog=e}}},[a("h3",{staticClass:"common-title2"},[t._v("圣遗物特效模式")]),a("el-radio-group",{model:{value:t.artifactEffectMode,callback:function(e){t.artifactEffectMode=e},expression:"artifactEffectMode"}},[a("el-radio",{attrs:{label:"auto"}},[t._v("自动")]),a("el-radio",{attrs:{label:"custom"}},[t._v("手动")])],1),a("h3",{staticClass:"common-title2"},[t._v("圣遗物特效（仅在手动模式下有效）")]),a("artifact-config",{model:{value:t.artifactConfig,callback:function(e){t.artifactConfig=e},expression:"artifactConfig"}})],1),a("div",{ref:"topThings",staticClass:"top-things"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",[t._v("计算器")])]),a("el-col",{attrs:{span:18}},[a("div",{staticStyle:{float:"right"}},[t.cancelOptimizeArtifact?[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-warning-outline"},on:{click:t.cancelOptimizeArtifact}},[t._v("中止计算")]),a("el-divider",{attrs:{direction:"vertical"}})]:t._e(),t.miscCurrentPresetName?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-folder-checked",disabled:!t.presetDirty},on:{click:function(e){return t.handleSavePreset(t.miscCurrentPresetName)}}},[t._v("保存预设「"+t._s(t.miscCurrentPresetName)+"」")]):t._e(),a("el-button",{attrs:{type:t.miscCurrentPresetName?"secondary":"primary",size:"mini",icon:"el-icon-folder-add"},on:{click:function(e){return t.handleSavePreset(null)}}},[t._v("存为新预设")]),a("el-button",{attrs:{type:"secondary",size:"mini",icon:"el-icon-folder-opened"},on:{click:function(e){return t.$refs.applyPresetDialog.open()}}},[t._v("导入预设")])],2)])],1),a("el-divider")],1),a("el-row",{ref:"bigContainer",staticClass:"big-container",style:{height:t.miscBigContainerHeight}},[a("el-col",{staticClass:"left-container",attrs:{span:6}},[a("div",{staticClass:"config-character"},[a("img",{staticClass:"character-splash",attrs:{src:t.characterSplash}}),a("div",{staticClass:"select-character"},[a("p",{staticClass:"common-title"},[t._v("角色")]),a("div",{staticStyle:{display:"flex",gap:"12px"}},[a("select-character",{staticStyle:{flex:"1"},model:{value:t.characterName,callback:function(e){t.characterName=e},expression:"characterName"}}),a("select-character-level",{staticStyle:{flex:"1"},model:{value:t.characterLevel,callback:function(e){t.characterLevel=e},expression:"characterLevel"}})],1),a("div",{staticClass:"config-character-skill"},[a("h3",{staticClass:"common-title2"},[t._v("技能")]),a("div",{staticClass:"skill-div"},[a("el-input-number",{staticStyle:{flex:"1",display:"block",width:"unset"},attrs:{size:"mini",min:1,max:15},model:{value:t.characterSkill1,callback:function(e){t.characterSkill1=e},expression:"characterSkill1"}}),a("el-input-number",{staticStyle:{flex:"1",display:"block",width:"unset"},attrs:{size:"mini",min:1,max:15},model:{value:t.characterSkill2,callback:function(e){t.characterSkill2=e},expression:"characterSkill2"}}),a("el-input-number",{staticStyle:{flex:"1",display:"block",width:"unset"},attrs:{size:"mini",min:1,max:15},model:{value:t.characterSkill3,callback:function(e){t.characterSkill3=e},expression:"characterSkill3"}})],1)]),a("div",{staticClass:"config-character-constellation"},[a("h3",{staticClass:"common-title2"},[t._v("命之座")]),a("select-small-int",{attrs:{min:0,max:6},model:{value:t.characterConstellation,callback:function(e){t.characterConstellation=e},expression:"characterConstellation"}})],1),t.characterNeedConfig?a("div",{staticClass:"character-extra-config"},[a("item-config",{attrs:{"item-name":t.characterName,configs:t.characterConfigConfig},model:{value:t.characterConfig,callback:function(e){t.characterConfig=e},expression:"characterConfig"}})],1):t._e()])]),a("el-divider"),a("div",{staticClass:"config-weapon"},[a("div",{staticClass:"select-weapon"},[a("p",{staticClass:"common-title"},[t._v("武器")]),a("div",{staticStyle:{display:"flex",gap:"12px","margin-bottom":"8px"}},[a("select-weapon",{staticStyle:{flex:"1"},attrs:{type:t.characterWeaponType},model:{value:t.weaponName,callback:function(e){t.weaponName=e},expression:"weaponName"}}),a("select-weapon-level",{staticStyle:{flex:"1"},model:{value:t.weaponLevel,callback:function(e){t.weaponLevel=e},expression:"weaponLevel"}})],1),a("weapon-display",{attrs:{"weapon-name":t.weaponName}}),a("div",{staticClass:"config-weapon-refine"},[a("h3",{staticClass:"common-title2"},[t._v("精炼")]),a("select-small-int",{attrs:{min:1,max:5},model:{value:t.weaponRefine,callback:function(e){t.weaponRefine=e},expression:"weaponRefine"}})],1),t.weaponNeedConfig?a("div",{staticClass:"weapon-extra-config"},[a("item-config",{attrs:{"item-name":t.weaponName,configs:t.weaponConfigConfig},model:{value:t.weaponConfig,callback:function(e){t.weaponConfig=e},expression:"weaponConfig"}})],1):t._e()],1)]),a("el-divider"),a("div",{staticClass:"config-target-function"},[a("p",{staticClass:"common-title"},[t._v("目标函数")]),a("select-target-function",{attrs:{"character-name":t.characterName},model:{value:t.targetFunctionName,callback:function(e){t.targetFunctionName=e},expression:"targetFunctionName"}}),a("div",{staticClass:"target-function-detail"},[a("div",{staticClass:"detail-left"},[a("img",{attrs:{src:t.targetFunctionBadge}})]),a("div",{staticClass:"detail-right"},[a("p",{staticClass:"target-function-description",domProps:{innerHTML:t._s(t.targetFunctionDescription)}})])]),t.targetFunctionNeedConfig?a("div",{staticClass:"target-function-config",staticStyle:{"margin-top":"12px"}},[a("item-config",{attrs:{"item-name":t.targetFunctionName,configs:t.targetFunctionConfigConfig},model:{value:t.targetFunctionConfig,callback:function(e){t.targetFunctionConfig=e},expression:"targetFunctionConfig"}})],1):t._e()],1),a("el-divider"),a("div",{staticClass:"config-buff"},[a("p",{staticClass:"common-title"},[t._v("BUFF")]),a("div",{staticClass:"buff-tool",staticStyle:{"margin-bottom":"12px"}},[a("my-button-1",{attrs:{icon:"el-icon-plus",title:"添加BUFF"},on:{click:t.handleClickAddBuff}})],1),t.buffs.length>0?a("div",{staticClass:"buffs"},t._l(t.buffs,(function(e){return a("buff-item",{key:e.id,attrs:{buff:e,"buff-config":e.config},on:{"update:buffConfig":function(a){return t.$set(e,"config",a)},"update:buff-config":function(a){return t.$set(e,"config",a)},delete:function(a){return t.handleClickDeleteBuff(e.id)},toggle:function(a){return t.handleClickToggleBuff(e.id)}}})})),1):a("div",[a("el-empty",{attrs:{description:"无BUFF"}})],1)])],1),a("el-col",{staticClass:"middle-container",attrs:{span:9}},[a("div",{staticClass:"my-button-list",staticStyle:{"margin-bottom":"12px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-caret-right"},on:{click:t.handleOptimizeArtifact}},[t._v("开始搭配")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-s-tools",type:"text"},on:{click:t.handleClickSetupOptimization}},[t._v("算法及过滤设置")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-s-help",type:"text"},on:{click:t.handleClickArtifactConfig}},[t._v("圣遗物特效设置")])],1),a("p",{staticClass:"common-title"},[t._v("圣遗物")]),t.optimizationResults.length>0?a("div",{staticStyle:{"margin-top":"12px","margin-bottom":"12px"}},[a("div",{staticClass:"constraint-min-item"},[a("span",{staticClass:"constraint-min-title",staticStyle:{"font-size":"0.9rem"}},[t._v("搭配结果")]),a("div",{staticStyle:{width:"100%"}},[a("el-slider",{attrs:{value:t.optimizationResultIndex,min:1,max:t.optimizationResults.length,"show-input":!0,"show-stops":""},on:{input:t.handleUseNthOptimizationResult}})],1)]),a("value-display",{staticStyle:{"margin-top":"12px"},attrs:{value:t.optimizationResults[t.optimizationResultIndex-1].ratio,extra:t.optimizationResults[t.optimizationResultIndex-1].value.toFixed(1)}})],1):t._e(),a("div",{staticClass:"artifact-tool",staticStyle:{"margin-bottom":"12px"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-pie-chart"},on:{click:t.handleClickArtifactAnalysis}},[t._v("词条统计")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-data-line"},on:{click:t.handleClickAttributeAnalysis}},[t._v("词条收益")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-star-on"},on:{click:t.handleClickSaveAsKumi}},[t._v("存为套装")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-folder"},on:{click:t.handleClickUseKumi}},[t._v("导入套装")])],1),a("div",[a("el-tabs",{staticStyle:{width:"100%"},attrs:{type:"card",addable:""},on:{edit:t.handleArtifactTabsEdit},model:{value:t.currentArtifactGroupName,callback:function(e){t.currentArtifactGroupName=e},expression:"currentArtifactGroupName"}},t._l(t.artifactGroups,(function(e,i){return a("el-tab-pane",{key:e.name,staticClass:"artifacts",staticStyle:{width:"100%"},attrs:{name:e.name,label:"圣遗物组"+(i+1),closable:t.artifactGroups.length>1,lazy:""}},t._l(t.artifactIds,(function(e,i){return a("div",{key:e,staticClass:"artifact-item-or-button"},[t.artifactItems[i]?a("artifact-display",{staticClass:"artifact-display",attrs:{item:t.artifactItems[i],selectable:"",buttons:!0,"delete-button":!0},on:{delete:function(e){return t.handleRemoveArtifact(i)},toggle:function(a){return t.handleToggleArtifact(e)},click:function(e){return t.handleGotoSelectArtifact(i)}}}):a("add-button",{staticClass:"add-button",staticStyle:{height:"7vw",width:"11vw"},on:{click:function(e){return t.handleGotoSelectArtifact(i)}}})],1)})),0)})),1),t.artifactNeedConfig4?a("div",{staticStyle:{"margin-top":"16px"}},[a("p",{staticClass:"common-description"},[a("span",{staticClass:"effect4"},[t._v("四件套效果：")]),a("span",{domProps:{innerHTML:t._s(t.artifactEffect4Text)}})]),a("item-config",{attrs:{"item-name":t.artifactConfig4ItemName,configs:t.artifactConfig4Configs},model:{value:t.artifactSingleConfig,callback:function(e){t.artifactSingleConfig=e},expression:"artifactSingleConfig"}})],1):t._e()],1)]),a("el-col",{staticClass:"right-container",attrs:{span:9}},[a("div",{staticClass:"common-title"},[t._v("面板")]),a("attribute-panel",{attrs:{attribute:t.attributeFromWasm}}),a("el-divider"),a("p",{staticClass:"common-title"},[t._v("伤害")]),a("div",{staticClass:"my-button-list",staticStyle:{"margin-bottom":"12px"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-s-data"},on:{click:t.handleDisplayAnalysis}},[t._v("明细")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-s-tools"},on:{click:t.handleClickEnemyConfig}},[t._v("敌人设置")])],1),t.characterNeedSkillConfig?a("div",{staticStyle:{"margin-bottom":"16px"}},[a("item-config",{attrs:{"item-name":t.characterName,configs:t.characterSkillConfigConfig},model:{value:t.characterSkillConfig,callback:function(e){t.characterSkillConfig=e},expression:"characterSkillConfig"}})],1):t._e(),a("div",{staticClass:"damage-analysis-div"},[a("select-character-skill",{staticStyle:{"margin-bottom":"16px"},attrs:{"character-name":t.characterName},model:{value:t.characterSkillIndex,callback:function(e){t.characterSkillIndex=e},expression:"characterSkillIndex"}}),a("damage-panel",{attrs:{"analysis-from-wasm":t.characterDamageAnalysis}})],1),a("h3",{staticClass:"common-title2",staticStyle:{"margin-top":"24px"}},[t._v("剧变反应伤害")]),a("transformative-damage",{attrs:{data:t.characterTransformativeDamage}})],1)],1)],1)},n=[],s=a(26294),r=a(40705),l=a.n(r),c=a(65735),o=a(67828),f=a(42246),m=a(76711),u=a(39285),h=a(12637),d=a(51775),p=a(43073),g=a(24026),C=a(85344),v=a(82775),b=a(23754),y=a(62900),S=a(7362),k=a(79809),_=a(80323),x=a(12670),w=a(57141),A=a(18622),N=a(94556),I=a(5102),F=a(63516),D=a(1078),M=a(44553),T=a(54343),E=a(22649),P=a(16925),$=a(53499),z=a(11366),B=a(7784),G=a(71157),L=a(27145),R=a(33146),O=a(40253),W=a(45886),K=a(2415),Z=a(35884),U=a(77078),H=a(20301),Q=a(87463),j=a(83989),V=a(41089),X=a(81021),Y=a(51928),q=a(73309),J=a(42438),tt=a(7178),et=a(67009),at=a(4585),it=a(23984),nt=a(34748),st=a(93773),rt=a(6394),lt=a(97033),ct=a(37217),ot={ATKPercentage:{name:"ATKPercentage",chs:"攻击力%",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},DEFPercentage:{name:"DEFPercentage",chs:"防御力%",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},HPPercentage:{name:"HPPercentage",chs:"生命值%",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},ATKFixed:{name:"ATKFixed",chs:"攻击力",badge:g,genre:"Common",description:"",config:[{default:0,name:"value",title:"数值",type:"floatInput"}]},DEFFixed:{name:"DEFFixed",chs:"防御力",badge:g,genre:"Common",description:"",config:[{default:0,name:"value",title:"数值",type:"floatInput"}]},HPFixed:{name:"HPFixed",chs:"生命值",badge:g,genre:"Common",description:"",config:[{default:0,name:"value",title:"数值",type:"floatInput"}]},Critical:{name:"Critical",chs:"暴击率",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},CriticalDamage:{name:"CriticalDamage",chs:"暴击伤害",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},CustomBonus:{name:"CustomBonus",chs:"伤害加成",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},ElementalMastery:{name:"ElementalMastery",chs:"元素精通",badge:g,genre:"Common",description:"",config:[{default:0,name:"value",title:"数值",type:"floatInput"}]},Recharge:{name:"Recharge",chs:"元素充能效率",badge:g,genre:"Common",description:"",config:[{default:20,name:"p",title:"值",type:"floatPercentageInput"}]},DEFMinus:{name:"DEFMinus",chs:"减防",badge:g,genre:"Common",description:"百分比减防",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},ResMinus:{name:"ResMinus",chs:"减抗",badge:g,genre:"Common",description:"",config:[{default:0,name:"p",title:"数值",type:"floatPercentageInput"}]},AlbedoTalent2:{name:"AlbedoTalent2",chs:"阿贝多-「瓶中人的天慧」",badge:C,genre:"Character",description:"阿贝多天赋2：释放诞生式·大地之潮时,使附近的队伍中角色的元素精通提高125点，持续10秒",config:[]},AloyTalent1:{name:"AloyTalent1",chs:"埃洛伊-「战斗覆盖」",badge:v,genre:"Character",description:"埃洛伊天赋1：埃洛伊获得冰尘雪野的线圈效果时，队伍中附近的其他角色的攻击力提升8%，持续10秒。",config:[]},AratakiIttoC4:{name:"AratakiIttoC4",chs:"荒泷一斗-「奉行牢狱，茶饭之所」",badge:b,genre:"Character",description:"荒泷一斗命座4：最恶鬼王•一斗轰临！！施加的「怒目鬼王」状态结束后，附近的队伍中所有角色的防御力提升20%，攻击力提升20%，持续10秒。",config:[]},BeidouC6:{name:"BeidouC6",chs:"北斗-「北斗祓幽孽」",badge:y,genre:"Character",description:"北斗命座6：斫雷持续期间，周围敌人的雷元素抗性降低15%。",config:[]},BennettQ:{name:"BennettQ",chs:"班尼特-「美妙旅程」",badge:S,genre:"Character",description:"班尼特Q技能：基于班尼特的基础攻击力，以一定比例获得攻击力加成<br>一命：美妙旅程的攻击力提升效果不再有血量限制，数值上追加班尼特基础攻击力的20%。",config:[{default:800,name:"base_atk",title:"班尼特的基础攻击力",type:"floatInput"},{default:!0,name:"c1",title:"是否1命",type:"bool"},{default:10,max:15,min:1,name:"skill3",title:"技能等级",type:"int"}]},BennettC6:{name:"BennettC6",chs:"班尼特-「烈火与勇气」",badge:S,genre:"Character",description:"班尼特命座6：处在美妙旅程领域内的队伍中当前场上单手剑、双手剑、长柄武器角色获得15%火元素伤害加成<br>注：此处不管当前角色的武器类型",config:[]},ChongyunTalent2:{name:"ChongyunTalent2",chs:"重云-「追冰剑诀」",badge:k,genre:"Character",description:"重云天赋2：灵刃·重华叠霜领域消失时，会唤出一柄灵刃自动攻击附近的敌人，造成相当于灵刃·重华叠霜技能伤害100%的冰元素范围伤害。被击中的敌人冰元素抗性降低10%，持续8秒。",config:[]},DionaC6G50:{name:"DionaC6G50",chs:"迪奥娜-「猫尾打烊之时」",badge:_,genre:"Character",description:"迪奥娜命座6：生命值高于50%时，元素精通提升200。",config:[]},GanyuTalent2:{name:"GanyuTalent2",chs:"甘雨-「天地交泰」",badge:x,genre:"Character",description:"甘雨天赋2：降众天华领域内的队伍中当前场上角色获得20%冰元素伤害加成。",config:[]},GanyuC1:{name:"GanyuC1",chs:"甘雨-「饮露」",badge:x,genre:"Character",description:"甘雨命座1：二段蓄力重击的霜华矢或霜华绽发命中敌人时，会使敌人的冰元素抗性降低15%，持续6秒。",config:[]},GorouE1:{name:"GorouE1",chs:"五郎-「大将旗指物」-1",badge:w,genre:"Character",description:"五郎E技能：一名角色时：「坚牢」：防御力提升。",config:[{default:10,max:15,min:1,name:"skill2",title:"五郎E技能等级",type:"int"}]},GorouE3:{name:"GorouE3",chs:"五郎-「大将旗指物」-3",badge:w,genre:"Character",description:"五郎E技能：三名角色时：「摧碎」：除上述效果外，获得岩元素伤害加成。",config:[]},GorouTalent1:{name:"GorouTalent1",chs:"五郎-「不畏风雨」",badge:w,genre:"Character",description:"五郎天赋1：施放兽牙逐突形胜战法后的12秒内，附近的队伍中所有角色的防御力提升25%。",config:[]},GorouC6:{name:"GorouC6",chs:"五郎-「犬勇•忠如山」",badge:w,genre:"Character",description:"五郎命座6：施放犬坂吠吠方圆阵或兽牙逐突形胜战法后的12秒内，依据施放时的领域等级，提高附近的队伍中所有角色岩元素伤害的暴击伤害。",config:[{default:1,max:3,min:1,name:"level",title:"领域等级",type:"int"}]},HuTaoTalent1:{name:"HuTaoTalent1",chs:"胡桃-「蝶隐之时」",badge:A,genre:"Character",description:"胡桃天赋1：蝶引来生施加的彼岸蝶舞状态结束后，队伍中所有角色（不包括胡桃自己）的暴击率提高12%，持续8秒。",config:[]},JeanC4:{name:"JeanC4",chs:"琴-「蒲公英的国土」",badge:N,genre:"Character",description:"琴命座4：在蒲公英之风的领域内，所有敌人的风元素抗性下降40％。",config:[]},KaedeharaKazuhaTalent2:{name:"KaedeharaKazuhaTalent2",chs:"枫原万叶-「风物之诗咏」",badge:I,genre:"Character",description:"枫原万叶天赋2：枫原万叶触发扩散反应后，枫原万叶的每点元素精通，会为队伍中所有角色提供0.04%对应元素伤害加成，持续8秒。",config:[{default:"Electro",name:"element",title:"扩散元素",type:"element4"},{default:800,name:"em",title:"万叶的元素精通",type:"floatInput"}]},KaedeharaKazuhaC2:{name:"KaedeharaKazuhaC2",chs:"枫原万叶-「山岚残芯」",badge:I,genre:"Character",description:"枫原万叶命座2：场上角色的元素精通提升200点。",config:[]},KamisatoAyakaC4:{name:"KamisatoAyakaC4",chs:"神里绫华-「盈缺流返」",badge:F,genre:"Character",description:"绫华命座4：敌人受到神里流•霜灭的霜见雪关扉造成的伤害后，防御力降低30%，持续6秒。",config:[]},KleeC2:{name:"KleeC2",chs:"可莉-「破破弹片」",badge:D,genre:"Character",description:"可莉命座2：蹦蹦炸弹的诡雷会使敌人防御力降低23％，持续10秒。",config:[]},KleeC6:{name:"KleeC6",chs:"可莉-「火力全开」",badge:D,genre:"Character",description:"可莉命座6：施放轰轰火花后的25秒内，队伍中所有角色获得10％火元素伤害加成。",config:[]},KujouSaraEOrQ:{name:"KujouSaraEOrQ",chs:"九条裟罗-「天狗咒雷」",badge:M,genre:"Character",description:"九条裟罗E/Q技能：基于九条裟罗的基础攻击力，以一定比例获得攻击力加成<br>六命：处于天狗咒雷带来的攻击力提升效果状态下的角色，其雷元素伤害的暴击伤害提高60%。",config:[{default:700,name:"base_atk",title:"九条裟罗的基础攻击力",type:"floatInput"},{default:!1,name:"c6",title:"是否六命",type:"bool"},{default:10,max:15,min:1,name:"skill2",title:"E技能等级",type:"int"}]},LisaTalent2:{name:"LisaTalent2",chs:"丽莎-「静电场力」",badge:T,genre:"Character",description:"丽莎天赋2：敌人受到蔷薇的雷光攻击后，降低15%防御力，持续10秒。",config:[]},MonaQ:{name:"MonaQ",chs:"莫娜-「星异」",badge:E,genre:"Character",description:"莫娜Q技能：对敌人施加星异的伤害加成效果，并以此提高这一次造成的伤害。四命：队伍中所有角色攻击处于星异状态下的敌人时，暴击率提升15%",config:[{default:9,max:15,min:1,name:"skill3",title:"Q技能等级",type:"int"},{default:!1,name:"c4",title:"是否4命",type:"bool"}]},MonaC1:{name:"MonaC1",chs:"莫娜-「沉没的预言」",badge:E,genre:"Character",description:"莫娜命座1：队伍中自己的角色攻击命中处于星异状态下的敌人后的8秒内，水元素相关反应的效果提升：<br>•感电反应造成的伤害提升15%，蒸发反应造成的伤害提升15%，水元素扩散反应造成的伤害提升15%",config:[]},NingguangTalent2:{name:"NingguangTalent2",chs:"凝光-「储之千日，用之一刻」",badge:P,genre:"Character",description:"凝光天赋2：穿过璇玑屏的角色会获得12%岩元素伤害加成，持续10秒。",config:[]},RaidenShogunE:{name:"RaidenShogunE",chs:"雷电将军-「雷罚恶曜之眼」",badge:$,genre:"Character",description:"雷电将军E技能：雷罚恶曜之眼的角色在持续期间内，元素爆发造成的伤害获得提升，提升程度基于元素爆发的元素能量。",config:[{default:8,max:15,min:1,name:"skill2",title:"雷电将军E技能等级",type:"int"},{default:80,max:100,min:20,name:"energy",title:"受BUFF角色最大元素能量",type:"int"}]},RaidenShogunC4:{name:"RaidenShogunC4",chs:"雷电将军-「誓奉常道」",badge:$,genre:"Character",description:"雷电将军命座4：奥义•梦想真说施加的梦想一心状态结束后，附近的队伍中所有角色（不包括雷电将军自己）的攻击力提升30%，持续10秒。",config:[]},RazorC4:{name:"RazorC4",chs:"雷泽-「撕咬」",badge:z,genre:"Character",description:"雷泽命座4：利爪与苍雷点按时，会使命中的敌人防御力降低15％，持续7秒。",config:[]},RosariaTalent2:{name:"RosariaTalent2",chs:"罗莎莉亚-「暗中支援的黯色」",badge:B,genre:"Character",description:"罗莎莉亚天赋2：施放终命的圣礼时，基于自身暴击率的15%，提高附近的队伍中所有角色(不包括罗莎莉亚自己)的暴击率，持续10秒。通过这种方式获得的暴击率提升，无法超过15%。",config:[{default:70,name:"crit",title:"罗莎莉亚的暴击率",type:"floatPercentageInput"}]},RosariaC6:{name:"RosariaC6",chs:"罗莎莉亚-「代行裁判」",badge:B,genre:"Character",description:"罗莎莉亚命座6：终命的圣礼的攻击会使敌人的物理抗性降低20%，持续10秒。",config:[]},ShenheE:{name:"ShenheE",chs:"申鹤-「冰翎」",badge:G,genre:"Character",description:"申鹤E技能：基于申鹤自己当前的攻击力，提高造成的伤害。",config:[{default:3e3,name:"atk",title:"申鹤的攻击力",type:"floatInput"},{default:8,max:15,min:1,name:"skill2",title:"申鹤E技能等级",type:"int"}]},ShenheQ:{name:"ShenheQ",chs:"申鹤-「神女遣灵真诀」减抗",badge:G,genre:"Character",description:"申鹤Q技能：「箓灵」将结成领域，使其中敌人的冰元素抗性与物理抗性降低。",config:[{default:8,max:15,min:1,name:"skill3",title:"申鹤Q技能等级",type:"int"}]},ShenheTalent1:{name:"ShenheTalent1",chs:"申鹤-「大洞弥罗尊法」",badge:G,genre:"Character",description:"申鹤天赋1：处于神女遣灵真诀的领域中的当前场上角色，冰元素伤害加成提高15%。二命：领域中的当前场上角色，冰元素伤害的暴击伤害提高15%。",config:[{default:!1,name:"c2",title:"是否二命",type:"bool"}]},ShenheTalent2:{name:"ShenheTalent2",chs:"申鹤-「缚灵通真法印」",badge:G,genre:"Character",description:"申鹤天赋2：申鹤施放仰灵威召将役咒后，将使附近的队伍中所有角色获得如下效果：<br>•点按：元素战技和元素爆发造成的伤害提高15%，持续10秒；<br>•长按：普通攻击、重击和下落攻击造成的伤害提高15%，持续15秒。",config:[{default:0,name:"t",options:["点按","长按"],title:"技能释放方式",type:"option"}]},SucroseTalent1:{name:"SucroseTalent1",chs:"砂糖-「触媒置换术」",badge:L,genre:"Character",description:"砂糖天赋1：砂糖触发扩散反应时，使队伍中所有对应元素类型的角色（不包括砂糖自己）元素精通提升50，持续8秒。",config:[]},SucroseTalent2:{name:"SucroseTalent2",chs:"砂糖-「小小的慧风」",badge:L,genre:"Character",description:"砂糖天赋2：风灵作成·陆叁零捌或禁·风灵作成·染伍同构贰型命中敌人时，基于砂糖元素精通的20%,为队伍中所有角色（不包括砂糖自己）提供元素精通加成，持续8秒。",config:[{default:200,name:"em",title:"砂糖的元素精通",type:"floatInput"}]},SucroseC6:{name:"SucroseC6",chs:"砂糖-「混元熵增论」",badge:L,genre:"Character",description:"砂糖命座6：禁·风灵作成·柒伍同构贰型如果发生了元素转化，则使队伍中所有角色在技能持续时间内获得20%的对应元素伤害加成。",config:[{default:"Electro",name:"element",title:"扩散类型",type:"element4"}]},ThomaTalent1:{name:"ThomaTalent1",chs:"托马-「甲衣交叠」",badge:R,genre:"Character",description:"托马天赋1：当前场上自己的角色获取或刷新烈烧佑命护盾时，护盾强效提升5%，持续时间6秒。此效果每0.3秒至多触发一次，至多叠加5次。",config:[{default:2,max:5,min:0,name:"stack",title:"叠加层数",type:"float"}]},ThomaC6:{name:"ThomaC6",chs:"托马-「炽烧的至心」",badge:R,genre:"Character",description:"托马命座6：获取或刷新烈烧佑命护盾时，队伍中所有角色的普通攻击，重击与下落攻击造成的伤害提升15%，持续6秒。",config:[]},VentiC2:{name:"VentiC2",chs:"温迪-「眷恋的泠风」",badge:O,genre:"Character",description:"温迪命座2：高天之歌会使敌人的风元素抗性与物理抗性降低12％，持续10秒。被高天之歌击飞的敌人在落地前，风元素抗性与物理抗性额外降低12％。",config:[{default:!1,name:"levitating",title:"落地前",type:"bool"}]},VentiC6:{name:"VentiC6",chs:"温迪-「抗争的暴风」",badge:O,genre:"Character",description:"温迪命座6：温迪六命BUFF。受风神之诗伤害的敌人，风元素抗性降低20％。若产生了元素转化，则使转换的元素抗性也降低20％。",config:[{default:!0,name:"is_convert",title:"发生了元素转化",type:"bool"},{default:"Electro",name:"element",title:"转化类型",type:"element4"}]},XianglingTalent2:{name:"XianglingTalent2",chs:"香菱-「绝云朝天椒」",badge:W,genre:"Character",description:"香菱天赋2：锅巴出击效果结束时，锅巴会在消失的位置留下辣椒。拾取辣椒会提高10%攻击力，持续10秒。",config:[]},XianglingC1:{name:"XianglingC1",chs:"香菱-「外酥里嫩」",badge:W,genre:"Character",description:"香菱命座1：受到锅巴攻击的敌人，火元素抗性降低15％，持续6秒。",config:[]},XianglingC6:{name:"XianglingC6",chs:"香菱-「大龙卷旋火轮」",badge:W,genre:"Character",description:"香菱命座6；旋火轮持续期间，队伍中所有角色获得15％火元素伤害加成。",config:[]},XingqiuC2:{name:"XingqiuC2",chs:"行秋-「天青现虹」",badge:K,genre:"Character",description:"行秋命座2：受到剑雨攻击的敌人，水元素抗性降低15％，持续4秒。",config:[]},XinyanC4:{name:"XinyanC4",chs:"辛焱-「节奏的传染」",badge:Z,genre:"Character",description:"辛焱命座4：热情拂扫的伤害，会使敌人的物理抗性降低15%，持续12秒。",config:[]},XinyanTalent2:{name:"XinyanTalent2",chs:"辛焱-「这才是摇滚!」",badge:Z,genre:"Character",description:"辛焱天赋2：处于热情拂扫的护盾保护下的角色造成的物理伤害提高15%。",config:[]},YaeMikoC4:{name:"YaeMikoC4",chs:"八重神子-「绯樱引雷章」",badge:U,genre:"Character",description:"八重神子命座4：杀生樱的落雷命中敌人后，队伍中附近的所有角色获得20%雷元素伤害加成，持续5秒。",config:[]},YoimiyaTalent2:{name:"YoimiyaTalent2",chs:"宵宫-「炎昼风物诗」",badge:H,genre:"Character",description:"宵宫天赋2：释放琉金云间草后的15秒内，附近的队伍中所有其它角色（不包括宵宫自己）攻击力提高10%。此外，依据宵宫自己释放琉金云间草时固有天赋「袖火百景图」的叠加层数，将额外提升上述的攻击力效果，每层提升1%攻击力。",config:[{default:0,max:10,min:0,name:"talent1_stack",title:"「袖火百景图」叠加层数",type:"int"}]},YunjinQ:{name:"YunjinQ",chs:"云堇-「飞云旗阵」",badge:Q,genre:"Character",description:"云堇Q技能：对敌人造成普通攻击伤害时，基于云堇自己当前的防御力，提高造成的伤害。<br>天赋「莫从恒蹊」：「飞云旗阵」提供的普通攻击伤害提高，当队伍中存在1/2/3/4种元素类型的角色时，数值上进一步追加云堇防御力的2.5%/5.0%/7.5%/11.5%。",config:[{default:10,max:15,min:1,name:"skill3",title:"Q技能等级",type:"int"},{default:2e3,name:"def",title:"云堇的防御力",type:"floatInput"},{default:!0,name:"talent2",title:"60级突破",type:"bool"},{default:4,max:4,min:1,name:"ele_count",title:"队伍不同属性数量",type:"int"}]},YunjinC2:{name:"YunjinC2",chs:"云堇-「诸般切末」",badge:Q,genre:"Character",description:"云堇命座2：施放破嶂见旌仪后，附近队伍中所有角色普通攻击造成的伤害提高15%，持续12秒。",config:[]},ZhongliShield:{name:"ZhongliShield",chs:"钟离-「玉璋护盾」",badge:j,genre:"Character",description:"钟离盾：使附近小范围内敌人的所有元素抗性与物理抗性降低20%",config:[]},FreedomSworn:{name:"FreedomSworn",chs:"苍古自由之誓-「千年的大乐章·抗争之歌」",badge:V,genre:"Weapon",description:"「千年的大乐章·抗争之歌」效果：普通攻击、重击、下落攻击造成的伤害提升16%/20%/24%/28%/32%，攻击力提升20%/25%/30%/35%/40%。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"}]},SongOfBrokenPines:{name:"SongOfBrokenPines",chs:"松籁响起之时-「千年的大乐章·揭旗之歌」",badge:X,genre:"Weapon",description:"「千年的大乐章·揭旗之歌」效果：普通攻击速度提升12%/15%/18%/21%/24%，攻击力提升20%/25%/30%/35%/40%。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"}]},WolfsGravestone:{name:"WolfsGravestone",chs:"狼的末路-「如狼般狩猎者」",badge:Y,genre:"Weapon",description:"攻击命中生命值低于30%的敌人时，队伍中所有成员的攻击力提高40%/50%/60%/70%/80%，持续12秒。该效果30秒只能触发一次。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"}]},ThrillingTalesOfDragonSlayers:{name:"ThrillingTalesOfDragonSlayers",chs:"讨龙英杰谭-「传承」",badge:q,genre:"Weapon",description:"传承：主动切换角色时，新登场的角色攻击力提升24%/30%/36%/42%/48%，持续10秒。该效果每20秒只能触发一次。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"}]},ElegyOfTheEnd:{name:"ElegyOfTheEnd",chs:"终末嗟叹之诗-「千年的大乐章·别离之歌」",badge:J,genre:"Weapon",description:"千年的大乐章·别离之歌」效果：元素精通提高100/125/150/175/200点，攻击力提升20%/25%/30%/35%/40%。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"}]},HakushinRing:{name:"HakushinRing",chs:"白辰之环-「樱之斋宫」",badge:tt,genre:"Weapon",description:"樱之斋宫：装备该武器的角色触发雷元素相关反应后，队伍中附近的与该元素反应相关的元素类型的角色，获得10%/12.5%/15%/17.5%/20%对应元素的元素伤害加成，持续6秒。通过这种方式，角色获得的元素伤害加成无法叠加。",config:[{default:1,max:5,min:1,name:"refine",title:"精炼",type:"intInput"},{default:"Electro",name:"element",title:"元素",type:"element8"}]},ResonancePyro2:{name:"ResonancePyro2",chs:"元素共鸣-热诚之火",badge:et,genre:"Resonance",description:"攻击力提升25%。",config:[]},ResonanceCryo2:{name:"ResonanceCryo2",chs:"元素共鸣-粉碎之冰",badge:at,genre:"Resonance",description:"攻击冰元素附着或冻结状态下的敌人时，暴击率提高15%。",config:[{default:1,max:1,min:0,name:"rate",title:"应用比例",type:"float"}]},ResonanceGeo2:{name:"ResonanceGeo2",chs:"元素共鸣-坚定之岩",badge:it,genre:"Resonance",description:"护盾强效提升15%。角色处于护盾保护状态时，①造成的伤害提升15%，对敌人造成伤害时会使敌人的的②岩元素抗性降低20%，持续15秒。",config:[{default:1,max:1,min:0,name:"rate1",title:"效果①比例",type:"float"},{default:1,max:1,min:0,name:"rate2",title:"效果②比例",type:"float"}]},Instructor4:{name:"Instructor4",chs:"教官4",badge:nt,genre:"Artifact",description:"触发元素反应后。队伍中所有角色元素精通提高120点，持续8秒。",config:[]},NoblesseOblige4:{name:"NoblesseOblige4",chs:"昔日宗室之仪4",badge:st,genre:"Artifact",description:"施放元素爆发后，队伍中所有角色攻击力提升20％，持续12秒。该效果不可叠加。",config:[]},ArchaicPetra4:{name:"ArchaicPetra4",chs:"悠古的磐岩4",badge:rt,genre:"Artifact",description:"获得结晶反应形成的晶片时，队伍中所有角色获得35%对应元素伤害加成，持续10秒。",config:[{default:"Electro",name:"element",title:"结晶元素",type:"element4"}]},ViridescentVenerer4:{name:"ViridescentVenerer4",chs:"翠绿之影4",badge:lt,genre:"Artifact",description:"根据扩散的元素类型，降低受到影响的敌人40%的对应元素抗性，持续10秒。",config:[{default:"Electro",name:"element",title:"扩散元素",type:"element4"}]},TenacityOfTheMillelith4:{name:"TenacityOfTheMillelith4",chs:"千岩牢固4",badge:ct,genre:"Artifact",description:"元素战技命中敌人后，使队伍中附近的所有角色攻击力提升20%，护盾强效提升30%，持续3秒。",config:[]}};Object.freeze(ot);const ft=ot;let mt={};for(let _a in ot){const t=ot[_a],e=t.genre;Object.prototype.hasOwnProperty.call(mt,e)||(mt[e]=[]),mt[e].push(t)}for(let _a in mt)mt[_a].sort(((t,e)=>t.chs.localeCompare(e.chs)));Object.freeze(mt);let ut=[];for(let _a in ot)ut.push(ot[_a]);Object.freeze(ut);const ht=ut;var dt=a(36110),pt=a(44368);function gt(t,e){const i=new Worker(new URL(a.p+a.u(230),a.b));let n;const s=new Promise(((a,s)=>{n=()=>{s("计算被中止")},i.onmessage=n=>{if("ready"===n.data.type)i.postMessage({optimizeConfig:t,artifacts:e});else{const t=n.data.data.results;a(t)}},i.onerror=t=>{console.error(t),s("计算发生错误")}})).finally((()=>{i.terminate()}));return[s,n]}var Ct=a(4016),vt=a(93972),bt=a(79699),yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},[a("el-option",{attrs:{label:"70突破",value:"70+"}}),a("el-option",{attrs:{label:"80突破",value:"80+"}}),a("el-option",{attrs:{label:"90",value:"90-"}})],1)},St=[],kt={name:"SelectCharacterLevel",props:["value"]},_t=kt,xt=a(1001),wt=(0,xt.Z)(_t,yt,St,!1,null,null,null),At=wt.exports,Nt=a(16746),It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},[a("el-option",{attrs:{label:"60突破",value:"60+"}}),a("el-option",{attrs:{label:"70突破",value:"70+"}}),a("el-option",{attrs:{label:"80突破",value:"80+"}}),a("el-option",{attrs:{label:"90",value:"90-"}})],1)},Ft=[],Dt={name:"SelectWeaponLevel",props:["value"]},Mt=Dt,Tt=(0,xt.Z)(Mt,It,Ft,!1,null,null,null),Et=Tt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,placeholder:"目标函数",size:"small"},on:{input:function(e){return t.$emit("input",e)}}},[t.characterTargetFunctionList?a("el-option-group",{attrs:{label:"角色专属"}},t._l(t.characterTargetFunctionList,(function(e){return a("el-option",{key:e.name,attrs:{label:e.chs,value:e.name}},[a("div",{staticClass:"option-root"},[a("img",{staticClass:"option-badge",attrs:{src:e.badge}}),a("div",{staticClass:"option-body"},[a("p",{staticClass:"option-title"},[t._v(t._s(e.chs))])])])])})),1):t._e(),t.commonTargetFunctionList?a("el-option-group",{attrs:{label:"通用"}},t._l(t.commonTargetFunctionList,(function(e){return a("el-option",{key:e.name,attrs:{label:e.chs,value:e.name}},[a("div",{staticClass:"option-root"},[a("img",{staticClass:"option-badge",attrs:{src:e.badge}}),a("div",{staticClass:"option-body"},[a("p",{staticClass:"option-title"},[t._v(t._s(e.chs))])])])])})),1):t._e()],1)},$t=[],zt={name:"SelectTargetFunction",props:{value:{},characterName:{default:"Amber"}},created(){this.commonTargetFunctionList=p.e.common},computed:{characterTargetFunctionList(){return p.e[this.characterName]}},watch:{characterName:function(t,e){const a=p.e[t];a.length>0&&this.$emit("input",a[0].name)}}},Bt=zt,Gt=(0,xt.Z)(Bt,Pt,$t,!1,null,"49564ff2",null),Lt=Gt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-cascader",{staticStyle:{width:"50%"},attrs:{value:t.value,options:t.options,props:{expandTrigger:"hover",emitPath:!1},size:"small"},on:{change:function(e){return t.$emit("input",e)}}})},Ot=[],Wt={name:"SelectCharacterSkill",props:["characterName","value"],computed:{options(){const t=h.O[this.characterName],e=[];for(let a=0;a<3;a++){const i=a+1,n=t[`skillMap${i}`];n.length>0&&e.push({label:t[`skillName${i}`],value:t[`skillName${i}`],children:n.map((t=>({label:t.chs,value:t.index})))})}return e}}},Kt=Wt,Zt=(0,xt.Z)(Kt,Rt,Ot,!1,null,null,null),Ut=Zt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticStyle:{"margin-bottom":"16px"},attrs:{size:"medium",placeholder:"搜索",clearable:""},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}},[a("template",{slot:"append"},[a("i",{staticClass:"el-icon-search"})])],2),a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t._l(t.genres,(function(e){return[a("el-tab-pane",{key:e.name,staticClass:"tab-pane mona-scroll",attrs:{label:e.chs,name:e.name}},t._l(t.buffByGenre[e.name],(function(e){return a("div",{key:e.name,staticClass:"buff-item",on:{click:function(a){return t.handleClick(e.name)}}},[a("img",{staticClass:"buff-image",attrs:{src:e.badge}}),a("div",{staticClass:"detail-right"},[a("p",{staticClass:"buff-name"},[t._v(t._s(e.chs))]),a("p",{staticClass:"buff-description",domProps:{innerHTML:t._s(e.description)}})])])})),0)]}))],2)],1)},Qt=[],jt=a(81289),Vt=a.n(jt);const Xt=[{name:"Character",chs:"角色引发的BUFF"},{name:"Weapon",chs:"武器引发的BUFF"},{name:"Artifact",chs:"圣遗物引发的BUFF"},{name:"Resonance",chs:"元素共鸣"},{name:"Common",chs:"自定义"}],Yt=new(Vt())(ht,{keys:["chs","description"]});var qt={name:"SelectBuff",props:{selectable:{default:!1}},created(){this.genres=Xt},data(){return{activeTab:"Character",searchString:""}},methods:{handleClick(t){this.selectable||this.$emit("select",t)}},computed:{filteredBuffFlat(){if(""===this.searchString)return ht;const t=Yt.search(this.searchString);return t.map((t=>t.item))},buffByGenre(){let t={};for(let e of this.filteredBuffFlat)Object.prototype.hasOwnProperty.call(t,e.genre)||(t[e.genre]=[]),t[e.genre].push(e);return t}}},Jt=qt,te=(0,xt.Z)(Jt,Ht,Qt,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.handleClickLevel}},[a("div",{},t._l(t.max-t.min+1,(function(e){return a("span",{key:e,staticClass:"select-small-int",class:{active:e+t.min-1===t.value}},[t._v(t._s(e+t.min-1))])})),0)])},ie=[],ne={name:"SelectSmallInt",props:{value:{type:Number},min:{type:Number},max:{type:Number}},methods:{handleClickLevel(t){if(!t.target.classList.contains("select-small-int"))return;let e=t.target.textContent;this.$emit("input",Number(e))}},computed:{}},se=ne,re=(0,xt.Z)(se,ae,ie,!1,null,"224c4694",null),le=re.exports,ce=a(24044),oe=a(96186),fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.tableData,size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"类型"}}),a("el-table-column",{attrs:{prop:"expectation",label:"期望伤害"}}),a("el-table-column",{attrs:{prop:"critical",label:"暴击伤害"}}),a("el-table-column",{attrs:{prop:"nonCritical",label:"非暴击伤害"}})],1)],1)},me=[],ue={name:"DamageList",props:{analysisFromWasm:{}},data(){return{showDialog:!1}},methods:{},computed:{tableData(){const t=this.analysisFromWasm;if(!t)return[];const e=Math.round,a=[];if(this.analysisFromWasm.normal){let i;if(this.analysisFromWasm.is_heal)i="治疗";else{const e={Pyro:"火元素伤害",Hydro:"水元素伤害",Electro:"雷元素伤害",Cryo:"冰元素伤害",Dendro:"草元素伤害",Geo:"岩元素伤害",Anemo:"风元素伤害",Physical:"物理伤害"};i=e[t.element]}a.push({expectation:e(this.analysisFromWasm.normal.expectation),critical:e(this.analysisFromWasm.normal.critical),nonCritical:e(this.analysisFromWasm.normal.non_critical),name:i})}return this.analysisFromWasm.melt&&a.push({expectation:e(this.analysisFromWasm.melt.expectation),critical:e(this.analysisFromWasm.melt.critical),nonCritical:e(this.analysisFromWasm.melt.non_critical),name:"融化"}),this.analysisFromWasm.vaporize&&a.push({expectation:e(this.analysisFromWasm.vaporize.expectation),critical:e(this.analysisFromWasm.vaporize.critical),nonCritical:e(this.analysisFromWasm.vaporize.non_critical),name:"蒸发"}),a}}},he=ue,de=(0,xt.Z)(he,fe,me,!1,null,"9318c0d2",null),pe=de.exports,ge=a(89415),Ce=a(96581),ve=a(77921),be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buff-root"},[a("div",{staticClass:"top",class:{lock:this.lock}},[a("p",{staticClass:"buff-title"},[t._v(t._s(t.data.chs))]),a("div",{staticClass:"buttons"},[a("el-button",{staticClass:"button",attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.$emit("delete")}}}),a("el-button",{staticClass:"button",attrs:{type:"text",icon:t.lock?"el-icon-unlock":"el-icon-lock",size:"mini"},on:{click:function(e){return t.$emit("toggle")}}})],1)]),a("div",{staticClass:"detail"},[a("img",{attrs:{src:t.data.badge}}),a("div",[t.data.description?a("p",[a("span",{domProps:{innerHTML:t._s(t.data.description)}})]):t._e()])]),t.data.config.length>0?a("item-config",{attrs:{value:t.buffConfig,"item-name":t.buff.name,configs:t.data.config},on:{input:t.handleChangeConfig}}):t._e()],1)},ye=[],Se={name:"BuffItem",components:{ItemConfig:ve.Z},props:["buff","buffConfig"],methods:{handleChangeConfig(t){this.$emit("update:buffConfig",t)}},computed:{data(){return ft[this.buff.name]},lock(){return this.buff.lock}}},ke=Se,_e=(0,xt.Z)(ke,be,ye,!1,null,"2b34214c",null),xe=_e.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("img",{staticClass:"image",attrs:{src:t.data.url}}),a("div",{staticClass:"detail-body"},[a("p",{staticClass:"name"},[t._v(t._s(t.data.chs))]),t.data.effect?a("p",{staticClass:"description"},[t._v(t._s(t.data.effect))]):t._e()])])},Ae=[],Ne={name:"WeaponDisplay",props:{weaponName:{}},computed:{data(){return d.G[this.weaponName]}}},Ie=Ne,Fe=(0,xt.Z)(Ie,we,Ae,!1,null,"0516ba5c",null),De=Fe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"title"},[t._v("选择收藏夹")]),a("el-checkbox-group",{attrs:{min:1},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.directories,(function(e){return a("el-checkbox",{key:e.id,staticClass:"dir-item",attrs:{label:e.id,border:""}},[t._v(t._s(e.title))])})),1),a("p",{staticClass:"title"},[t._v("名称")]),a("el-input",{attrs:{placeholder:"输入名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("div",{staticClass:"buttons",staticStyle:{"text-align":"right","margin-top":"32px"}},[a("el-button",{attrs:{type:"primary",disabled:""===t.name},on:{click:t.handleConfirm}},[t._v("确定")])],1)],1)},Te=[],Ee={name:"SaveAsKumi",props:{defaultName:{type:String,default:""}},data(){return{name:this.defaultName,checkList:[0]}},watch:{defaultName(t){this.name=t}},methods:{getCheckedDirIds(){const t=this.$refs["checkbox"];if(!t)return[];let e=new Set;for(let a of t)a.isChecked&&e.add(a.$attrs["x-id"]);return Array.from(e)},handleConfirm(){const t=this.checkList;this.$emit("confirm",{dirIds:t,name:this.name})}},computed:{...(0,s.mapGetters)("kumi",["directories","dirNames"])}},Pe=Ee,$e=(0,xt.Z)(Pe,Me,Te,!1,null,"873df7ea",null),ze=$e.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{attrs:{data:t.tableDataForElementUI,size:"small"}},[a("el-table-column",{attrs:{prop:"chs",label:"类型"}}),a("el-table-column",{attrs:{label:"伤害"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return["感电"===i.chs?a("span",{staticStyle:{color:"#c250ff"}},[t._v(t._s(i.value.toFixed(1)))]):"超载"===i.chs?a("span",{staticStyle:{color:"#ff335a"}},[t._v(t._s(i.value.toFixed(1)))]):a("span",[t._v(t._s(i.value.toFixed(1)))])]}}])})],1)},Ge=[],Le={name:"TransformativeDamage",props:["data"],computed:{tableDataForElementUI(){if(!this.data)return[];let t=[];return t.push({chs:"感电",value:this.data.electro_charged}),t.push({chs:"超载",value:this.data.overload}),t.push({chs:"碎冰",value:this.data.shatter}),t.push({chs:"超导",value:this.data.superconduct}),t.push({chs:"扩散（雷）",value:this.data.swirl_electro}),t.push({chs:"扩散（火）",value:this.data.swirl_pyro}),t.push({chs:"扩散（冰）",value:this.data.swirl_cryo}),t.push({chs:"扩散（水）",value:this.data.swirl_hydro}),t}}},Re=Le,Oe=(0,xt.Z)(Re,Be,Ge,!1,null,"f4737b70",null),We=Oe.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"back",style:t.styleForBack}),a("span",{staticClass:"display"},[t.extra?a("span",[t._v(t._s(t.extra)+" /")]):t._e(),t._v(" "+t._s((100*t.value).toFixed(1))+"% ")])])},Ze=[],Ue={name:"ValueDisplay",props:{value:{},extra:{default:""}},computed:{styleForBack(){return{width:100*this.value+"%"}}}},He=Ue,Qe=(0,xt.Z)(He,Ke,Ze,!1,null,"5d671273",null),je=Qe.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("等级")]),a("el-input-number",{attrs:{value:t.value.level,min:60,max:100,size:"small"},on:{input:function(e){return t.handleInput("level",e)}}})],1),t._l(t.resNames,(function(e){return a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v(t._s(e.title))]),a("el-slider",{staticClass:"input",attrs:{value:t.value[e.name],min:-1,max:1,step:.1,"show-input":!0},on:{input:function(a){return t.handleInput(e.name,a)}}})],1)}))],2)},Xe=[];const Ye=[{name:"electro_res",title:"雷抗"},{name:"pyro_res",title:"火抗"},{name:"hydro_res",title:"水抗"},{name:"cryo_res",title:"冰抗"},{name:"geo_res",title:"岩抗"},{name:"anemo_res",title:"风抗"},{name:"dendro_res",title:"草抗"},{name:"physical_res",title:"物抗"}];Object.freeze(Ye);var qe={name:"EnemyConfig",props:["value"],created(){this.resNames=Ye},methods:{handleInput(t,e){let a=Object.assign({},this.value);a[t]=e,this.$emit("input",a)}}},Je=qe,ta=(0,xt.Z)(Je,Ve,Xe,!1,null,"ef0b9c08",null),ea=ta.exports,aa=a(60630),ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticStyle:{"margin-bottom":"16px"},attrs:{size:"medium",placeholder:"搜索",clearable:""},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}},[a("template",{slot:"append"},[a("i",{staticClass:"el-icon-search"})])],2),a("div",{staticClass:"config-items mona-scroll"},t._l(t.dataSearched,(function(e){return a("div",{key:e.name,staticClass:"item"},[a("div",{staticClass:"top"},[a("img",{staticClass:"image",attrs:{src:e.thumbnail}}),a("div",[a("h3",{staticClass:"artifact-title"},[t._v(t._s(e.chs))]),a("p",{staticStyle:{"font-size":"12px"}},[a("span",{staticClass:"effect-title"},[t._v("四件套：")]),a("span",[t._v(t._s(e.effect4))])])])]),a("item-config",{attrs:{value:t.value[e.snake],configs:e.config4,"need-item-name":!1},on:{input:function(a){return t.handleChangeValue(e.snake,a)}}})],1)})),0)],1)},na=[],sa={name:"ArtifactConfig",components:{ItemConfig:ve.Z},props:["value"],data(){return{searchString:""}},computed:{data(){let t=[];for(let e in dt.oN){const a=dt.oN[e],i=a.config4??[],n=a.name2;i.length>0&&t.push({name:n,snake:"config_"+(0,m.D1)(n),config4:i,effect4:a.effect4,thumbnail:(0,o.dd)(e),chs:a.chs})}return t},dataSearched(){if(""===this.searchString)return this.data;{const t=new(Vt())(this.data,{keys:["chs","effect4"]}),e=t.search(this.searchString);return e.map((t=>t.item))}}},methods:{handleChangeValue(t,e){let a=(0,m.p$)(this.value);a[t]=e,this.$emit("input",a)}}},ra=sa,la=(0,xt.Z)(ra,ia,na,!1,null,"90244e02",null),ca=la.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"导入预设",visible:t.visible,width:"80%"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"body"},t._l(t.presetsAllFlat,(function(e){return a("preset-item",{key:e.name,staticClass:"hand item",attrs:{toolbar:!1,item:e.item,name:e.name},on:{click:function(a){return t.handleClick(e.name)}}})})),1)])},fa=[],ma=a(98806),ua={name:"ApplyPresetDialog",components:{PresetItem:ma.Z},data(){return{visible:!1}},methods:{open(){this.visible=!0},handleClick(t){this.visible=!1,this.$emit("selected",t)}},computed:{...(0,s.mapGetters)("presets",{presetsAllFlat:"allFlat"})}},ha=ua,da=(0,xt.Z)(ha,oa,fa,!1,null,"378c9e60",null),pa=da.exports;let ga=!1,Ca=0;function va(){return{name:String(Ca++),ids:[-1,-1,-1,-1,-1],singleConfig:null}}var ba={name:"NewArtifactPlanPage",components:{SelectArtifactMainStat:aa.Z,SelectArtifact:Ct.Z,SelectArtifactSet:vt.Z,SelectCharacter:bt.Z,SelectCharacterLevel:At,SelectCharacterSkill:Ut,SelectWeapon:Nt.Z,SelectWeaponLevel:Et,SelectTargetFunction:Lt,SelectBuff:ee,SelectSmallInt:le,ArtifactDisplay:ce.Z,AddButton:oe.Z,DamagePanel:pe,MyButton1:ge.Z,DamageAnalysis:()=>a.e(130).then(a.bind(a,51130)),AttributePanel:Ce.Z,ItemConfig:ve.Z,BuffItem:xe,WeaponDisplay:De,ArtifactsSetStatistics:()=>a.e(641).then(a.bind(a,11641)),ArtifactPerStatBonus:()=>a.e(116).then(a.bind(a,37116)),SaveAsKumi:ze,TransformativeDamage:We,ValueDisplay:je,EnemyConfig:ea,ArtifactConfig:ca,ApplyPresetDialog:pa},created(){},mounted(){this.$refs["bigContainer"];const t=this.$refs["topThings"],e=t.offsetHeight+24;this.miscBigContainerHeight=`calc(100% - ${e}px)`},data(){const t=[va(),va()];return{characterName:"Amber",characterLevel:"90",characterConfig:"NoConfig",characterSkillConfig:"NoConfig",characterSkillIndex:0,characterSkill1:8,characterSkill2:8,characterSkill3:8,characterConstellation:0,weaponName:"PolarStar",weaponLevel:"90",weaponRefine:1,weaponConfig:{PolarStar:{stack:1}},constraintArtifactSet:[],constraintSandMainStats:[],constraintGobletMainStats:[],constraintHeadMainStats:[],algorithm:"AStar",max_result_num:5,constraintMinRecharge:1,constraintMinElementalMastery:0,constraintMinCritical:0,constraintMinCriticalDamage:0,enemyConfig:{level:90,electro_res:.1,pyro_res:.1,hydro_res:.1,cryo_res:.1,geo_res:.1,anemo_res:.1,dendro_res:.1,physical_res:.1},buffs:[],targetFunctionName:"AmberDefault",targetFunctionConfig:"NoConfig",optimizationResults:[],optimizationResultIndex:0,cancelOptimizeArtifact:null,artifactGroups:t,currentArtifactGroupName:t[0].name,artifactConfig:(0,o.s)(),artifactEffectMode:"auto",selectArtifactSlot:"any",showSelectArtifactDialog:!1,showDamageAnalysisDialog:!1,showSelectBuffDialog:!1,showConstraintDialog:!1,showArtifactAnalysisDialog:!1,showArtifactPerBonusDialog:!1,showSaveKumiDialog:!1,showUseKumiDialog:!1,showEnemyConfigDialog:!1,showConfigArtifactDialog:!1,miscBigContainerHeight:"",miscPerStatBonus:{},miscCurrentPresetName:null,characterDamageAnalysis:null,characterTransformativeDamage:null,savedPresetHash:null}},computed:{...(0,s.mapGetters)({artifactsById:"artifacts/artifactsById",allArtifactsFlat:"artifacts/allFlat"}),...(0,s.mapGetters)("kumi",{kumiTreeDataForElementUI:"treeDataForElementUI"}),...(0,s.mapGetters)("presets",{presetsAllFlat:"allFlat"}),enemyInterface(){return this.enemyConfig},kumiDefaultName(){let t=h.O[this.characterName].chs;for(const e in this.artifactSetCount)this.artifactSetCount[e]>=2&&(t+="-"+dt.oN[e].chs);return t},presetDefaultName(){const t=h.O[this.characterName].chs,e=d.G[this.weaponName].chs;return`${t}-${e}`},characterLevelNumber(){return parseInt(this.characterLevel)},characterAscend(){return this.characterLevel.includes("+")},characterSplash(){const t=h.O[this.characterName];return t.splash},characterNeedConfig(){let t=h.O[this.characterName].config;return t&&t.length>0},characterConfigConfig(){return h.O[this.characterName].config},characterNeedSkillConfig(){let t=h.O[this.characterName].configSkill;return t&&t.length>0},characterSkillConfigConfig(){return h.O[this.characterName].configSkill},characterWeaponType(){const t=h.O[this.characterName];return t?t.weapon:"Bow"},characterInterface(){let t={name:this.characterName,level:this.characterLevelNumber,ascend:this.characterAscend,constellation:this.characterConstellation,skill1:this.characterSkill1-1,skill2:this.characterSkill2-1,skill3:this.characterSkill3-1,params:this.characterConfig};return t},characterSkillInterface(){return{index:this.characterSkillIndex,config:this.characterSkillConfig}},weaponLevelNumber(){return parseInt(this.weaponLevel)},weaponAscend(){return this.weaponLevel.includes("+")},weaponSplash(){const t=d.G[this.weaponName];return t.gacha??t.url??t.tn},weaponNeedConfig(){return!!d.G[this.weaponName].configs},weaponConfigConfig(){return d.G[this.weaponName].configs},weaponInterface(){return{name:this.weaponName,level:this.weaponLevelNumber,ascend:this.weaponAscend,refine:this.weaponRefine,params:this.weaponConfig}},targetFunctionBadge(){return p.F[this.targetFunctionName].badge},targetFunctionDescription(){return p.F[this.targetFunctionName].description},targetFunctionInterface(){return{name:this.targetFunctionName,params:this.targetFunctionConfig}},targetFunctionNeedConfig(){const t=p.F[this.targetFunctionName].config;return t&&t.length>0},targetFunctionConfigConfig(){return p.F[this.targetFunctionName].config},artifactGroup(){return this.artifactGroups.find((t=>t.name===this.currentArtifactGroupName))},artifactIds:{get(){return this.artifactGroup.ids},set(t){this.artifactGroup.ids=t}},artifactItems(){let t=[];for(let e of this.artifactIds)this.artifactsById[e]?t.push(this.artifactsById[e]):t.push(null);return t},artifactWasmFormat(){let t=[];for(let e of this.artifactIds)if(-1!==e){const a=this.$store.getters["artifacts/artifactsById"][e];if(a&&!a.omit){const e=(0,c.Lz)(a);t.push(e)}}return t},artifactSetCount(){let t={};for(let e of this.artifactItems){if(!e)continue;const a=e.setName;Object.prototype.hasOwnProperty.call(t,a)||(t[a]=0),t[a]+=1}return t},artifactNeedConfig4(){for(let t in this.artifactSetCount){const e=this.artifactSetCount[t];if(e>=4){const e=dt.oN[t];if(e.config4&&e.config4.length>0)return t}}return null},artifactConfig4ItemName(){const t=(0,c.aA)(this.artifactNeedConfig4);return`config_${(0,m.D1)(t)}`},artifactEffect4Text(){if(!this.artifactNeedConfig4)return"";const t=dt.oN[this.artifactNeedConfig4];return t.effect4},artifactConfig4Configs(){if(this.artifactNeedConfig4){const t=dt.oN[this.artifactNeedConfig4];return t.config4}return[]},artifactSingleConfig:{get(){return this.artifactGroup.singleConfig},set(t){this.artifactGroup.singleConfig=t}},artifactConfigForCalculator(){let t=(0,o.s)();if(this.artifactNeedConfig4){let e=this.artifactConfig4ItemName;t[e]=this.artifactSingleConfig[e]}return t},constraintSetMode(){const t=this.constraintArtifactSet.some((t=>"any"===t)),e=this.constraintArtifactSet.filter((t=>"any"!==t)).map(c.aA),a=e.length;return 2===a?{Set22:e}:1===a?t?{Set2:e[0]}:{Set4:e[0]}:"Any"},constraintInterface(){let t={set_mode:this.constraintSetMode,hp_min:null,atk_min:null,def_min:null,recharge_min:this.constraintMinRecharge,em_min:this.constraintMinElementalMastery,crit_min:this.constraintMinCritical,crit_dmg_min:this.constraintMinCriticalDamage};return t},damageAnalysisWasmInterface(){return{character:this.characterInterface,weapon:this.weaponInterface,buffs:this.buffsInterface,artifacts:this.artifactWasmFormat,artifact_config:this.artifactConfigForCalculator,skill:this.characterSkillInterface,enemy:this.enemyInterface}},getAttributeWasmInterface(){return{character:this.characterInterface,weapon:this.weaponInterface,buffs:this.buffsInterface,artifacts:this.artifactWasmFormat,artifact_config:this.artifactConfigForCalculator}},attributeFromWasm(){return this.$mona.CommonInterface.get_attribute(this.getAttributeWasmInterface)},bonusPerStatWasmInterface(){return{character:this.characterInterface,weapon:this.weaponInterface,artifacts:this.artifactWasmFormat,tf:this.targetFunctionInterface,buffs:this.buffsInterface,artifacts_config:this.artifactConfigForCalculator}},buffsUnlocked(){return this.buffs.filter((t=>!t.lock))},buffsInterface(){let t=[];for(let e of this.buffsUnlocked)t.push({name:e.name,config:e.config});return t},presetItem(){const t=this.getOptimizeArtifactWasmInterface(),e={buffs:t.buffs,character:t.character,weapon:t.weapon,targetFunction:t.target_function,constraint:{setNames:this.constraintArtifactSet,minRecharge:this.constraintMinRecharge,minCritical:this.constraintMinCritical,minCriticalDamage:this.constraintMinCriticalDamage,minElementalMastery:this.constraintMinElementalMastery},filter:{sandMainStats:this.constraintSandMainStats,gobletMainStats:this.constraintGobletMainStats,headMainStats:this.constraintHeadMainStats},artifactConfig:this.artifactConfig,algorithm:this.algorithm,max_result_num:this.max_result_num,artifactEffectMode:this.artifactEffectMode};return e},presetDirty(){const t=l()(this.presetItem);return t!==this.savedPresetHash}},methods:{handleClickArtifactConfig(){this.showConfigArtifactDialog=!0},handleClickEnemyConfig(){this.showEnemyConfigDialog=!0},handleClickSetupOptimization(){this.showConstraintDialog=!0},async usePreset(t){const e=(0,u.kE)(t),a=(0,m.p$)(e.item);if(!a)return;for(let l of a.buffs)l.id=l.id??Math.floor(1e9*Math.random());this.buffs=a.buffs??[];const i=a.character;if(i){this.characterName=i.name,this.characterLevel=i.level.toString()+(i.ascend?"+":"-"),this.characterConstellation=i.constellation??0,this.characterSkill1=i.skill1+1,this.characterSkill2=i.skill2+1,this.characterSkill3=i.skill3+1,await this.$nextTick(),this.characterConfig=i.params;const t=a.weapon;t&&(this.weaponName=t.name,this.weaponLevel=t.level.toString()+(t.ascend?"+":"-"),this.weaponRefine=t.refine,await this.$nextTick(),this.weaponConfig=t.params)}const n=a.targetFunction;n&&(this.targetFunctionName=n.name,await this.$nextTick(),this.targetFunctionConfig=n.params);const s=a.constraint;s&&(this.constraintArtifactSet=s.setNames??[],this.constraintMinCriticalDamage=0,this.constraintMinCritical=0,this.constraintMinElementalMastery=0,this.constraintMinRecharge=1);const r=a.filter;r&&(this.constraintSandMainStats=r.sandMainStats??[],this.constraintGobletMainStats=r.gobletMainStats??[],this.constraintHeadMainStats=r.headMainStats??[]),this.algorithm=a.algorithm??"AStar",this.max_result_num=a.max_result_num??5,this.artifactEffectMode=a.artifactEffectMode??"auto",this.artifactConfig=a.artifactConfig??(0,o.s)()},async handleApplyPreset(t){await this.usePreset(t),this.miscCurrentPresetName=t,this.savedPresetHash=l()(this.presetItem)},async handleSavePreset(t){const e=(0,m.p$)(this.presetItem);t||(t=(await this.$prompt("输入名称（重复名称将覆盖）","存为预设",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[^\s]+$/,inputValue:this.presetDefaultName})).value,this.miscCurrentPresetName=e.name=t),(0,u.y0)(e,t),this.savedPresetHash=l()(this.presetItem),this.$message.success("已保存")},handleClickSaveAsKumi(){this.showSaveKumiDialog=!0},handleSaveAsKumi({dirIds:t,name:e}){let a=this.artifactIds.filter((t=>t));for(let i of t)(0,f.GV)(i,e,a);this.showSaveKumiDialog=!1},handleClickUseKumi(){this.showUseKumiDialog=!0},handleUseKumi(t){if(Object.prototype.hasOwnProperty.call(t,"kumiId")){const e=t.kumiId;this.showUseKumiDialog=!1;const a=(0,f.wJ)(e);let i={};for(let t of a){const e=this.artifactsById[t];e&&(i[e.position]=t)}let n=[];n.push(i.flower??null),n.push(i.feather??null),n.push(i.sand??null),n.push(i.cup??null),n.push(i.head??null),this.artifactIds=n}},getAllArtifactsFiltered(){const t=this.$refs["filterKumiRef"];let e=new Set;if(t){const a=t.getCheckedNodes(!0);for(let t of a){const a=t.kumiId,i=(0,f.wJ)(a);for(let t of i)e.add(t)}}for(let i of this.allArtifactsFlat){const t=i.position,a=i.mainTag.name,n=i.id;if("sand"===t){if(this.constraintSandMainStats.length>0){const t=this.constraintSandMainStats.indexOf(a);-1===t&&e.add(n)}}else if("cup"===t){if(this.constraintGobletMainStats.length>0){const t=this.constraintGobletMainStats.indexOf(a);-1===t&&e.add(n)}}else if("head"===t&&this.constraintHeadMainStats.length>0){const t=this.constraintHeadMainStats.indexOf(a);-1===t&&e.add(n)}}let a=[];for(let i of this.allArtifactsFlat)i.lock||e.has(i.id)||a.push(i);return a.filter((t=>!t.omit))},getAllArtifactsFilteredWasm(){return this.getAllArtifactsFiltered().map((t=>(0,c.Lz)(t)))},getOptimizeArtifactWasmInterface(){let t=null;return"custom"===this.artifactEffectMode&&(t=this.artifactConfig),{character:this.characterInterface,weapon:this.weaponInterface,target_function:this.targetFunctionInterface,constraint:this.constraintInterface,buffs:this.buffsInterface,artifact_config:t,algorithm:this.algorithm,max_result_num:this.max_result_num}},getArtifactsToBeCalculated(){const t=this.getAllArtifactsFilteredWasm(),e=t.filter((t=>t.level>=16));return e},handleArtifactTabsEdit(t,e){if("add"===e){const t=va();this.artifactGroups.push(t),this.currentArtifactGroupName=t.name}else if("remove"===e){const e=this.artifactGroups;this.currentArtifactGroupName===t&&e.forEach(((a,i)=>{if(a.name===t){const t=e[i+1]||e[i-1];this.currentArtifactGroupName=t.name}}));const a=this.artifactGroups.findIndex((e=>e.name===t));this.artifactGroups.splice(a,1)}},handleClickArtifactAnalysis(){this.showArtifactAnalysisDialog=!0},handleOptimizeArtifact(){const t=this.$loading({target:this.$refs.bigContainer.$el,lock:!0,text:"莫娜占卜中"}),e=new Date;let[a,i]=gt(this.getOptimizeArtifactWasmInterface(),this.getArtifactsToBeCalculated());const n=setTimeout((()=>{this.cancelOptimizeArtifact=i}),800);a.then((t=>{const a=new Date;console.log(`time: ${(a-e)/1e3}s`),0!==t.length?(this.optimizationResults=t,this.handleUseNthOptimizationResult(1)):this.$message.error("没有符合条件的圣遗物")})).catch((t=>{this.$message.error(t)})).finally((()=>{clearTimeout(n),this.cancelOptimizeArtifact=null,t.close()}))},handleUseNthOptimizationResult(t){const e=this.optimizationResults[t-1],a=t=>null!==t?t:-1;let i=[];i.push(a(e.flower)),i.push(a(e.feather)),i.push(a(e.sand)),i.push(a(e.goblet)),i.push(a(e.head)),this.artifactIds=i,this.optimizationResultIndex=t},handleChangeCharacter(t){this.characterName=t},handleGotoSelectArtifact(t){const e=["flower","feather","sand","cup","head"],a=e[t];this.showSelectArtifactDialog=!0,this.selectArtifactSlot=a},handleSelectArtifact(t){const e={flower:0,feather:1,sand:2,cup:3,head:4},a=e[this.selectArtifactSlot];this.$set(this.artifactIds,a,t),this.showSelectArtifactDialog=!1},handleRemoveArtifact(t){this.$set(this.artifactIds,t,-1)},handleToggleArtifact(t){this.$store.commit("artifacts/toggleById",{id:t})},handleDisplayAnalysis(){this.showDamageAnalysisDialog=!0,this.$nextTick((()=>{const t=this.$refs["damageAnalysis"];t.setValue(this.characterDamageAnalysis)}))},handleClickAttributeAnalysis(){(0,pt.Ax)(this.bonusPerStatWasmInterface).then((t=>{this.miscPerStatBonus=t,this.showArtifactPerBonusDialog=!0}))},handleClickAddBuff(){this.showSelectBuffDialog=!0},handleSelectBuff(t){this.showSelectBuffDialog=!1,this.addBuff(t)},handleClickDeleteBuff(t){const e=this.buffs.findIndex((e=>e.id===t));this.$delete(this.buffs,e)},handleClickToggleBuff(t){const e=this.buffs.findIndex((e=>e.id===t)),a=this.buffs[e].lock;this.$set(this.buffs[e],"lock",!a)},addBuff(t){const e=ft[t];let a,i={};for(let n of e.config)i[n.name]=n.default;a=0===e.config.length?"NoConfig":{[t]:i},this.buffs.push({name:t,config:a,id:Math.floor(1e9*Math.random()),lock:!1})}},watch:{weaponName(t){const e=!!d.G[t]?.configs;if(e){const e=d.G[t].configs;let a={};for(let t of e)a[t.name]=t.default;this.weaponConfig={[t]:a}}else this.weaponConfig="NoConfig"},characterName(t){const e=h.O[t].config.length>0,a=h.O[t].configSkill.length>0;if(e){const e=h.O[t].config;let a={};for(let t of e)a[t.name]=t.default;this.characterConfig={[t]:a}}else this.characterConfig="NoConfig";if(a){let e={};for(let a of h.O[t].configSkill)e[a.name]=a.default;this.characterSkillConfig={[t]:e}}else this.characterSkillConfig="NoConfig";this.characterSkillIndex=0},targetFunctionName(t){const e=p.F[t].config.length>0;if(e){let e={};for(let a of p.F[t].config)e[a.name]=a.default;this.targetFunctionConfig={[t]:e}}else this.targetFunctionConfig="NoConfig"},artifactNeedConfig4(t){if(t){const e=dt.oN[t];let a={};for(let t of e.config4)a[t.name]=t.default;const i=(0,c.aA)(t),n=`config_${(0,m.D1)(i)}`;this.artifactSingleConfig?.hasOwnProperty(n)||(this.artifactSingleConfig={[n]:a})}else this.artifactSingleConfig=null},damageAnalysisWasmInterface:{handler(){ga=!1,this.$nextTick((()=>{ga||(this.characterDamageAnalysis=this.$mona.CalculatorInterface.get_damage_analysis(this.damageAnalysisWasmInterface),this.characterTransformativeDamage=this.$mona.CalculatorInterface.get_transformative_damage(this.damageAnalysisWasmInterface),ga=!0)}))},immediate:!0,deep:!0},"$store.state.accounts.currentAccountId"(){this.constraintArtifactSet=[],this.artifactGroups.unshift(va(),va()),this.currentArtifactGroupName=this.artifactGroups[0].name,this.artifactGroups.splice(2),this.optimizationResults=[],this.optimizationResultIndex=0,this.miscPerStatBonus={},this.miscCurrentPresetName=null}}},ya=ba,Sa=(0,xt.Z)(ya,i,n,!1,null,"4746150a",null),ka=Sa.exports},4585:function(t,e,a){t.exports=a.p+"img/cryo.e0054787.png"},23984:function(t,e,a){t.exports=a.p+"img/geo.1bf6ccd6.png"},67009:function(t,e,a){t.exports=a.p+"img/pyro.a23e4dc7.png"}}]);