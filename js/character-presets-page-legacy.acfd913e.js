"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[7726],{47048:function(e,a,t){var l=t(66252);const n={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},c=(0,l._)("path",{fill:"currentColor",d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v242.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64v-32c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48a24 24 0 1 1 0-48z"},null,-1),i=[c];function o(e,a){return(0,l.wg)(),(0,l.iD)("svg",n,[...i])}a.Z={name:"fa6-solid-download",render:o}},66760:function(e,a,t){var l=t(66252);const n={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},c=(0,l._)("path",{fill:"currentColor",d:"M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352h128c0 35.3 28.7 64 64 64s64-28.7 64-64h128c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64v-32c0-35.3 28.7-64 64-64zm368 104a24 24 0 1 0 0-48a24 24 0 1 0 0 48z"},null,-1),i=[c];function o(e,a){return(0,l.wg)(),(0,l.iD)("svg",n,[...i])}a.Z={name:"fa6-solid-upload",render:o}},51829:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var l=t(1464),n=t(76128),c=(t(74828),t(15659)),i=(t(79987),t(73481)),o=(t(62029),t(10444),t(76265),t(48324),t(70560),t(64043),t(57267),t(66252)),r=t(2262),s=t(3577),u=t(22201),f=t(73257),m=t(72391),d=t(42694),v=t(84358),p=t(27014),w=t(82945),g=t(66760),_=t(47048),U=t(76456);const k={class:"toolbar"},S={key:0,class:"body"},h={style:{"font-size":"0.9em",color:"#606266"}};var z=(0,o.aZ)({__name:"CharacterPresetsPage",setup(e){const{t:a}=(0,U.QT)(),t=(0,w.Bz)(),z=(0,u.tv)(),y=(0,r.iH)(!1),D=(0,r.iH)(null);function b(){y.value=!0}async function C(){if(!D.value)return;const e=await D.value.getReadPromise();let n=null;try{n=JSON.parse(e)}catch(i){n=null}const c=(0,f.mf)(n);if(c){for(let e of n)t.addOrOverwrite(e.name,e.item);y.value=!1}else(0,l.z8)({message:a("presetPage.wrongFormat"),type:"error"})}function Z(e){const a=t.presets.value[e],l=[a],n=JSON.stringify(l);(0,m.Qz)(n,"application/json",e)}function F(){const e=JSON.stringify(t.allFlat.value);(0,m.Qz)(e,"application/json",a("misc.preset"))}const x=t.allFlat,B=(0,o.Fl)((()=>x.value.length));function H(e){t.deletePreset(e)}function P(e){console.log("handle",e),z.push({name:"calculate",query:{presetName:e}})}return(e,t)=>{const l=c.ElButton,u=i.d0,f=c.MO,m=n.GT;return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(u,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=e=>y.value=e),title:(0,r.SU)(a)("misc.import"),width:(0,r.SU)(d.B)?"60%":"90%"},{footer:(0,o.w5)((()=>[(0,o.Wm)(l,{onClick:t[0]||(t[0]=e=>y.value=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)((0,r.SU)(a)("misc.cancel")),1)])),_:1}),(0,o.Wm)(l,{type:"primary",onClick:C},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)((0,r.SU)(a)("misc.confirm")),1)])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(p.Z),{ref_key:"fileImportBlock",ref:D,accept:"application/json,text/plain"},null,512)])),_:1},8,["modelValue","title","width"]),(0,o._)("div",k,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:(0,r.SU)(_.Z),onClick:F},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)((0,r.SU)(a)("presetPage.exportAll")),1)])),_:1},8,["icon"]),(0,o.Wm)(l,{icon:(0,r.SU)(g.Z),onClick:b},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)((0,r.SU)(a)("misc.import")),1)])),_:1},8,["icon"])])),_:1})]),B.value>0?((0,o.wg)(),(0,o.iD)("div",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(x),(e=>((0,o.wg)(),(0,o.j4)(v.Z,{item:e.item,name:e.name,"calculate-icon":!1,onDelete:a=>H(e.name),onDownload:a=>Z(e.name),class:"item",onClick:a=>P(e.name)},null,8,["item","name","onDelete","onDownload","onClick"])))),256))])):((0,o.wg)(),(0,o.j4)(m,{key:1},{default:(0,o.w5)((()=>[(0,o._)("p",h,[(0,o.Uk)((0,s.zw)((0,r.SU)(a)("presetPage.go")),1),(0,o._)("span",{class:"route-item",onClick:t[2]||(t[2]=a=>e.$router.replace("/calculate"))},(0,s.zw)((0,r.SU)(a)("misc.calculator")),1),(0,o.Uk)((0,s.zw)((0,r.SU)(a)("presetPage.toCalc")),1)])])),_:1}))])}}}),y=t(83744);const D=(0,y.Z)(z,[["__scopeId","data-v-7b5aaef6"]]);var b=D},84358:function(e,a,t){t.d(a,{Z:function(){return Z}});var l=t(66252),n=t(15659),c=(t(10444),t(3577)),i=t(2262),o=t(49963),r=t(69363),s=t(22595),u=t(74364),f=t(47048),m=t(69167),d=t(76456);const v={class:"item br-3"},p={class:"header"},w={class:"fs-12"},g={key:0,class:"buttons flex-row"},_={class:"body"},U={class:"detail-div fs-12"},k=["src"],S={class:"detail-div fs-12"},h=["src"],z={class:"detail-div fs-12"},y=["src"];var D=(0,l.aZ)({__name:"PresetItem",props:{item:{},name:{default:"name"},toolbar:{type:Boolean,default:!0},calculateIcon:{type:Boolean,default:!0}},setup(e){const{t:a,ta:t}=(0,d.QT)(),D=e,b=(0,l.Fl)((()=>D.item.character.name)),C=(0,l.Fl)((()=>r.O[b.value].nameLocale)),Z=(0,l.Fl)((()=>{const e=r.O[b.value];return e.avatar})),F=((0,l.Fl)((()=>{const e=r.O[b.value];return e.chs})),(0,l.Fl)((()=>s.G[D.item.weapon.name]))),x=(0,l.Fl)((()=>F.value.nameLocale)),B=(0,l.Fl)((()=>u.F[D.item.targetFunction.name])),H=(0,l.Fl)((()=>B.value.nameLocale));return(e,r)=>{const s=n.ElButton;return(0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",p,[(0,l._)("span",w,(0,c.zw)(D.name),1),e.toolbar?((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(s,{icon:(0,i.SU)(m.Z),text:"",size:"small",circle:"",onClick:r[0]||(r[0]=(0,o.iM)((a=>e.$emit("delete")),["stop"])),class:"button",title:(0,i.SU)(a)("misc.del")},null,8,["icon","title"]),(0,l.Wm)(s,{icon:(0,i.SU)(f.Z),text:"",size:"small",circle:"",onClick:r[1]||(r[1]=(0,o.iM)((a=>e.$emit("download")),["stop"])),class:"button",title:(0,i.SU)(a)("misc.export")},null,8,["icon","title"])])):(0,l.kq)("",!0)]),(0,l._)("div",_,[(0,l._)("div",U,[(0,l._)("img",{src:(0,i.SU)(Z),class:"c-avatar br-50p"},null,8,k),(0,l._)("span",null,(0,c.zw)((0,i.SU)(t)((0,i.SU)(C))),1)]),(0,l._)("div",S,[(0,l._)("img",{src:(0,i.SU)(F).url,class:"w-avatar br-50p"},null,8,h),(0,l._)("span",null,(0,c.zw)((0,i.SU)(t)((0,i.SU)(x))),1)]),(0,l._)("div",z,[(0,l._)("img",{src:(0,i.SU)(B).badge,class:"tf-avatar br-50p"},null,8,y),(0,l._)("span",null,(0,c.zw)((0,i.SU)(t)((0,i.SU)(H))),1)])])])}}}),b=t(83744);const C=(0,b.Z)(D,[["__scopeId","data-v-4bc3711d"]]);var Z=C},27014:function(e,a,t){t.d(a,{Z:function(){return w}});var l=t(2262),n=t(14181),c=(t(33828),t(66760)),i=t(66252),o=t(3577);const r=e=>((0,i.dD)("data-v-4026776b"),e=e(),(0,i.Cn)(),e),s={class:"center-div"},u=r((()=>(0,i._)("span",null,"点击，或拖拽上传",-1))),f={key:0,class:"filename"},m=["accept"];var d=(0,i.aZ)({__name:"ImportBlock",props:{accept:{}},setup(e,{expose:a}){const t=e,r=(0,l.iH)(!1);function d(e){e.preventDefault(),r.value=!0}function v(e){e.preventDefault(),r.value=!1}function p(e){e.preventDefault()}const w=(0,l.iH)(null),g=(0,l.iH)(!1),_=(0,l.iH)(""),U=(0,l.iH)(null);function k(){U.value&&U.value.click()}function S(){if(U.value&&U.value.files){const e=Array.from(U.value.files);e.length>0&&(w.value=e[0],g.value=!0,_.value=e[0].name)}}function h(e){e.preventDefault(),r.value=!1;let a=null;if(e.dataTransfer)if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if("file"===e.dataTransfer.items[t].kind){a=e.dataTransfer.items[t].getAsFile();break}}else a=e.dataTransfer.files[0];w.value=a,a&&(g.value=!0,_.value=a.name)}function z(){return new Promise(((e,a)=>{w.value||a("未选择文件");try{let t=new FileReader;t.onload=a=>{a.target&&e(a.target.result)},t.onerror=e=>{a(e)},t.readAsText(w.value)}catch(t){a(t)}}))}return a({getReadPromise:z}),(e,a)=>{const w=c.Z,z=n.gn;return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",{class:(0,o.C_)(["root",{over:(0,l.SU)(r)}]),ref:"rootBox",onDragenter:d,onDragleave:v,onDragover:p,onDrop:h,onClick:k},[(0,i._)("div",s,[(0,i.Wm)(z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w)])),_:1}),u])],34),(0,l.SU)(g)?((0,i.wg)(),(0,i.iD)("p",f,(0,o.zw)((0,l.SU)(_)),1)):(0,i.kq)("",!0),(0,i._)("input",{type:"file",ref_key:"fileInput",ref:U,class:"file-input",onChange:S,accept:t.accept},null,40,m)])}}}),v=t(83744);const p=(0,v.Z)(d,[["__scopeId","data-v-4026776b"]]);var w=p},79987:function(e,a,t){t(3241)}}]);