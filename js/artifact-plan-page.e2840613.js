"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[3136],{75106:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"ep-folder",render:s}},15463:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"ep-folder-add",render:s}},92782:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"ep-folder-opened",render:s}},31133:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"ep-search",render:s}},37661:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768a384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0a48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"ep-warning",render:s}},87609:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},o=(0,l._)("path",{fill:"currentColor",d:"M480 352H346.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96c0-17.7-14.3-32-32-32zm-48 104c-13.2 0-24-10.8-24-24s10.8-24 24-24s24 10.8 24 24s-10.8 24-24 24zm-198.6-81.4c6.2 6.3 14.4 9.4 22.6 9.4s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32c-17.7 0-32 14.33-32 32v242.8l-73.4-73.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"},null,-1),i=[o];function s(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,i)}t["Z"]={name:"fa6-solid-download",render:s}},30020:function(e,t,a){a.d(t,{Z:function(){return D}});var l=a(66252),n=a(77049),o=(a(75915),a(3577)),i=a(2262),s=a(49963),r=a(14260),d=a(66113),c=a(10403),u=a(87609),m=a(21323),h=a(8509);const p={class:"item br-3"},f={class:"header"},g={class:"fs-12"},v={key:0,class:"buttons flex-row"},y={class:"body"},w={class:"detail-div fs-12"},k=["src"],S={class:"detail-div fs-12"},_=["src"],b={class:"detail-div fs-12"},C=["src"];var U=(0,l.aZ)({__name:"PresetItem",props:{item:null,name:{default:"name"},toolbar:{type:Boolean,default:!0},calculateIcon:{type:Boolean,default:!0}},setup(e){const t=e,{t:a}=(0,h.QT)(),U=(0,l.Fl)((()=>t.item.character.name)),x=(0,l.Fl)((()=>{const e=r.O[U.value];return e.avatar})),N=((0,l.Fl)((()=>{const e=r.O[U.value];return e.chs})),(0,l.Fl)((()=>d.G[t.item.weapon.name]))),D=(0,l.Fl)((()=>c.F[t.item.targetFunction.name]));return(r,d)=>{const c=n.mi;return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",f,[(0,l._)("span",g,(0,o.zw)(t.name),1),e.toolbar?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(c,{icon:(0,i.SU)(m.Z),text:"",size:"small",circle:"",onClick:d[0]||(d[0]=(0,s.iM)((e=>r.$emit("delete")),["stop"])),class:"button",title:(0,i.SU)(a)("misc.del")},null,8,["icon","title"]),(0,l.Wm)(c,{icon:(0,i.SU)(u.Z),text:"",size:"small",circle:"",onClick:d[1]||(d[1]=(0,s.iM)((e=>r.$emit("download")),["stop"])),class:"button",title:(0,i.SU)(a)("misc.export")},null,8,["icon","title"])])):(0,l.kq)("",!0)]),(0,l._)("div",y,[(0,l._)("div",w,[(0,l._)("img",{src:(0,i.SU)(x),class:"c-avatar br-50p"},null,8,k),(0,l._)("span",null,(0,o.zw)((0,i.SU)(a)("character",(0,i.SU)(U))),1)]),(0,l._)("div",S,[(0,l._)("img",{src:(0,i.SU)(N).url,class:"w-avatar br-50p"},null,8,_),(0,l._)("span",null,(0,o.zw)((0,i.SU)(a)("weapon",t.item.weapon.name)),1)]),(0,l._)("div",b,[(0,l._)("img",{src:(0,i.SU)(D).badge,class:"tf-avatar br-50p"},null,8,C),(0,l._)("span",null,(0,o.zw)((0,i.SU)(a)("tfName",(0,i.SU)(D).name)),1)])])])}}}),x=a(83744);const N=(0,x.Z)(U,[["__scopeId","data-v-2991bd7c"]]);var D=N},31820:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(2262),n=a(8350),o=(a(12573),a(66252)),i=a(30020),s=a(27554);const r={class:"body"};var d=(0,o.aZ)({__name:"ApplyPresetDialog",emits:["selected"],setup(e,{expose:t,emit:a}){const d=(0,s.B)(),c=d.allFlat,u=(0,l.iH)(!1);function m(){u.value=!0}function h(e){u.value=!1,a("selected",e)}return t({open:m}),(e,t)=>{const a=n.d0;return(0,o.wg)(),(0,o.j4)(a,{title:"导入预设",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),width:"80%"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,l.SU)(c),(e=>((0,o.wg)(),(0,o.j4)(i.Z,{key:e.name,toolbar:!1,item:e.item,name:e.name,class:"hand item",onClick:t=>h(e.name)},null,8,["item","name","onClick"])))),128))])])),_:1},8,["modelValue"])}}}),c=a(83744);const u=(0,c.Z)(d,[["__scopeId","data-v-1b86f4c3"]]);var m=u},3816:function(e,t,a){a.r(t),a.d(t,{default:function(){return mo}});var l=a(2262),n=a(66252),o=a(50592),i=a(89804),s=(a(59674),a(59853),a(77049)),r=(a(7739),a(28785)),d=(a(9638),a(65381)),c=(a(46273),a(90653)),u=(a(96152),a(38259),a(19651)),m=(a(71683),a(14282)),h=(a(50580),a(75915),a(35267)),p=(a(45177),a(3577)),f=a(49963);const g="$treeNodeId",v=function(e,t){t&&!t[g]&&Object.defineProperty(t,g,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},y=function(e,t){return e?t[e]:t[g]},w=e=>{let t=!0,a=!0,l=!0;for(let n=0,o=e.length;n<o;n++){const o=e[n];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(l=!1)),(!1!==o.checked||o.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:l,half:!t&&!a}},k=function(e){if(0===e.childNodes.length)return;const{all:t,none:a,half:l}=w(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):l?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;n&&0!==n.level&&(e.store.checkStrictly||k(n))},S=function(e,t){const a=e.store.props,l=e.data||{},n=a[t];if("function"===typeof n)return n(l,e);if("string"===typeof n)return l[n];if("undefined"===typeof n){const e=l[t];return void 0===e?"":e}};let _=0;class b{constructor(e){this.id=_++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)(0,p.RI)(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&"undefined"!==typeof t.isLeaf){const e=S(this,"isLeaf");"boolean"===typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||v(this,this.data),!this.data)return;const a=e.defaultExpandedKeys,l=e.key;l&&a&&a.includes(this.key)&&this.expand(null,e.autoExpandParent),l&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||v(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:S(this,"children")||[];for(let a=0,l=t.length;a<l;a++)this.insertChild({data:t[a]})}get label(){return S(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return S(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((a=>a===e||t&&a.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof b)){if(!a){const a=this.getChildren(!0);a.includes(e.data)||("undefined"===typeof t||t<0?a.push(e.data):a.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=(0,l.qj)(new b(e)),e instanceof b&&e.initialize()}e.level=this.level+1,"undefined"===typeof t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let a;t&&(a=this.childNodes.indexOf(t)),this.insertChild(e,a)}insertAfter(e,t){let a;t&&(a=this.childNodes.indexOf(t),-1!==a&&(a+=1)),this.insertChild(e,a)}removeChild(e){const t=this.getChildren()||[],a=t.indexOf(e.data);a>-1&&t.splice(a,1);const l=this.childNodes.indexOf(e);l>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){t=this.childNodes[a];break}t&&this.removeChild(t)}expand(e,t){const a=()=>{if(t){let e=this.parent;while(e.level>0)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||k(this),a())})):a()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&"undefined"!==typeof this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,a,l){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:a,allWithoutDisable:n}=w(this.childNodes);this.isLeaf||a||!n||(this.checked=!1,e=!1);const o=()=>{if(t){const a=this.childNodes;for(let i=0,s=a.length;i<s;i++){const n=a[i];l=l||!1!==e;const o=n.disabled?n.checked:l;n.setChecked(o,t,!0,l)}const{half:n,all:o}=w(a);o||(this.checked=o,this.indeterminate=n)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),k(this)}),{checked:!1!==e});o()}const n=this.parent;n&&0!==n.level&&(a||k(n))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const a=this.store.props;let l="children";return a&&(l=a.children||"children"),void 0===t[l]&&(t[l]=null),e&&!t[l]&&(t[l]=[]),t[l]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),a={},l=[];e.forEach(((e,n)=>{const o=e[g],i=!!o&&t.findIndex((e=>e[g]===o))>=0;i?a[o]={index:n,data:e}:l.push({index:n,data:e})})),this.store.lazy||t.forEach((e=>{a[e[g]]||this.removeChildByData(e)})),l.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const a=a=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(a,t),this.updateLeafState(),e&&e.call(this,a)};this.store.load(this,a)}}}class C{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)(0,p.RI)(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new b({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,a=this.lazy,l=function(n){const o=n.root?n.root.childNodes:n.childNodes;if(o.forEach((a=>{a.visible=t.call(a,e,a.data,a),l(a)})),!n.visible&&o.length){let e=!0;e=!o.some((e=>e.visible)),n.root?n.root.visible=!1===e:n.visible=!1===e}e&&(!n.visible||n.isLeaf||a||n.expand())};l(this)}setData(e){const t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof b)return e;const t="object"!==typeof e?e:y(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const a=this.getNode(t);a.parent.insertBefore({data:e},a)}insertAfter(e,t){const a=this.getNode(t);a.parent.insertAfter({data:e},a)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const a=t?this.getNode(t):this.root;a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const a=t[e];a&&a.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){const t=this.defaultCheckedKeys||[];t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){const t=e.key;void 0!==t&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){const t=this.key;t&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const a=[],l=function(n){const o=n.root?n.root.childNodes:n.childNodes;o.forEach((n=>{(n.checked||t&&n.indeterminate)&&(!e||e&&n.isLeaf)&&a.push(n.data),l(n)}))};return l(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(a){const l=a.root?a.root.childNodes:a.childNodes;l.forEach((a=>{a.indeterminate&&e.push(a.data),t(a)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const a in t)(0,p.RI)(t,a)&&e.push(t[a]);return e}updateChildren(e,t){const a=this.nodesMap[e];if(!a)return;const l=a.childNodes;for(let n=l.length-1;n>=0;n--){const e=l[n];this.remove(e.data)}for(let n=0,o=t.length;n<o;n++){const e=t[n];this.append(e,a.data)}}_setCheckedKeys(e,t=!1,a){const l=this._getAllNodes().sort(((e,t)=>t.level-e.level)),n=Object.create(null),o=Object.keys(a);l.forEach((e=>e.setChecked(!1,!1)));for(let i=0,s=l.length;i<s;i++){const a=l[i],s=a.data[e].toString(),r=o.includes(s);if(!r){a.checked&&!n[s]&&a.setChecked(!1,!1);continue}let d=a.parent;while(d&&d.level>0)n[d.data[e]]=!0,d=d.parent;if(a.isLeaf||this.checkStrictly)a.setChecked(!0,!1);else if(a.setChecked(!0,!0),t){a.setChecked(!1,!1);const e=function(t){const a=t.childNodes;a.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(a)}}}setCheckedNodes(e,t=!1){const a=this.key,l={};e.forEach((e=>{l[(e||{})[a]]=!0})),this._setCheckedKeys(a,t,l)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const a=this.key,l={};e.forEach((e=>{l[e]=!0})),this._setCheckedKeys(a,t,l)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,a){const l=this.getNode(e);l&&l.setChecked(!!t,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const a=e[this.key],l=this.nodesMap[a];this.setCurrentNode(l),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const a=this.getNode(e);a&&(this.setCurrentNode(a),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var U=a(16628),x=a(94509),N=a(86660),D=a(13181),V=a(1446),z=a(25299);const W=(0,n.aZ)({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=(0,z.s)("tree"),a=(0,n.f3)("NodeInstance"),l=(0,n.f3)("RootTree");return()=>{const o=e.node,{data:i,store:s}=o;return e.renderContent?e.renderContent(n.h,{_self:a,node:o,data:i,store:s}):l.ctx.slots.default?l.ctx.slots.default({node:o,data:i}):(0,n.h)("span",{class:t.be("node","label")},[o.label])}}});var M=(0,V.Z)(W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function H(e){const t=(0,n.f3)("TreeNodeMap",null),a={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(a),(0,n.JJ)("TreeNodeMap",a),{broadcastExpanded:t=>{if(e.accordion)for(const e of a.children)e.treeNodeExpand(t)}}}var E=a(68818);const F=Symbol("dragEvents");function A({props:e,ctx:t,el$:a,dropIndicator$:o,store:i}){const s=(0,z.s)("tree"),r=(0,l.iH)({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null}),d=({event:a,treeNode:l})=>{if("function"===typeof e.allowDrag&&!e.allowDrag(l.node))return a.preventDefault(),!1;a.dataTransfer.effectAllowed="move";try{a.dataTransfer.setData("text/plain","")}catch(n){}r.value.draggingNode=l,t.emit("node-drag-start",l.node,a)},c=({event:l,treeNode:n})=>{const i=n,d=r.value.dropNode;d&&d!==i&&(0,E.IV)(d.$el,s.is("drop-inner"));const c=r.value.draggingNode;if(!c||!i)return;let u=!0,m=!0,h=!0,p=!0;"function"===typeof e.allowDrop&&(u=e.allowDrop(c.node,i.node,"prev"),p=m=e.allowDrop(c.node,i.node,"inner"),h=e.allowDrop(c.node,i.node,"next")),l.dataTransfer.dropEffect=m||u||h?"move":"none",(u||m||h)&&d!==i&&(d&&t.emit("node-drag-leave",c.node,d.node,l),t.emit("node-drag-enter",c.node,i.node,l)),(u||m||h)&&(r.value.dropNode=i),i.node.nextSibling===c.node&&(h=!1),i.node.previousSibling===c.node&&(u=!1),i.node.contains(c.node,!1)&&(m=!1),(c.node===i.node||c.node.contains(i.node))&&(u=!1,m=!1,h=!1);const f=i.$el.getBoundingClientRect(),g=a.value.getBoundingClientRect();let v;const y=u?m?.25:h?.45:1:-1,w=h?m?.75:u?.55:0:1;let k=-9999;const S=l.clientY-f.top;v=S<f.height*y?"before":S>f.height*w?"after":m?"inner":"none";const _=i.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),b=o.value;"before"===v?k=_.top-g.top:"after"===v&&(k=_.bottom-g.top),b.style.top=`${k}px`,b.style.left=_.right-g.left+"px","inner"===v?(0,E.cn)(i.$el,s.is("drop-inner")):(0,E.IV)(i.$el,s.is("drop-inner")),r.value.showDropIndicator="before"===v||"after"===v,r.value.allowDrop=r.value.showDropIndicator||p,r.value.dropType=v,t.emit("node-drag-over",c.node,i.node,l)},u=e=>{const{draggingNode:a,dropType:l,dropNode:n}=r.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",a&&n){const o={data:a.node.data};"none"!==l&&a.node.remove(),"before"===l?n.node.parent.insertBefore(o,n.node):"after"===l?n.node.parent.insertAfter(o,n.node):"inner"===l&&n.node.insertChild(o),"none"!==l&&i.value.registerNode(o),(0,E.IV)(n.$el,s.is("drop-inner")),t.emit("node-drag-end",a.node,n.node,l,e),"none"!==l&&t.emit("node-drop",a.node,n.node,l,e)}a&&!n&&t.emit("node-drag-end",a.node,null,l,e),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0};return(0,n.JJ)(F,{treeNodeDragStart:d,treeNodeDragOver:c,treeNodeDragEnd:u}),{dragState:r}}var P=a(6966);const q=(0,n.aZ)({name:"ElTreeNode",components:{ElCollapseTransition:U.Z,ElCheckbox:x.Xb,NodeContent:M,ElIcon:N.gn,Loading:D.gbz},props:{node:{type:b,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=(0,z.s)("tree"),{broadcastExpanded:o}=H(e),i=(0,n.f3)("RootTree"),s=(0,l.iH)(!1),r=(0,l.iH)(!1),d=(0,l.iH)(null),c=(0,l.iH)(null),u=(0,l.iH)(null),m=(0,n.f3)(F),h=(0,n.FN)();(0,n.JJ)("NodeInstance",h),i||(0,P.N)("Tree","Can not find node's tree."),e.node.expanded&&(s.value=!0,r.value=!0);const f=i.props["children"]||"children";(0,n.YP)((()=>{const t=e.node.data[f];return t&&[...t]}),(()=>{e.node.updateChildren()})),(0,n.YP)((()=>e.node.indeterminate),(t=>{w(e.node.checked,t)})),(0,n.YP)((()=>e.node.checked),(t=>{w(t,e.node.indeterminate)})),(0,n.YP)((()=>e.node.expanded),(e=>{(0,n.Y3)((()=>s.value=e)),e&&(r.value=!0)}));const g=e=>y(i.props.nodeKey,e.data),v=t=>{const a=e.props.class;if(!a)return{};let l;if((0,p.mf)(a)){const{data:e}=t;l=a(e,t)}else l=a;return(0,p.HD)(l)?{[l]:!0}:l},w=(t,a)=>{d.value===t&&c.value===a||i.ctx.emit("check-change",e.node.data,t,a),d.value=t,c.value=a},k=t=>{const a=i.store.value;a.setCurrentNode(e.node),i.ctx.emit("current-change",a.currentNode?a.currentNode.data:null,a.currentNode),i.currentNode.value=e.node,i.props.expandOnClickNode&&_(),i.props.checkOnClickNode&&!e.node.disabled&&b(null,{target:{checked:!e.node.checked}}),i.ctx.emit("node-click",e.node.data,e.node,h,t)},S=t=>{i.instance.vnode.props["onNodeContextmenu"]&&(t.stopPropagation(),t.preventDefault()),i.ctx.emit("node-contextmenu",t,e.node.data,e.node,h)},_=()=>{e.node.isLeaf||(s.value?(i.ctx.emit("node-collapse",e.node.data,e.node,h),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,h)))},b=(t,a)=>{e.node.setChecked(a.target.checked,!i.props.checkStrictly),(0,n.Y3)((()=>{const t=i.store.value;i.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))},C=(e,t,a)=>{o(t),i.ctx.emit("node-expand",e,t,a)},U=t=>{i.props.draggable&&m.treeNodeDragStart({event:t,treeNode:e})},x=t=>{t.preventDefault(),i.props.draggable&&m.treeNodeDragOver({event:t,treeNode:{$el:u.value,node:e.node}})},N=e=>{e.preventDefault()},V=e=>{i.props.draggable&&m.treeNodeDragEnd(e)};return{ns:a,node$:u,tree:i,expanded:s,childNodeRendered:r,oldChecked:d,oldIndeterminate:c,getNodeKey:g,getNodeClass:v,handleSelectChange:w,handleClick:k,handleContextMenu:S,handleExpandIconClick:_,handleCheckChange:b,handleChildNodeExpand:C,handleDragStart:U,handleDragOver:x,handleDrop:N,handleDragEnd:V,CaretRight:D.TZ}}}),T=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],K=["aria-expanded"];function B(e,t,a,l,o,i){const s=(0,n.up)("el-icon"),r=(0,n.up)("el-checkbox"),d=(0,n.up)("loading"),c=(0,n.up)("node-content"),u=(0,n.up)("el-tree-node"),m=(0,n.up)("el-collapse-transition");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{ref:"node$",class:(0,p.C_)([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=(0,f.iM)(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=(0,f.iM)(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=(0,f.iM)(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=(0,f.iM)(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=(0,f.iM)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[(0,n._)("div",{class:(0,p.C_)(e.ns.be("node","content")),style:(0,p.j5)({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?((0,n.wg)(),(0,n.j4)(s,{key:0,class:(0,p.C_)([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:(0,f.iM)(e.handleExpandIconClick,["stop"])},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):(0,n.kq)("v-if",!0),e.showCheckbox?((0,n.wg)(),(0,n.j4)(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=(0,f.iM)((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):(0,n.kq)("v-if",!0),e.node.loading?((0,n.wg)(),(0,n.j4)(s,{key:2,class:(0,p.C_)([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:(0,n.w5)((()=>[(0,n.Wm)(d)])),_:1},8,["class"])):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[!e.renderAfterExpand||e.childNodeRendered?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,p.C_)(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.node.childNodes,(t=>((0,n.wg)(),(0,n.j4)(u,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,K)),[[f.F8,e.expanded]]):(0,n.kq)("v-if",!0)])),_:1})],42,T)),[[f.F8,e.node.visible]])}var L=(0,V.Z)(q,[["render",B],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]),Z=a(28754),I=a(66266);function R({el$:e},t){const a=(0,z.s)("tree"),o=(0,l.XI)([]),i=(0,l.XI)([]);(0,n.bv)((()=>{r(),(0,Z.on)(e.value,"keydown",s)})),(0,n.Jd)((()=>{(0,Z.S1)(e.value,"keydown",s)})),(0,n.ic)((()=>{o.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),(0,n.YP)(i,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const s=l=>{const n=l.target;if(!n.className.includes(a.b("node")))return;const i=l.code;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const s=o.value.indexOf(n);let r;if([I.n.up,I.n.down].includes(i)){if(l.preventDefault(),i===I.n.up){r=-1===s?0:0!==s?s-1:o.value.length-1;const e=r;while(1){if(t.value.getNode(o.value[r].dataset.key).canFocus)break;if(r--,r===e){r=-1;break}r<0&&(r=o.value.length-1)}}else{r=-1===s?0:s<o.value.length-1?s+1:0;const e=r;while(1){if(t.value.getNode(o.value[r].dataset.key).canFocus)break;if(r++,r===e){r=-1;break}r>=o.value.length&&(r=0)}}-1!==r&&o.value[r].focus()}[I.n.left,I.n.right].includes(i)&&(l.preventDefault(),n.click());const d=n.querySelector('[type="checkbox"]');[I.n.enter,I.n.space].includes(i)&&d&&(l.preventDefault(),d.click())},r=()=>{var t;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);l.length?l[0].setAttribute("tabindex","0"):null==(t=o.value[0])||t.setAttribute("tabindex","0")}}var j=a(69559),$=a(80546);const O=(0,n.aZ)({name:"ElTree",components:{ElTreeNode:L},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=(0,j.bU)(),o=(0,z.s)("tree"),i=(0,l.iH)(new C({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const s=(0,l.iH)(i.value.root),r=(0,l.iH)(null),d=(0,l.iH)(null),c=(0,l.iH)(null),{broadcastExpanded:u}=H(e),{dragState:m}=A({props:e,ctx:t,el$:d,dropIndicator$:c,store:i});R({el$:d},i);const h=(0,n.Fl)((()=>{const{childNodes:e}=s.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));(0,n.YP)((()=>e.defaultCheckedKeys),(e=>{i.value.setDefaultCheckedKey(e)})),(0,n.YP)((()=>e.defaultExpandedKeys),(e=>{i.value.setDefaultExpandedKeys(e)})),(0,n.YP)((()=>e.data),(e=>{i.value.setData(e)}),{deep:!0}),(0,n.YP)((()=>e.checkStrictly),(e=>{i.value.checkStrictly=e}));const p=t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(t)},f=t=>y(e.nodeKey,t.data),g=t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const a=i.value.getNode(t);if(!a)return[];const l=[a.data];let n=a.parent;while(n&&n!==s.value)l.push(n.data),n=n.parent;return l.reverse()},v=(e,t)=>i.value.getCheckedNodes(e,t),w=e=>i.value.getCheckedKeys(e),k=()=>{const e=i.value.getCurrentNode();return e?e.data:null},S=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=k();return t?t[e.nodeKey]:null},_=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(t,a)},b=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(t,a)},U=(e,t,a)=>{i.value.setChecked(e,t,a)},x=()=>i.value.getHalfCheckedNodes(),N=()=>i.value.getHalfCheckedKeys(),D=(t,a=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");i.value.setUserCurrentNode(t,a)},V=(t,a=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");i.value.setCurrentNodeKey(t,a)},W=e=>i.value.getNode(e),M=e=>{i.value.remove(e)},E=(e,t)=>{i.value.append(e,t)},F=(e,t)=>{i.value.insertBefore(e,t)},P=(e,t)=>{i.value.insertAfter(e,t)},q=(e,a,l)=>{u(a),t.emit("node-expand",e,a,l)},T=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(t,a)};return(0,n.JJ)("RootTree",{ctx:t,props:e,store:i,root:s,currentNode:r,instance:(0,n.FN)()}),(0,n.JJ)($.K,void 0),{ns:o,store:i,root:s,currentNode:r,dragState:m,el$:d,dropIndicator$:c,isEmpty:h,filter:p,getNodeKey:f,getNodePath:g,getCheckedNodes:v,getCheckedKeys:w,getCurrentNode:k,getCurrentKey:S,setCheckedNodes:_,setCheckedKeys:b,setChecked:U,getHalfCheckedNodes:x,getHalfCheckedKeys:N,setCurrentNode:D,setCurrentKey:V,t:a,getNode:W,remove:M,append:E,insertBefore:F,insertAfter:P,handleNodeExpand:q,updateKeyChildren:T}}});function Y(e,t,a,l,o,i){var s;const r=(0,n.up)("el-tree-node");return(0,n.wg)(),(0,n.iD)("div",{ref:"el$",class:(0,p.C_)([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.root.childNodes,(t=>((0,n.wg)(),(0,n.j4)(r,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,p.C_)(e.ns.e("empty-block"))},[(0,n._)("span",{class:(0,p.C_)(e.ns.e("empty-text"))},(0,p.zw)(null!=(s=e.emptyText)?s:e.t("el.tree.emptyText")),3)],2)):(0,n.kq)("v-if",!0),(0,n.wy)((0,n._)("div",{ref:"dropIndicator$",class:(0,p.C_)(e.ns.e("drop-indicator"))},null,2),[[f.F8,e.dragState.showDropIndicator]])],2)}var G=(0,V.Z)(O,[["render",Y],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);G.install=e=>{e.component(G.name,G)};const Q=G,J=Q;a(3392),a(13171);var X=a(31838),ee=(a(87228),a(7810)),te=(a(44163),a(62076)),ae=(a(49005),a(97850),a(76404)),le=(a(74694),a(25791));a(20048);const ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},oe=(0,n._)("path",{fill:"currentColor",d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zm0 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32s-14.9 32-32 32zm69.1-142L280 286v2c0 13-11 24-24 24s-24-11-24-24v-16c0-8 4-16 12-21l57-34c7-4 11-11 11-19c0-12-10.9-22-22.9-22H238c-12.9 0-22 10-22 22c0 13-11 24-24 24s-24-11-24-24c0-39 31-70 69.1-70h51.1c40.8 0 71.8 31 71.8 70c0 24-13 47-34.9 60z"},null,-1),ie=[oe];function se(e,t){return(0,n.wg)(),(0,n.iD)("svg",ne,ie)}var re={name:"fa6-solid-circle-question",render:se},de=a(8350),ce=(a(12573),a(33948),a(26825)),ue=a(21811),me=a(80065),he=a(85524),pe=a(24346),fe=a(81884),ge=a(37445),ve=a(75608),ye=a(57516),we=a(89239),ke=a(41561),Se=a(9879),_e=a(29491);a(50657),a(54968),a(60096);const be={class:"option-root"},Ce=["src"],Ue={class:"option-body"},xe={class:"option-title"},Ne={class:"option-root"},De=["src"],Ve={class:"option-body"},ze={class:"option-title"};function We(e,t,a,l,o,i){const s=_e.BT,r=_e.LC,d=_e.km;return(0,n.wg)(),(0,n.j4)(d,{"model-value":a.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),placeholder:l.t("misc.tf")},{default:(0,n.w5)((()=>[i.characterTargetFunctionList&&i.characterTargetFunctionList.length>0?((0,n.wg)(),(0,n.j4)(r,{key:0,label:l.t("misc.charSpecific")},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.characterTargetFunctionList,(e=>((0,n.wg)(),(0,n.j4)(s,{key:e.name,label:l.t("tfName",e.name),value:e.name},{default:(0,n.w5)((()=>[(0,n._)("div",be,[(0,n._)("img",{class:"option-badge",src:e.badge},null,8,Ce),(0,n._)("div",Ue,[(0,n._)("p",xe,(0,p.zw)(l.t("tfName",e.name)),1)])])])),_:2},1032,["label","value"])))),128))])),_:1},8,["label"])):(0,n.kq)("",!0),o.commonTargetFunctionList?((0,n.wg)(),(0,n.j4)(r,{key:1,label:l.t("misc.general")},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.commonTargetFunctionList,(e=>((0,n.wg)(),(0,n.j4)(s,{key:e.name,label:l.t("tfName",e.name),value:e.name},{default:(0,n.w5)((()=>[(0,n._)("div",Ne,[(0,n._)("img",{class:"option-badge",src:e.badge},null,8,De),(0,n._)("div",Ve,[(0,n._)("p",ze,(0,p.zw)(l.t("tfName",e.name)),1)])])])),_:2},1032,["label","value"])))),128))])),_:1},8,["label"])):(0,n.kq)("",!0)])),_:1},8,["model-value","placeholder"])}var Me=a(10403),He=a(8509),Ee={name:"SelectTargetFunction",props:{modelValue:{},characterName:{default:"Amber"}},emits:["update:modelValue"],data(){return{commonTargetFunctionList:Me.e.common}},computed:{characterTargetFunctionList(){var e;return null!==(e=Me.e[this.characterName])&&void 0!==e?e:[]}},setup(){const{t:e}=(0,He.QT)();return{t:e}}},Fe=a(83744);const Ae=(0,Fe.Z)(Ee,[["render",We],["__scopeId","data-v-db02c4c0"]]);var Pe=Ae,qe=a(2771),Te=(a(53762),a(14260)),Ke=(0,n.aZ)({__name:"SelectCharacterSkill",props:{characterName:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{t:o}=(0,He.QT)(),i=(0,n.Fl)((()=>{const e=Te.O[a.characterName],t=[];for(let l=0;l<3;l++){const n=l+1,i=e[`skillMap${n}`];i.length>0&&t.push({label:o("characterSkill",a.characterName,l),value:e[`skillName${n}`],children:i.map((e=>({label:o("dmgName",e.text),value:e.index})))})}return t}));return(e,o)=>{const s=qe.m;return(0,n.wg)(),(0,n.j4)(s,{key:a.characterName,"model-value":a.modelValue,options:(0,l.SU)(i),props:{expandTrigger:"hover",emitPath:!1},onChange:o[0]||(o[0]=e=>t("update:modelValue",e)),style:{width:"61.8%"}},null,8,["model-value","options"])}}});const Be=Ke;var Le=Be,Ze=a(8895),Ie=(0,n.aZ)({__name:"SelectSmallInt",props:{modelValue:null,min:null,max:null},emits:["update:modelValue"],setup(e,{emit:t}){function a(e){const a=e.target;a.classList.contains("select-small-int")&&t("update:modelValue",Number(a.textContent))}return(t,l)=>((0,n.wg)(),(0,n.iD)("div",{onClick:a},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.max-e.min+1,(t=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:(0,p.C_)(["select-small-int",{active:t+e.min-1===e.modelValue}])},(0,p.zw)(t+e.min-1),3)))),128))]))}});const Re=(0,Fe.Z)(Ie,[["__scopeId","data-v-69f486cc"]]);var je=Re,$e=a(16317),Oe=a(17212),Ye=a(37336);a(48504),a(20837);function Ge(e,t,a,l,o,i){const s=Ye.$Y,r=Ye.eI;return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r,{data:i.tableData},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:l.t("misc.type1")},null,8,["label"]),(0,n.Wm)(s,{prop:"expectation",label:l.t("dmg.expect")},null,8,["label"]),(0,n.Wm)(s,{prop:"critical",label:l.t("dmg.crit")},null,8,["label"]),(0,n.Wm)(s,{prop:"nonCritical",label:l.t("dmg.nonCrit")},null,8,["label"])])),_:1},8,["data"])])}var Qe={name:"DamageList",props:{analysisFromWasm:{}},computed:{element(){return this.analysisFromWasm.element},normalDamageTitle(){return this.analysisFromWasm.is_heal?this.t("dmg.heal"):this.t("dmg",this.element)},tableData(){let e=[];const t="无数据",a=e=>Math.round(e),l=(l,n)=>{var o,i,s,r,d,c;e.push({expectation:null!==(o=a(null===(i=this.analysisFromWasm[l])||void 0===i?void 0:i.expectation))&&void 0!==o?o:t,critical:null!==(s=a(null===(r=this.analysisFromWasm[l])||void 0===r?void 0:r.critical))&&void 0!==s?s:t,nonCritical:null!==(d=a(null===(c=this.analysisFromWasm[l])||void 0===c?void 0:c.non_critical))&&void 0!==d?d:t,name:n})};return l("normal",this.normalDamageTitle),this.analysisFromWasm.melt&&l("melt",this.t("dmg.melt")),this.analysisFromWasm.vaporize&&l("vaporize",this.t("dmg.vaporize")),this.analysisFromWasm.spread&&l("spread",this.t("dmg.spread")),this.analysisFromWasm.aggravate&&l("aggravate",this.t("dmg.aggravate")),e}},setup(){const{t:e}=(0,He.QT)();return{t:e}}};const Je=(0,Fe.Z)(Qe,[["render",Ge],["__scopeId","data-v-065aa26b"]]);var Xe=Je,et=a(64798),tt=a(11180),at=a(57656),lt=a(85193),nt=(a(97367),a(6552));const ot={class:"title"},it={class:"title"};var st=(0,n.aZ)({__name:"SaveAsKumi",props:{defaultName:{default:""},modelValue:{type:Boolean}},emits:["confirm","update:modelValue"],setup(e,{emit:t}){const a=e,{t:o}=(0,He.QT)(),i=(0,nt.F)(),r=(0,l.iH)([0]),d=(0,l.iH)(a.defaultName);function u(){const e=r.value;t("confirm",{dirIds:e,name:d.value})}return(0,n.YP)((()=>a.defaultName),(e=>{d.value=e})),(e,m)=>{const h=x.Xb,f=x.z5,g=c.EZ,v=s.mi,y=de.d0;return(0,n.wg)(),(0,n.j4)(y,{"model-value":a.modelValue,"onUpdate:modelValue":m[3]||(m[3]=e=>t("update:modelValue",e)),title:(0,l.SU)(o)("calcPage.saveKumi"),width:(0,l.SU)(fe.B)?"60%":"90%"},{footer:(0,n.w5)((()=>[(0,n.Wm)(v,{onClick:m[2]||(m[2]=t=>e.$emit("update:modelValue",!1))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(o)("misc.cancel")),1)])),_:1}),(0,n.Wm)(v,{type:"primary",disabled:""===d.value,onClick:u},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(o)("misc.confirm")),1)])),_:1},8,["disabled"])])),default:(0,n.w5)((()=>[(0,n._)("p",ot,(0,p.zw)((0,l.SU)(o)("calcPage.selectDir")),1),(0,n.Wm)(f,{modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=e=>r.value=e),min:1},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(i).dirs.value,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e.id,label:e.id,border:"",class:"dir-item"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)(e.title),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),(0,n._)("p",it,(0,p.zw)((0,l.SU)(o)("calcPage.name")),1),(0,n.Wm)(g,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=e=>d.value=e),placeholder:(0,l.SU)(o)("calcPage.enterName")},null,8,["modelValue","placeholder"])])),_:1},8,["model-value","title","width"])}}});const rt=st;var dt=rt;const ct={key:0,style:{color:"#c250ff"}},ut={key:1,style:{color:"#ff335a"}},mt={key:2};function ht(e,t,a,l,o,i){const s=Ye.$Y,r=Ye.eI;return(0,n.wg)(),(0,n.j4)(r,{data:e.tableDataForElementUI},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:e.t("misc.type1")},{default:(0,n.w5)((({row:t})=>[(0,n.Uk)((0,p.zw)(e.t("dmg",t.key)),1)])),_:1},8,["label"]),(0,n.Wm)(s,{label:e.t("misc.dmg")},{default:(0,n.w5)((({row:e})=>[e&&e.key&&e.value?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},["electroCharged"===e.key?((0,n.wg)(),(0,n.iD)("span",ct,(0,p.zw)(e.value.toFixed(1)),1)):"overload"===e.key?((0,n.wg)(),(0,n.iD)("span",ut,(0,p.zw)(e.value.toFixed(1)),1)):((0,n.wg)(),(0,n.iD)("span",mt,(0,p.zw)(e.value.toFixed(1)),1))],64)):(0,n.kq)("",!0)])),_:1},8,["label"])])),_:1},8,["data"])}var pt=(0,n.aZ)({name:"TransformativeDamage",props:["data"],computed:{tableDataForElementUI(){let e=[];return e.push({value:this.data.hyperbloom,key:"hyperbloom"}),e.push({value:this.data.burgeon,key:"burgeon"}),e.push({value:this.data.bloom,key:"bloom"}),e.push({value:this.data.electro_charged,key:"electroCharged"}),e.push({value:this.data.overload,key:"overload"}),e.push({value:this.data.shatter,key:"shattered"}),e.push({value:this.data.superconduct,key:"superConduct"}),e.push({value:this.data.burning,key:"burning"}),e.push({value:this.data.swirl_electro,key:"swirlElectro"}),e.push({value:this.data.swirl_pyro,key:"swirlPyro"}),e.push({value:this.data.swirl_cryo,key:"swirlCryo"}),e.push({value:this.data.swirl_hydro,key:"swirlHydro"}),e.push({value:this.data.crystallize,key:"crystallize"}),e}},methods:{f(e){return console.log(e),e.value.toFixed(1)}},setup(){const{t:e}=(0,He.QT)();return{t:e}}});const ft=(0,Fe.Z)(pt,[["render",ht]]);var gt=ft;const vt={class:"root"},yt={class:"display"},wt={key:0};function kt(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("div",vt,[(0,n._)("div",{class:"back",style:(0,p.j5)(i.styleForBack)},null,4),(0,n._)("span",yt,[(0,n.Uk)((0,p.zw)((100*a.value).toFixed(1))+" ",1),a.extra?((0,n.wg)(),(0,n.iD)("span",wt,"/ "+(0,p.zw)(a.extra),1)):(0,n.kq)("",!0)])])}var St={name:"ValueDisplay",props:{value:{},extra:{default:""}},computed:{styleForBack(){return{width:100*this.value+"%"}}}};const _t=(0,Fe.Z)(St,[["render",kt],["__scopeId","data-v-6353f308"]]);var bt=_t;const Ct={class:"item"},Ut={class:"title"},xt={class:"title"};function Nt(e,t,a,l,o,i){const s=u.d6,r=ee.BM;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ct,[(0,n._)("span",Ut,(0,p.zw)(l.t("misc.lvl")),1),(0,n.Wm)(s,{"model-value":a.modelValue.level,"onUpdate:modelValue":t[0]||(t[0]=e=>i.handleInput("level",e)),min:60,max:100},null,8,["model-value"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.elements8,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"item"},[(0,n._)("span",xt,(0,p.zw)(l.t("res",e)),1),(0,n.Wm)(r,{"model-value":a.modelValue[o.resNameMap[e]],"onUpdate:modelValue":t=>i.handleInput(e,t),class:"input",min:-1,max:1,step:.1,"show-input":!0},null,8,["model-value","onUpdate:modelValue","step"])])))),128))],64)}const Dt=Object.freeze(["Pyro","Electro","Hydro","Anemo","Geo","Cryo","Dendro","Physical"]),Vt={Electro:"electro_res",Pyro:"pyro_res",Hydro:"hydro_res",Cryo:"cryo_res",Geo:"geo_res",Anemo:"anemo_res",Dendro:"dendro_res",Physical:"physical_res"};Object.freeze(Vt);var zt={name:"EnemyConfig",props:["modelValue"],emits:["update:modelValue"],data(){return{elements8:Dt,resNameMap:Vt}},methods:{handleInput(e,t){if("level"===e){let e=Object.assign({},this.modelValue);e["level"]=t,this.$emit("update:modelValue",e)}else{const a=this.resNameMap[e];if(this.modelValue[a]!==t){let a=Object.assign({},this.modelValue);a[this.resNameMap[e]]=t,this.$emit("update:modelValue",a)}}}},setup(){const{t:e}=(0,He.QT)();return{t:e}}};const Wt=(0,Fe.Z)(zt,[["render",Nt],["__scopeId","data-v-8b2981d2"]]);var Mt=Wt,Ht=a(7126),Et=a(31133);const Ft={class:"config-items mona-scroll"},At={class:"top"},Pt=["src"],qt={class:"artifact-title"},Tt={style:{"font-size":"12px"}},Kt={class:"effect-title"},Bt={class:"effect-body"};function Lt(e,t,a,l,o,i){const s=Et.Z,r=c.EZ,d=tt.Z;return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r,{modelValue:o.searchString,"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchString=e),style:{"margin-bottom":"16px"},placeholder:l.t("misc.search"),clearable:""},{append:(0,n.w5)((()=>[(0,n.Wm)(s)])),_:1},8,["modelValue","placeholder"]),(0,n._)("div",Ft,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.dataSearched,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.name,class:"item"},[(0,n._)("div",At,[(0,n._)("img",{src:e.thumbnail,class:"image"},null,8,Pt),(0,n._)("div",null,[(0,n._)("h3",qt,(0,p.zw)(e.title),1),(0,n._)("p",Tt,[(0,n._)("span",Kt,(0,p.zw)(l.t("misc.art4")),1),(0,n._)("span",Bt,(0,p.zw)(e.effect4),1)])])]),(0,n.Wm)(d,{"model-value":a.modelValue[e.snake],configs:e.config4,"need-item-name":!1,"onUpdate:modelValue":t=>i.handleChangeValue(e.snake,t)},null,8,["model-value","configs","onUpdate:modelValue"])])))),128))])])}a(74916);var Zt=a(74221),It=a(81880),Rt={name:"ArtifactConfig",components:{ItemConfig:tt.Z},props:["modelValue"],emits:["update:modelValue"],data(){return{searchString:""}},computed:{data(){let e=[];for(let a in It.oN){var t;const l=It.oN[a],n=null!==(t=l.config4)&&void 0!==t?t:[],o=l.name2;n.length>0&&e.push({name:o,title:this.t("artifact",l.eng,"setName"),eng:l.eng,snake:"config_"+(0,me.D1)(o),config4:n,effect4:this.t("artifact",l.eng,"effects.4"),thumbnail:(0,ue.dd)(a)})}return e},dataSearched(){if(""===this.searchString)return this.data;{const e=new Zt.Z(this.data,{keys:["title","effect4"]}),t=e.search(this.searchString);return t.map((e=>e.item))}}},methods:{handleChangeValue(e,t){let a=(0,me.p$)(this.modelValue);a[e]=t,this.$emit("update:modelValue",a)}},setup(){const{t:e}=(0,He.QT)();return{t:e}}};const jt=(0,Fe.Z)(Rt,[["render",Lt],["__scopeId","data-v-f7b8b460"]]);var $t=jt;const Ot={style:{"min-width":"100px"}},Yt=["title"],Gt={class:"item-top"},Qt={class:"item-bottom"},Jt=["onUpdate:modelValue"];function Xt(e,t,a,l,o,i){const s=x.Xb;return(0,n.wg)(),(0,n.iD)("div",Ot,[(0,n._)("div",{class:"header",title:i.result},(0,p.zw)(a.title),9,Yt),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.arr,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.name,class:"item"},[(0,n._)("div",Gt,[(0,n.Wm)(s,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)(e.name),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,n._)("div",Qt,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t=>e.value=t,class:"input"},null,8,Jt),[[f.nr,e.value,void 0,{number:!0}]])])])))),128))])])}var ea={name:"DamageAnalysisUtil",props:{arr:{},title:{default:"title"}},computed:{result(){let e=0;for(let t of this.arr)t.checked&&(e+=parseFloat(t.value));return Math.round(1e3*e)/1e3}}};const ta=(0,Fe.Z)(ea,[["render",Xt],["__scopeId","data-v-6e535a12"]]);var aa=ta;a(64922);const la=e=>((0,n.dD)("data-v-3df04ee9"),e=e(),(0,n.Cn)(),e),na={style:{"margin-bottom":"16px"},class:"flex-row"},oa={key:0,class:"damage-display"},ia={key:1,class:"damage-display"},sa={key:2,class:"damage-display"},ra={key:3,class:"damage-display"},da={key:4,class:"damage-display"},ca={class:"header-row",style:{overflow:"auto","margin-bottom":"16px"}},ua=["title"],ma=["title"],ha=["title"],pa={class:"header-row"},fa={key:7,style:{"min-width":"100px"}},ga=la((()=>(0,n._)("div",{class:"big-title",style:{background:"rgb(236, 245, 255)"}},"蔓激化基础伤害",-1))),va={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},ya={key:8,style:{"min-width":"100px"}},wa=la((()=>(0,n._)("div",{class:"big-title",style:{background:"rgb(236, 245, 255)"}},"超激化基础伤害",-1))),ka={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},Sa=["title"],_a={class:"header-row"},ba=la((()=>(0,n._)("div",{class:"big-title bonus-region"},"加成",-1))),Ca={class:"header-row"},Ua={key:0},xa=la((()=>(0,n._)("div",{class:"big-title reaction-ratio-region"},"反应倍率",-1))),Na={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},Da={key:1},Va=la((()=>(0,n._)("div",{class:"big-title melt-region"},"增幅伤害加成",-1))),za={class:"header-row"},Wa={key:2},Ma=la((()=>(0,n._)("div",{class:"big-title vaporize-region"},"增幅伤害加成",-1))),Ha={class:"header-row"},Ea={key:0,class:"header-row",style:{overflow:"auto"}},Fa=la((()=>(0,n._)("div",{class:"big-title def-minus"},"防御乘区",-1))),Aa={class:"header-row"},Pa=la((()=>(0,n._)("div",{class:"big-title res-minus"},"抗性乘区",-1))),qa={class:"header-row"};function Ta(e,t,a,l,o,i){const s=te.dn,r=te.KD,d=aa;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",na,[(0,n.Wm)(r,{modelValue:o.damageType,"onUpdate:modelValue":t[0]||(t[0]=e=>o.damageType=e),style:{"margin-right":"24px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"normal"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)(i.normalDamageName),1)])),_:1}),i.showMeltOption?((0,n.wg)(),(0,n.j4)(s,{key:0,label:"melt"},{default:(0,n.w5)((()=>[(0,n.Uk)("融化")])),_:1})):(0,n.kq)("",!0),i.showVaporizeOption?((0,n.wg)(),(0,n.j4)(s,{key:1,label:"vaporize"},{default:(0,n.w5)((()=>[(0,n.Uk)("蒸发")])),_:1})):(0,n.kq)("",!0),i.showSpreadOption?((0,n.wg)(),(0,n.j4)(s,{key:2,label:"spread"},{default:(0,n.w5)((()=>[(0,n.Uk)("蔓激化")])),_:1})):(0,n.kq)("",!0),i.showAggravateOption?((0,n.wg)(),(0,n.j4)(s,{key:3,label:"aggravate"},{default:(0,n.w5)((()=>[(0,n.Uk)("超激化")])),_:1})):(0,n.kq)("",!0)])),_:1},8,["modelValue"]),"normal"===o.damageType?((0,n.wg)(),(0,n.iD)("span",oa,(0,p.zw)(Math.round(i.damageNormal)),1)):(0,n.kq)("",!0),"melt"===o.damageType?((0,n.wg)(),(0,n.iD)("span",ia,(0,p.zw)(Math.round(i.damageMelt)),1)):(0,n.kq)("",!0),"vaporize"===o.damageType?((0,n.wg)(),(0,n.iD)("span",sa,(0,p.zw)(Math.round(i.damageVaporize)),1)):(0,n.kq)("",!0),"spread"===o.damageType?((0,n.wg)(),(0,n.iD)("span",ra,(0,p.zw)(Math.round(i.damageSpread)),1)):(0,n.kq)("",!0),"aggravate"===o.damageType?((0,n.wg)(),(0,n.iD)("span",da,(0,p.zw)(Math.round(i.damageAggravate)),1)):(0,n.kq)("",!0)]),(0,n._)("div",ca,[(0,n._)("div",null,["spread"===o.damageType?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"big-title base-damage-region",title:Math.round(1e3*i.baseDamageSpread)/1e3},(0,p.zw)(i.baseRegionName),9,ua)):"aggravate"===o.damageType?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"big-title base-damage-region",title:Math.round(1e3*i.baseDamageAggravate)/1e3},(0,p.zw)(i.baseRegionName),9,ma)):((0,n.wg)(),(0,n.iD)("div",{key:2,class:"big-title base-damage-region",title:Math.round(1e3*i.baseDamage)/1e3},(0,p.zw)(i.baseRegionName),9,ha)),(0,n._)("div",pa,[o.atkRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:0,arr:o.atkState,title:"攻击力"},null,8,["arr"])):(0,n.kq)("",!0),o.atkRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:1,arr:o.atkRatioState,title:"攻击力倍率"},null,8,["arr"])):(0,n.kq)("",!0),o.defRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:2,arr:o.defState,title:"防御力"},null,8,["arr"])):(0,n.kq)("",!0),o.defRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:3,arr:o.defRatioState,title:"防御力倍率"},null,8,["arr"])):(0,n.kq)("",!0),o.hpRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:4,arr:o.hpState,title:"生命值"},null,8,["arr"])):(0,n.kq)("",!0),o.hpRatioState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:5,arr:o.hpRatioState,title:"生命值倍率"},null,8,["arr"])):(0,n.kq)("",!0),o.extraDamageState.length>0?((0,n.wg)(),(0,n.j4)(d,{key:6,arr:o.extraDamageState,title:"其他"},null,8,["arr"])):(0,n.kq)("",!0),"spread"===o.damageType?((0,n.wg)(),(0,n.iD)("div",fa,[ga,(0,n._)("div",va,[(0,n._)("span",null,(0,p.zw)(Math.round(1e3*i.baseDamageQuicken)/1e3),1)])])):(0,n.kq)("",!0),"aggravate"===o.damageType?((0,n.wg)(),(0,n.iD)("div",ya,[wa,(0,n._)("div",ka,[(0,n._)("span",null,(0,p.zw)(Math.round(1e3*i.baseDamageQuicken)/1e3),1)])])):(0,n.kq)("",!0),"spread"===o.damageType?((0,n.wg)(),(0,n.j4)(d,{key:9,arr:o.spreadState,title:"蔓激化伤害提升"},null,8,["arr"])):(0,n.kq)("",!0),"aggravate"===o.damageType?((0,n.wg)(),(0,n.j4)(d,{key:10,arr:o.aggravateState,title:"超激化伤害提升"},null,8,["arr"])):(0,n.kq)("",!0)])]),(0,n.wy)((0,n._)("div",null,[(0,n._)("div",{class:"big-title critical-region",title:Math.round(this.critical*this.criticalDamage*1e3)/1e3},"暴击",8,Sa),(0,n._)("div",_a,[(0,n.Wm)(d,{arr:o.criticalState,title:"暴击率"},null,8,["arr"]),(0,n.Wm)(d,{arr:o.criticalDamageState,title:"暴击伤害"},null,8,["arr"])])],512),[[f.F8,o.isDamage]]),(0,n._)("div",null,[ba,(0,n._)("div",Ca,[(0,n.Wm)(d,{arr:i.bonusRegionState,title:i.bonusRegionName},null,8,["arr","title"])])]),"melt"===o.damageType||"vaporize"===o.damageType?((0,n.wg)(),(0,n.iD)("div",Ua,[xa,(0,n._)("div",Na,[(0,n._)("span",null,(0,p.zw)(i.reactionRatio),1)])])):(0,n.kq)("",!0),"melt"===o.damageType?((0,n.wg)(),(0,n.iD)("div",Da,[Va,(0,n._)("div",za,[(0,n.Wm)(d,{arr:o.meltEnhanceState,title:"融化伤害加成"},null,8,["arr"])])])):(0,n.kq)("",!0),"vaporize"===o.damageType?((0,n.wg)(),(0,n.iD)("div",Wa,[Ma,(0,n._)("div",Ha,[(0,n.Wm)(d,{arr:o.vaporizeEnhanceState,title:"蒸发伤害加成"},null,8,["arr"])])])):(0,n.kq)("",!0)]),o.isDamage?((0,n.wg)(),(0,n.iD)("div",Ea,[(0,n._)("div",null,[Fa,(0,n._)("div",Aa,[(0,n.Wm)(d,{arr:o.defMinusState,title:"减防"},null,8,["arr"]),(0,n.Wm)(d,{arr:o.defPenetrationState,title:"穿防"},null,8,["arr"])])]),(0,n._)("div",null,[Pa,(0,n._)("div",qa,[(0,n.Wm)(d,{arr:o.resMinusState,title:"减抗"},null,8,["arr"])])])])):(0,n.kq)("",!0)],64)}const Ka=[17.165605545043945,18.53504753112793,19.90485382080078,21.27490234375,22.64539909362793,24.649612426757812,26.640642166137695,28.868587493896484,31.367679595947266,34.14334487915039,37.20100021362305,40.65999984741211,44.4466667175293,48.56351852416992,53.74848175048828,59.0818977355957,64.4200439453125,69.72445678710938,75.12313842773438,80.58477783203125,86.11203002929688,91.70374298095703,97.24462890625,102.8126449584961,108.40956115722656,113.20169067382812,118.1029052734375,122.97931671142578,129.72732543945312,136.29290771484375,142.6708526611328,149.02902221679688,155.4169921875,161.82550048828125,169.10630798339844,176.51808166503906,184.07273864746094,191.7095184326172,199.55691528320312,207.38204956054688,215.39889526367188,224.16566467285156,233.50216674804688,243.35057067871094,256.0630798339844,268.5434875488281,281.52606201171875,295.0136413574219,309.06719970703125,323.6015930175781,336.7575378417969,350.5303039550781,364.4826965332031,378.6191711425781,398.60040283203125,416.39825439453125,434.3869934082031,452.9510498046875,472.6062316894531,492.8848876953125,513.5685424804688,539.1032104492188,565.5105590820312,592.5387573242188,624.4434204101562,651.4701538085938,679.496826171875,707.7940673828125,736.6714477539062,765.6402587890625,794.7733764648438,824.6773681640625,851.1577758789062,877.7420654296875,914.2291259765625,946.7467651367188,979.411376953125,1011.2230224609375,1044.791748046875,1077.4437255859375,1109.99755859375,1142.9765625,1176.3695068359375,1210.1844482421875,1253.835693359375,1288.9527587890625,1325.484130859375,1363.4569091796875,1405.097412109375,1446.853515625];function Ba(e){let t=0;for(let a of e)a.checked&&(t+=parseFloat(a.value));return t}var La={name:"DamageAnalysis",components:{DamageAnalysisUtil:aa},props:["enemyConfig","characterLevel"],data(){return{damageType:"normal",element:"Pyro",isHeal:!1,isShield:!1,isDamage:!0,atkState:[{name:"test",value:1e3,checked:!0}],atkRatioState:[{name:"test",value:1e3,checked:!0}],defState:[],defRatioState:[],hpState:[],hpRatioState:[],extraDamageState:[],spreadState:[],aggravateState:[],criticalState:[],criticalDamageState:[],meltEnhanceState:[],vaporizeEnhanceState:[],defMinusState:[],defPenetrationState:[],resMinusState:[],bonusState:[],healingBonusState:[]}},methods:{setValue(e){console.log(e);let t={atkState:"atk",atkRatioState:"atk_ratio",defState:"def",defRatioState:"def_ratio",hpState:"hp",hpRatioState:"hp_ratio",extraDamageState:"extra_damage",criticalState:"critical",criticalDamageState:"critical_damage",meltEnhanceState:"melt_enhance",vaporizeEnhanceState:"vaporize_enhance",bonusState:"bonus",defMinusState:"def_minus",defPenetrationState:"def_penetration",resMinusState:"res_minus",healingBonusState:"healing_bonus",aggravateState:"aggravate_compose",spreadState:"spread_compose"};this.element=e.element,this.isHeal=e.is_heal,this.isShield=e.is_shield,this.isDamage=!this.isHeal&&!this.isShield,this.damageType="normal";for(let a in t){let l=t[a],n=[];for(let t in e[l])n.push({name:t,checked:!0,value:Math.round(1e3*e[l][t])/1e3});this[a]=n}}},computed:{normalDamageName(){const e={Pyro:"火元素伤害",Electro:"雷元素伤害",Hydro:"水元素伤害",Anemo:"风元素伤害",Geo:"岩元素伤害",Dendro:"草元素伤害",Cryo:"冰元素伤害",Physical:"物理伤害"};return this.isHeal?"治疗量":this.isShield?"护盾量":e[this.element]},showMeltOption(){return("Cryo"===this.element||"Pyro"===this.element)&&this.isDamage},showVaporizeOption(){return("Pyro"===this.element||"Hydro"===this.element)&&this.isDamage},showSpreadOption(){return"Dendro"===this.element},showAggravateOption(){return"Electro"===this.element},baseRegionName(){return this.isHeal?"基础治疗":"基础伤害"},bonusRegionState(){return this.isHeal?this.healingBonusState:this.bonusState},bonusRegionName(){return this.isHeal?"治疗加成":"伤害加成"},reactionRatio(){let e={Cryomelt:1.5,Pyromelt:2,Pyrovaporize:1.5,Hydrovaporize:2};return e[this.element+this.damageType]},atk(){return Ba(this.atkState)},atkRatio(){return Ba(this.atkRatioState)},def(){return Ba(this.defState)},defRatio(){return Ba(this.defRatioState)},hp(){return Ba(this.hpState)},hpRatio(){return Ba(this.hpRatioState)},extraDamage(){return Ba(this.extraDamageState)},bonus(){return Ba(this.bonusState)},healingBonus(){return Ba(this.healingBonusState)},critical(){return Math.min(Ba(this.criticalState),1)},criticalDamage(){return Ba(this.criticalDamageState)},meltEnhance(){return Ba(this.meltEnhanceState)},vaporizeEnhance(){return Ba(this.vaporizeEnhanceState)},defMinus(){return Ba(this.defMinusState)},defPenetration(){return Ba(this.defPenetrationState)},resMinus(){return Ba(this.resMinusState)},baseDamage(){return this.atk*this.atkRatio+this.def*this.defRatio+this.hp*this.hpRatio+this.extraDamage},spreadEnhance(){return Ba(this.spreadState)},aggravateEnhance(){return console.log(this.aggravateState),Ba(this.aggravateState)},baseDamageSpread(){return this.baseDamage+1.25*Ka[this.characterLevel-1]*(1+this.spreadEnhance)},baseDamageAggravate(){return this.baseDamage+1.15*Ka[this.characterLevel-1]*(1+this.aggravateEnhance)},baseDamageQuicken(){return Ka[this.characterLevel-1]*("spread"===this.damageType?1.25:1.15)},resRatio(){const e=this.enemyConfig[this.element.toLowerCase()+"_res"],t=e-this.resMinus;let a;return a=t>.75?1/(1+4*t):t>0?1-t:1-t/2,a},defMultiplier(){const e=this.enemyConfig.level,t=this.characterLevel,a=100+t;return a/((1-this.defPenetration)*(1-this.defMinus)*(100+e)+a)},damageSpread(){return this.baseDamageSpread*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier},damageAggravate(){return this.baseDamageAggravate*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier},damageNormal(){let e;return e=this.isHeal?this.baseDamage*(1+this.healingBonus):this.baseDamage*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier,e},damageMelt(){const e=this.damageNormal*this.reactionRatio*(1+this.meltEnhance);return e},damageVaporize(){const e=this.damageNormal*this.reactionRatio*(1+this.vaporizeEnhance);return e}}};const Za=(0,Fe.Z)(La,[["render",Ta],["__scopeId","data-v-3df04ee9"]]);var Ia=Za,Ra=a(92050);function ja(){const e=(0,l.iH)({level:90,electro_res:.1,pyro_res:.1,hydro_res:.1,cryo_res:.1,geo_res:.1,anemo_res:.1,dendro_res:.1,physical_res:.1}),t=(0,n.Fl)((()=>e.value));return{enemyConfig:e,enemyInterface:t}}var $a=a(39347);function Oa(e){const t=(0,l.iH)("AmberDefault"),a=(0,l.iH)("NoConfig"),o=(0,l.iH)(!1),i=(0,l.iH)(""),{t:s}=(0,He.QT)(),r=(0,n.Fl)((()=>Me.F[t.value].badge)),d=(0,n.Fl)((()=>s("tfDesc",t.value))),c=(0,n.Fl)((()=>{const e=Me.F[t.value].config;return e&&e.length>0})),u=(0,n.Fl)((()=>Me.F[t.value].config)),m=(0,n.Fl)((()=>{const e=o.value;return{name:t.value,params:a.value,use_dsl:e,dsl_source:e?i.value:""}}));return(0,n.YP)((()=>e.value),(e=>{const a=Me.F[t.value];if("common"!==a["for"]){const a=Me.e[e];a&&a.length>0?t.value=a[0].name:t.value=Me.e.common[0].name}else{const a=Me.e[e];a&&a.length>0&&(t.value=a[0].name)}}),{flush:"sync"}),(0,n.YP)((()=>t.value),(e=>{t.value=e;const l=Me.F[e].config.length>0;if(l){let t={};for(let a of Me.F[e].config)t[a.name]=a.default;a.value={[e]:t}}else a.value="NoConfig"}),{flush:"sync"}),{targetFunctionName:t,targetFunctionConfig:a,targetFunctionUseDSL:o,targetFunctionDSLSource:i,targetFunctionBadge:r,targetFunctionDescription:d,targetFunctionNeedConfig:c,targetFunctionConfigConfig:u,targetFunctionInterface:m}}const Ya={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ga=(0,n._)("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),Qa=[Ga];function Ja(e,t){return(0,n.wg)(),(0,n.iD)("svg",Ya,Qa)}var Xa={name:"ep-caret-right",render:Ja};const el={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},tl=(0,n._)("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72l-166.272 96l-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96l54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0a192 192 0 0 0 384 0z"},null,-1),al=[tl];function ll(e,t){return(0,n.wg)(),(0,n.iD)("svg",el,al)}var nl={name:"ep-tools",render:ll},ol=a(69531),il=a(10157);const sl={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},rl=(0,n._)("path",{fill:"currentColor",d:"M283.84 867.84L512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08l184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),dl=[rl];function cl(e,t){return(0,n.wg)(),(0,n.iD)("svg",sl,dl)}var ul={name:"ep-star-filled",render:cl},ml=a(75106),hl=a(56217),pl=a(53723),fl=a(37661),gl=a(61774),vl=a(15463),yl=a(92782);function wl(){const e=(0,l.iH)("AStar"),t=(0,l.iH)([]),a=(0,l.iH)([]),o=(0,l.iH)([]),i=(0,l.iH)([]),s=(0,l.iH)(1),r=(0,l.iH)(0),d=(0,l.iH)(0),c=(0,l.iH)(0),u=(0,n.Fl)((()=>{const e=t.value.map((e=>(0,ce.aA)(e))),a=e.length;return 2===a?{Set22:e}:1===a?{Set4:e[0]}:"Any"})),m=(0,n.Fl)((()=>{let e={set_mode:u.value,hp_min:null,atk_min:null,def_min:null,recharge_min:s.value,em_min:r.value,crit_min:d.value,crit_dmg_min:c.value};return e}));return{algorithm:e,constraintArtifactSet:t,constraintSandMainStats:a,constraintGobletMainStats:o,constraintHeadMainStats:i,constraintMinRecharge:s,constraintMinElementalMastery:r,constraintMinCritical:d,constraintMinCriticalDamage:c,constraintSetMode:u,constraintInterface:m}}var kl=a(76494),Sl=a(27554),_l=a(42516),bl=a(23746),Cl=a(78388),Ul=a(75701),xl=a(7025),Nl=a(7041),Dl=a(88229),Vl=a(42119),zl=a(87523),Wl=a(31820),Ml=a(40705),Hl=a.n(Ml),El=a(79509),Fl=(a(3905),a(58425));const Al=e=>((0,n.dD)("data-v-f608349c"),e=e(),(0,n.Cn)(),e),Pl={style:{overflow:"hidden"}},ql={class:"common-title2"},Tl=["innerHTML"],Kl={class:"common-title2"},Bl={style:{"margin-top":"12px","margin-bottom":"12px"}},Ll={class:"common-title2"},Zl={style:{"margin-top":"12px","margin-bottom":"12px"}},Il={class:"constraint-main-stat-item"},Rl={class:"constraint-main-stat-item"},jl={class:"constraint-main-stat-item"},$l={class:"constraint-title"},Ol={class:"constraint-min-item"},Yl={class:"constraint-min-title"},Gl={class:"slider-div"},Ql={class:"constraint-min-item"},Jl={class:"constraint-min-title"},Xl={class:"slider-div"},en={class:"constraint-min-item"},tn={class:"constraint-min-title"},an={class:"slider-div"},ln={class:"constraint-min-item"},nn={class:"constraint-min-title"},on={class:"slider-div"},sn={class:"common-title2"},rn={style:{"max-height":"50vh",overflow:"auto"},class:"mona-scroll"},dn={style:{height:"60vh"},class:"mona-scroll"},cn={class:"common-title2"},un={class:"common-title2"},mn=Al((()=>(0,n._)("span",null,"计算器",-1))),hn={style:{float:"right"}},pn={class:"config-character"},fn=["src"],gn={class:"select-character"},vn={class:"common-title"},yn={style:{display:"flex",gap:"12px"}},wn={class:"config-character-skill"},kn={class:"common-title2"},Sn={class:"skill-div"},_n={class:"config-character-constellation"},bn={class:"common-title2"},Cn={key:0,class:"character-extra-config"},Un={class:"config-weapon"},xn={class:"select-weapon"},Nn={class:"common-title"},Dn={style:{display:"flex",gap:"12px","margin-bottom":"8px"}},Vn={class:"config-weapon-refine"},zn={class:"common-title2"},Wn={key:0,class:"weapon-extra-config"},Mn={class:"config-target-function"},Hn={class:"common-title"},En={key:0,class:"target-function-config",style:{"margin-top":"12px"}},Fn={class:"target-function-detail"},An={class:"detail-left"},Pn=["src"],qn={class:"detail-right"},Tn=["innerHTML"],Kn={class:"config-buff"},Bn=Al((()=>(0,n._)("p",{class:"common-title"},"BUFF",-1))),Ln={class:"buff-tool",style:{"margin-bottom":"12px"}},Zn={key:0,class:"buffs"},In={key:1},Rn={class:"my-button-list",style:{"margin-bottom":"12px"}},jn={class:"common-title"},$n={key:0,style:{margin:"12px 0"}},On={style:{width:"100%"}},Yn={class:"artifact-tool",style:{"margin-bottom":"12px"}},Gn={key:1,style:{"margin-top":"16px"}},Qn={class:"common-description"},Jn={class:"effect4"},Xn=["innerHTML"],eo={class:"common-title"},to={class:"common-title"},ao={class:"my-button-list",style:{"margin-bottom":"12px"}},lo={class:"common-title2"},no={key:0,style:{"margin-bottom":"16px"}},oo={class:"common-title2"},io={class:"damage-analysis-div"},so={class:"common-title2"},ro={class:"common-title2",style:{"margin-top":"24px"}};var co=(0,n.aZ)({__name:"NewArtifactPlanPage",async setup(e){let t,g;const v=(0,Sl.B)(),y=(0,_l.n)(),w=(0,nt.F)(),k=(0,zl.c7)(),S=([t,g]=(0,n.mv)((()=>(0,xl.n)())),t=await t,g(),t),_=(0,Vl.yj)(),{t:b}=(0,He.QT)(),C=(0,l.iH)(),U=(0,l.iH)();function x(){const{presetName:e,artifacts:t,artifactGroups:a}=_.query;e&&"string"===typeof e&&ea(e),a&&"string"===typeof a?Re(JSON.parse(a)):t&&"string"===typeof t&&(Qe.value=JSON.parse(t))}(0,n.dl)(x),(0,n.bv)(x);const{enemyConfig:N,enemyInterface:D}=ja(),V=(0,l.iH)(!1);function z(){V.value=!0}const{characterName:W,characterLevel:M,characterConfig:H,characterSkill1:E,characterSkill2:F,characterSkill3:A,characterConstellation:P,characterWeaponType:q,characterLevelNumber:T,characterAscend:K,characterSplash:B,characterNeedConfig:L,characterConfigConfig:Z,characterInterface:I}=(0,Ra.A)(),{characterSkillConfig:R,characterSkillIndex:j,characterNeedSkillConfig:$,characterSkillConfigConfig:O,characterSkillInterface:Y}=(0,Ra.s)(W),G=(0,l.iH)("None");function Q(e){W.value=e,Ot.value=null,Gt.value=""}const{weaponName:ne,weaponLevel:oe,weaponRefine:ie,weaponConfig:se,weaponLevelNumber:_e,weaponAscend:be,weaponSplash:Ce,weaponNeedConfig:Ue,weaponConfigConfig:xe,weaponInterface:Ne}=(0,$a.t)(q),{targetFunctionName:De,targetFunctionConfig:Ve,targetFunctionUseDSL:ze,targetFunctionDSLSource:We,targetFunctionBadge:Me,targetFunctionDescription:Ee,targetFunctionNeedConfig:Fe,targetFunctionConfigConfig:Ae,targetFunctionInterface:qe}=Oa(W),Te=(0,l.iH)("normal");(0,n.YP)((()=>Te.value),(e=>{ze.value="dsl"===e}));const{artifactGroups:Ke,currentGroupId:Be,resetArtifactGroups:Ie,loadArtifactGroups:Re,addArtifactGroup:Ye,removeArtifactGroup:Ge,artifactIds:Qe,artifactCount:Je,artifactSingleConfig:ot,artifactWasmFormat:it,artifactItems:st,artifactSetCount:rt,artifactNeedConfig4:ct,artifactConfig4ItemName:ut,artifactEffect4Text:mt,artifactConfig4Configs:ht,artifactConfigForCalculator:pt,setArtifact:ft,removeArtifact:vt}=(0,Cl.a)();function yt(e,t){"add"===t?Ye():"remove"===t&&Ge(e)}const wt=(0,l.iH)(!1),kt=(0,l.iH)("flower");function St(e){const t=Ul.m7[e];wt.value=!0,kt.value=t}function _t(e){const t=(0,ue.VO)(kt.value);ft(t,e),wt.value=!1}function Ct(){for(const e of Qe.value)y.lockArtifact(e)}function Ut(){for(const e of Qe.value)y.unlockArtifact(e)}const xt=(0,n.Fl)((()=>{for(const e of Qe.value){let t=y.getArtifact(e);if(t&&!t.omit)return!1}return!0})),Nt=(0,l.iH)(!1),{algorithm:Dt,constraintArtifactSet:Vt,constraintSandMainStats:zt,constraintGobletMainStats:Wt,constraintHeadMainStats:Et,constraintMinRecharge:Ft,constraintMinElementalMastery:At,constraintMinCritical:Pt,constraintMinCriticalDamage:qt,constraintSetMode:Tt,constraintInterface:Kt}=wl(),Bt=(0,l.iH)(null);function Lt(){Nt.value=!0}const Zt=(0,l.iH)(!1),It=(0,l.iH)("auto"),Rt=(0,l.iH)((0,ue.s)());function jt(){Zt.value=!0}const Ot=(0,l.iH)(null),Yt=(0,n.Fl)((()=>{const e=b("character",W.value),t=b("weapon",ne.value);return`${e}-${t}`})),Gt=(0,l.iH)(""),Qt=(0,n.Fl)((()=>Hl()(Xt())!==Gt.value));async function Jt(e){const t=Xt();if(!e){if(e=(await o.T.prompt("输入名称","存为预设",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[^\s]+$/,inputValue:Yt.value})).value,v.presets.value[e])try{await o.T.confirm("已存在该名称的预设，确定覆盖？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}catch(a){return}Ot.value=e}v.addOrOverwrite(e,t),Gt.value=Hl()(t),El.z8.success({message:"保存成功"})}function Xt(){let e=[];for(let a of ta.value)e.push({name:a.name,config:(0,me.p$)(a.config),lock:a.lock});const t={buffs:e,character:(0,me.p$)(I.value),weapon:(0,me.p$)(Ne.value),targetFunction:(0,me.p$)(qe.value),constraint:{setNames:(0,me.p$)(Vt.value),minRecharge:Ft.value,minCritical:Pt.value,minCriticalDamage:qt.value,minElementalMastery:At.value},filter:{sandMainStats:(0,me.p$)(zt.value),gobletMainStats:(0,me.p$)(Wt.value),headMainStats:(0,me.p$)(Et.value)},artifactConfig:(0,me.p$)(Rt.value),algorithm:Dt.value,artifactEffectMode:It.value,useDSL:"dsl"===Te.value,dslSource:We.value,name:""};return t}function ea(e){var t,a,l;const n=v.presets.value[e];if(!n||!n.item)return;const o=(0,me.p$)(n.item),i=new bl.C;if(o.buffs){const e=[];for(let t of o.buffs){const a={id:i.generateId(),name:t.name,config:t.config,lock:t.lock};e.push(a)}ta.value=e}const s=o.character;var r;s&&(W.value=s.name,M.value=s.level.toString()+(s.ascend?"+":"-"),P.value=null!==(r=s.constellation)&&void 0!==r?r:0,E.value=s.skill1+1,F.value=s.skill2+1,A.value=s.skill3+1,H.value=s.params);const d=o.weapon;d&&(ne.value=d.name,oe.value=d.level.toString()+(d.ascend?"+":"-"),ie.value=d.refine,se.value=d.params);const c=o.targetFunction;c&&(De.value=c.name,Ve.value=c.params);const u=!!o.useDSL;var m;u?(Te.value="dsl",We.value=null!==(m=o.dslSource)&&void 0!==m?m:""):Te.value="normal";const h=o.constraint;var p,f,g,y,w;h&&(Vt.value=null!==(p=h.setNames)&&void 0!==p?p:[],qt.value=null!==(f=h.minCriticalDamage)&&void 0!==f?f:0,Pt.value=null!==(g=h.minCritical)&&void 0!==g?g:0,At.value=null!==(y=h.minElementalMastery)&&void 0!==y?y:0,Ft.value=null!==(w=h.minRecharge)&&void 0!==w?w:1);const k=o.filter;var S,_,b;k&&(zt.value=null!==(S=k.sandMainStats)&&void 0!==S?S:[],Wt.value=null!==(_=k.gobletMainStats)&&void 0!==_?_:[],Et.value=null!==(b=k.headMainStats)&&void 0!==b?b:[]);Dt.value=null!==(t=o.algorithm)&&void 0!==t?t:"AStar","Heuristic"===Dt.value&&(Dt.value="AStar"),It.value=null!==(a=o.artifactEffectMode)&&void 0!==a?a:"auto",Rt.value=null!==(l=o.artifactConfig)&&void 0!==l?l:(0,ue.s)(),Ot.value=e,Gt.value=Hl()(Xt())}const{buffs:ta,buffsInterface:aa,addBuff:la,deleteBuff:na,toggleBuff:oa}=(0,kl.q)(),ia=(0,l.iH)(!1);function sa(){ia.value=!0}function ra(e){na(e)}function da(e){oa(e)}function ca(e){ia.value=!1,la(e)}const ua=(0,l.iH)(!1),ma=(0,l.iH)(null),ha=(0,n.Fl)((()=>({character:I.value,weapon:Ne.value,buffs:aa.value,artifacts:it.value,artifact_config:pt.value,skill:Y.value,enemy:D.value}))),pa=(0,n.Fl)((()=>{let e=null;"None"!==G.value&&(e=G.value);const t=S.CalculatorInterface.get_damage_analysis(ha.value,e);return t})),fa=(0,n.Fl)((()=>{const e=S.CalculatorInterface.get_transformative_damage(ha.value);return e}));function ga(){ua.value=!0,(0,n.Y3)((()=>{if(ma.value){const e=ma.value;e.setValue(pa.value)}}))}const va=(0,n.Fl)((()=>({character:I.value,weapon:Ne.value,buffs:aa.value,artifacts:it.value,artifact_config:pt.value}))),ya=(0,n.Fl)((()=>S.CommonInterface.get_attribute(va.value))),wa=(0,l.iH)({}),ka=(0,l.iH)(!1),Sa=(0,n.Fl)((()=>({character:I.value,weapon:Ne.value,artifacts:it.value,tf:qe.value,buffs:aa.value,artifacts_config:pt.value})));function _a(){wa.value=S.BonusPerStat.bonus_per_stat(Sa.value),ka.value=!0}const ba=(0,n.RC)({loader:()=>Promise.all([a.e(9960),a.e(3042)]).then(a.bind(a,43042))}),Ca=(0,l.iH)(!1),Ua=(0,l.iH)(!1),xa=(0,n.Fl)((()=>{let e=b("character",W.value);for(const t in rt.value)rt.value[t]>=2&&(e+="-"+b("artifact",t,"setName"));return e})),Na=(0,n.Fl)((()=>{const e=[];for(const a of w.dirs.value){var t;const l=null!==(t=a.children)&&void 0!==t?t:[];if(l.length>0){const t=[];for(let e of l){const a=w.kumiById.value.get(e);a&&t.push({label:a.title,id:a.id})}const n={label:a.title,children:t,id:a.id};e.push(n)}}return e}));function Da(){Ca.value=!0}function Va({dirIds:e,name:t}){Ca.value=!1;for(const a of e){let e=w.createKumi(a,t);if(e)for(const t of Qe.value)t>=0&&w.addArtifact(e,t)}}function za(){Ua.value=!0}function Wa(e){const t=w.kumiById.value.get(e.id);if(t&&!t.dir&&t.artifactIds){Ua.value=!1;for(let e=0;e<5;e++){const a=t.artifactIds[e];Qe.value[e]=null!==a?a:-1}}}const Ma=(0,l.iH)(!1),Ha=(0,n.RC)({loader:()=>Promise.all([a.e(9960),a.e(5429)]).then(a.bind(a,5429)),loadingComponent:Nl.Z,errorComponent:Dl.Z});function Ea(){Ma.value=!0}const Fa=(0,l.iH)([]),Aa=(0,l.iH)(0);function Pa(e){const t=Fa.value[e-1],a=e=>null!==e?e:-1;let l=[];l.push(a(t.flower)),l.push(a(t.feather)),l.push(a(t.sand)),l.push(a(t.goblet)),l.push(a(t.head)),Qe.value=l,Aa.value=e}function qa(){let e=null;"custom"===It.value&&(e=Rt.value);const t={character:I.value,weapon:Ne.value,target_function:qe.value,constraint:Kt.value,buffs:aa.value,artifact_config:e,algorithm:Dt.value};return(0,me.p$)(t)}function Ta(){const e=Bt.value;let t=new Set;if(e){const a=e.getCheckedNodes(!0);for(let e of a){const a=e.id,l=w.kumiById.value.get(a);if(l&&l.artifactIds)for(const e of l.artifactIds)t.add(e)}}for(let l of y.artifacts.value.values()){const e=l.position,a=l.mainTag.name,n=l.id;if("sand"===e){if(zt.value.length>0){const e=zt.value.indexOf(a);-1===e&&t.add(n)}}else if("cup"===e){if(Wt.value.length>0){const e=Wt.value.indexOf(a);-1===e&&t.add(n)}}else if("head"===e&&Et.value.length>0){const e=Et.value.indexOf(a);-1===e&&t.add(n)}}let a=[];for(let l of y.artifacts.value.values())l.omit||t.has(l.id)||a.push(l);return a.filter((e=>!e.omit))}function Ka(){return Ta().map((e=>(0,ce.Lz)(e)))}function Ba(){const e=Ka(),t=e.filter((e=>e.level>=16));return t}const La=(0,l.iH)(null);async function Za(){const e=new Date,t=i.kN.service({target:U.value.$el,lock:!0,fullscreen:!0,text:"莫娜占卜中"}),a=qa(),l=Ba(),[n,o]=(0,he.Y)(a,l,12e4,!0);La.value=o;try{const a=await n,l=new Date;if(console.log(`optimize time: ${(l-e)/1e3}s`),0===a.length)return void El.z8.error({message:"没有符合条件的圣遗物"});if(Fa.value=a,Pa(1),y.artifacts20Count.value>=100){let e=[],t=a[0];e.push(t.flower),e.push(t.feather),e.push(t.sand),e.push(t.goblet),e.push(t.head),e=e.filter((e=>null!==e&&void 0!==e)).map((e=>y.artifacts.value.get(e))).filter((e=>!!e)).map((e=>(0,ce.Lz)(e))),(0,pe.Cm)(I.value,Ne.value,aa.value,qe.value,e)}}catch(r){var s;El.z8.error({message:null!==(s=r.message)&&void 0!==s?s:r})}finally{La.value=null,t.close()}}return(0,n.YP)((()=>k.currentAccountId.value),(()=>{Fa.value=[],Aa.value=0,Ot.value=null,Gt.value="",Ie()})),(e,t)=>{const a=de.d0,o=re,i=le.Q0,g=ae.v,v=te.rh,w=te.KD,k=ee.BM,S=X.Dv,_=J,x=h.dq,D=s.mi,K=m.os,I=u.d6,Y=d.p8,ce=c.EZ,ue=d.Ub,me=r.GT,he=s.MO;return(0,n.wg)(),(0,n.iD)("div",Pl,[(0,n.Wm)(Wl.Z,{ref_key:"applyPresetDialog",ref:C,onSelected:t[0]||(t[0]=e=>ea(e))},null,512),(0,n.Wm)(a,{title:(0,l.SU)(b)("calcPage.selectArt"),width:(0,l.SU)(fe.B)?"80%":"90%",modelValue:wt.value,"onUpdate:modelValue":t[1]||(t[1]=e=>wt.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(ge.Z,{position:kt.value,onSelect:_t},null,8,["position"])])),_:1},8,["title","width","modelValue"]),(0,n.Wm)(a,{modelValue:ua.value,"onUpdate:modelValue":t[2]||(t[2]=e=>ua.value=e),title:(0,l.SU)(b)("calcPage.dmgComp"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(Ia),{ref_key:"damageAnalysisComponent",ref:ma,"enemy-config":(0,l.SU)(N),"character-level":(0,l.SU)(T)},null,8,["enemy-config","character-level"])])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:ia.value,"onUpdate:modelValue":t[3]||(t[3]=e=>ia.value=e),title:(0,l.SU)(b)("calcPage.selectBuff"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ze.Z,{onSelect:ca})])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:Nt.value,"onUpdate:modelValue":t[13]||(t[13]=e=>Nt.value=e),title:(0,l.SU)(b)("calcPage.setupCalc"),width:(0,l.SU)(fe.B)?"900px":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{justify:"space-between"},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{span:14},{default:(0,n.w5)((()=>[(0,n._)("p",ql,[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("misc.algo"))+" ",1),(0,n.Wm)(i,null,{content:(0,n.w5)((()=>[(0,n._)("span",{innerHTML:(0,l.SU)(b)("calcPage.algoDesc")},null,8,Tl)])),default:(0,n.w5)((()=>[(0,n.Wm)(o)])),_:1})]),"Naive"===(0,l.SU)(Dt)?((0,n.wg)(),(0,n.j4)(g,{key:0,title:(0,l.SU)(b)("calcPage.plzSetConst"),type:"warning",style:{"margin-bottom":"12px"}},null,8,["title"])):(0,n.kq)("",!0),(0,n.Wm)(w,{modelValue:(0,l.SU)(Dt),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,l.dq)(Dt)?Dt.value=e:null)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{label:"AStar"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.aStar")),1)])),_:1}),(0,n.Wm)(v,{label:"Naive"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.naive")),1)])),_:1})])),_:1},8,["modelValue"]),(0,n._)("p",Kl,(0,p.zw)((0,l.SU)(b)("calcPage.constSet")),1),(0,n._)("div",Bl,[(0,n.Wm)((0,l.SU)(ve.Z),{multiple:"",modelValue:(0,l.SU)(Vt),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,l.dq)(Vt)?Vt.value=e:null),style:{width:"100%"},placeholder:(0,l.SU)(b)("calcPage.constSet")},null,8,["modelValue","placeholder"])]),(0,n._)("p",Ll,(0,p.zw)((0,l.SU)(b)("calcPage.constMain")),1),(0,n._)("div",Zl,[(0,n._)("div",Il,[(0,n._)("span",null,(0,p.zw)((0,l.SU)(b)("misc.sand")),1),(0,n.Wm)((0,l.SU)(Ht.Z),{modelValue:(0,l.SU)(zt),"onUpdate:modelValue":t[6]||(t[6]=e=>(0,l.dq)(zt)?zt.value=e:null),"include-any":!1,multiple:!0,position:"sand",style:(0,p.j5)({width:"calc(100% - 48px)"}),placeholder:(0,l.SU)(b)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])]),(0,n._)("div",Rl,[(0,n._)("span",null,(0,p.zw)((0,l.SU)(b)("misc.cup")),1),(0,n.Wm)((0,l.SU)(Ht.Z),{modelValue:(0,l.SU)(Wt),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,l.dq)(Wt)?Wt.value=e:null),"include-any":!1,multiple:!0,position:"cup",style:(0,p.j5)({width:"calc(100% - 48px)"}),placeholder:(0,l.SU)(b)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])]),(0,n._)("div",jl,[(0,n._)("span",null,(0,p.zw)((0,l.SU)(b)("misc.head")),1),(0,n.Wm)((0,l.SU)(Ht.Z),{modelValue:(0,l.SU)(Et),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,l.dq)(Et)?Et.value=e:null),"include-any":!1,multiple:!0,position:"head",style:(0,p.j5)({width:"calc(100% - 48px)"}),placeholder:(0,l.SU)(b)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])])]),(0,n._)("p",$l,(0,p.zw)((0,l.SU)(b)("calcPage.constMin")),1),(0,n._)("div",null,[(0,n._)("div",Ol,[(0,n._)("span",Yl,(0,p.zw)((0,l.SU)(b)("stat.recharge")),1),(0,n._)("div",Gl,[(0,n.Wm)(k,{min:1,max:4,step:.05,modelValue:(0,l.SU)(Ft),"onUpdate:modelValue":t[9]||(t[9]=e=>(0,l.dq)(Ft)?Ft.value=e:null),"show-input":(0,l.SU)(fe.B)},null,8,["step","modelValue","show-input"])])]),(0,n._)("div",Ql,[(0,n._)("span",Jl,(0,p.zw)((0,l.SU)(b)("stat.elementalMastery")),1),(0,n._)("div",Xl,[(0,n.Wm)(k,{min:0,max:2e3,step:10,modelValue:(0,l.SU)(At),"onUpdate:modelValue":t[10]||(t[10]=e=>(0,l.dq)(At)?At.value=e:null),"show-input":(0,l.SU)(fe.B)},null,8,["modelValue","show-input"])])]),(0,n._)("div",en,[(0,n._)("span",tn,(0,p.zw)((0,l.SU)(b)("stat.critical")),1),(0,n._)("div",an,[(0,n.Wm)(k,{min:0,max:1,step:.01,modelValue:(0,l.SU)(Pt),"onUpdate:modelValue":t[11]||(t[11]=e=>(0,l.dq)(Pt)?Pt.value=e:null),"show-input":(0,l.SU)(fe.B)},null,8,["step","modelValue","show-input"])])]),(0,n._)("div",ln,[(0,n._)("span",nn,(0,p.zw)((0,l.SU)(b)("stat.criticalDamage")),1),(0,n._)("div",on,[(0,n.Wm)(k,{min:0,max:4,step:.1,modelValue:(0,l.SU)(qt),"onUpdate:modelValue":t[12]||(t[12]=e=>(0,l.dq)(qt)?qt.value=e:null),"show-input":(0,l.SU)(fe.B)},null,8,["step","modelValue","show-input"])])])])])),_:1}),(0,n.Wm)(S,{span:9},{default:(0,n.w5)((()=>[(0,n._)("p",sn,(0,p.zw)((0,l.SU)(b)("calcPage.filKumi")),1),(0,n._)("div",rn,[(0,n.Wm)(_,{data:(0,l.SU)(Na),"show-checkbox":"",ref_key:"filterKumiRef",ref:Bt},null,8,["data"])])])),_:1})])),_:1})])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:Ma.value,"onUpdate:modelValue":t[14]||(t[14]=e=>Ma.value=e),title:(0,l.SU)(b)("calcPage.artAnalysis"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(Ha),{"artifact-ids":(0,l.SU)(Qe)},null,8,["artifact-ids"])])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:ka.value,"onUpdate:modelValue":t[15]||(t[15]=e=>ka.value=e),title:(0,l.SU)(b)("calcPage.statCurve"),width:(0,l.SU)(fe.B)?"80%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(ba),{data:wa.value},null,8,["data"])])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(dt,{modelValue:Ca.value,"onUpdate:modelValue":t[16]||(t[16]=e=>Ca.value=e),"default-name":(0,l.SU)(xa),onConfirm:Va},null,8,["modelValue","default-name"]),(0,n.Wm)(a,{modelValue:Ua.value,"onUpdate:modelValue":t[17]||(t[17]=e=>Ua.value=e),title:(0,l.SU)(b)("calcPage.selectKumi"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n._)("div",dn,[(0,n.Wm)(_,{data:(0,l.SU)(Na),onNodeClick:Wa},null,8,["data"])])])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:V.value,"onUpdate:modelValue":t[19]||(t[19]=e=>V.value=e),title:(0,l.SU)(b)("calcPage.setupEnemy"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(Mt),{modelValue:(0,l.SU)(N),"onUpdate:modelValue":t[18]||(t[18]=e=>(0,l.dq)(N)?N.value=e:null)},null,8,["modelValue"])])),_:1},8,["modelValue","title","width"]),(0,n.Wm)(a,{modelValue:Zt.value,"onUpdate:modelValue":t[22]||(t[22]=e=>Zt.value=e),title:(0,l.SU)(b)("calcPage.setupArt"),width:(0,l.SU)(fe.B)?"60%":"90%"},{default:(0,n.w5)((()=>[(0,n._)("h3",cn,(0,p.zw)((0,l.SU)(b)("calcPage.artMode")),1),(0,n.Wm)(w,{modelValue:It.value,"onUpdate:modelValue":t[20]||(t[20]=e=>It.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{label:"auto"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.modeAuto")),1)])),_:1}),(0,n.Wm)(v,{label:"custom"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.modeCustom")),1)])),_:1})])),_:1},8,["modelValue"]),(0,n._)("h3",un,(0,p.zw)((0,l.SU)(b)("calcPage.artEffect")),1),(0,n.Wm)($t,{modelValue:Rt.value,"onUpdate:modelValue":t[21]||(t[21]=e=>Rt.value=e)},null,8,["modelValue"])])),_:1},8,["modelValue","title","width"]),(0,n._)("div",null,[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S,{span:6},{default:(0,n.w5)((()=>[mn])),_:1}),(0,n.Wm)(S,{span:18},{default:(0,n.w5)((()=>[(0,n._)("div",hn,[La.value?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(D,{type:"danger",size:"small",icon:(0,l.SU)(fl.Z),onClick:La.value},{default:(0,n.w5)((()=>[(0,n.Uk)("中止计算")])),_:1},8,["icon","onClick"]),(0,n.Wm)(K,{direction:"vertical"})],64)):(0,n.kq)("",!0),Ot.value?((0,n.wg)(),(0,n.j4)(D,{key:1,type:"primary",size:"small",icon:(0,l.SU)(gl.Z),disabled:!(0,l.SU)(Qt),onClick:t[23]||(t[23]=e=>Jt(Ot.value))},{default:(0,n.w5)((()=>[(0,n.Uk)("保存预设「"+(0,p.zw)(Ot.value)+"」",1)])),_:1},8,["icon","disabled"])):(0,n.kq)("",!0),(0,n.Wm)(D,{type:Ot.value?"default":"primary",size:"small",icon:(0,l.SU)(vl.Z),onClick:t[24]||(t[24]=e=>Jt(null))},{default:(0,n.w5)((()=>[(0,n.Uk)("存为新预设")])),_:1},8,["type","icon"]),(0,n.Wm)(D,{type:"default",size:"small",icon:(0,l.SU)(yl.Z),onClick:t[25]||(t[25]=e=>C.value.open())},{default:(0,n.w5)((()=>[(0,n.Uk)("导入预设")])),_:1},8,["icon"])])])),_:1})])),_:1}),(0,n.Wm)(K,{style:{margin:"12px 0"}})]),(0,n.Wm)(x,{class:"big-container",ref_key:"bigContainer",ref:U},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{class:"left-container mona-scroll-hidden",sm:24,md:6},{default:(0,n.w5)((()=>[(0,n._)("div",pn,[(0,n._)("img",{src:(0,l.SU)(B),alt:"角色",class:"character-splash"},null,8,fn),(0,n._)("div",gn,[(0,n._)("p",vn,(0,p.zw)((0,l.SU)(b)("misc.character")),1),(0,n._)("div",yn,[(0,n.Wm)(ye.Z,{"model-value":(0,l.SU)(W),"onUpdate:modelValue":Q,style:{flex:"1"}},null,8,["model-value"]),(0,n.Wm)(we.Z,{modelValue:(0,l.SU)(M),"onUpdate:modelValue":t[26]||(t[26]=e=>(0,l.dq)(M)?M.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,n._)("div",wn,[(0,n._)("h3",kn,(0,p.zw)((0,l.SU)(b)("misc.skill")),1),(0,n._)("div",Sn,[(0,n.Wm)(I,{"controls-position":"right",modelValue:(0,l.SU)(E),"onUpdate:modelValue":t[27]||(t[27]=e=>(0,l.dq)(E)?E.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,n.Wm)(I,{"controls-position":"right",modelValue:(0,l.SU)(F),"onUpdate:modelValue":t[28]||(t[28]=e=>(0,l.dq)(F)?F.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,n.Wm)(I,{"controls-position":"right",modelValue:(0,l.SU)(A),"onUpdate:modelValue":t[29]||(t[29]=e=>(0,l.dq)(A)?A.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"])])]),(0,n._)("div",_n,[(0,n._)("h3",bn,(0,p.zw)((0,l.SU)(b)("misc.conste")),1),(0,n.Wm)(je,{modelValue:(0,l.SU)(P),"onUpdate:modelValue":t[30]||(t[30]=e=>(0,l.dq)(P)?P.value=e:null),min:0,max:6},null,8,["modelValue"])]),(0,l.SU)(L)?((0,n.wg)(),(0,n.iD)("div",Cn,[(0,n.Wm)((0,l.SU)(tt.Z),{modelValue:(0,l.SU)(H),"onUpdate:modelValue":t[31]||(t[31]=e=>(0,l.dq)(H)?H.value=e:null),"item-name":(0,l.SU)(W),configs:(0,l.SU)(Z)},null,8,["modelValue","item-name","configs"])])):(0,n.kq)("",!0)])]),(0,n.Wm)(K),(0,n._)("div",Un,[(0,n._)("div",xn,[(0,n._)("p",Nn,(0,p.zw)((0,l.SU)(b)("misc.weapon")),1),(0,n._)("div",Dn,[(0,n.Wm)(ke.Z,{type:(0,l.SU)(q),modelValue:(0,l.SU)(ne),"onUpdate:modelValue":t[32]||(t[32]=e=>(0,l.dq)(ne)?ne.value=e:null),style:{flex:"1"}},null,8,["type","modelValue"]),(0,n.Wm)(Se.Z,{modelValue:(0,l.SU)(oe),"onUpdate:modelValue":t[33]||(t[33]=e=>(0,l.dq)(oe)?oe.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,n.Wm)(lt.Z,{"weapon-name":(0,l.SU)(ne)},null,8,["weapon-name"]),(0,n._)("div",Vn,[(0,n._)("h3",zn,(0,p.zw)((0,l.SU)(b)("misc.refine")),1),(0,n.Wm)(je,{modelValue:(0,l.SU)(ie),"onUpdate:modelValue":t[34]||(t[34]=e=>(0,l.dq)(ie)?ie.value=e:null),min:1,max:5},null,8,["modelValue"])]),(0,l.SU)(Ue)?((0,n.wg)(),(0,n.iD)("div",Wn,[(0,n.Wm)((0,l.SU)(tt.Z),{modelValue:(0,l.SU)(se),"onUpdate:modelValue":t[35]||(t[35]=e=>(0,l.dq)(se)?se.value=e:null),"item-name":(0,l.SU)(ne),configs:(0,l.SU)(xe)},null,8,["modelValue","item-name","configs"])])):(0,n.kq)("",!0)])]),(0,n.Wm)(K),(0,n._)("div",Mn,[(0,n._)("p",Hn,(0,p.zw)((0,l.SU)(b)("misc.tf")),1),(0,n.Wm)(ue,{modelValue:Te.value,"onUpdate:modelValue":t[39]||(t[39]=e=>Te.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{label:(0,l.SU)(b)("calcPage.tfNormal"),name:"normal"},{default:(0,n.w5)((()=>[(0,n.Wm)(Pe,{modelValue:(0,l.SU)(De),"onUpdate:modelValue":t[36]||(t[36]=e=>(0,l.dq)(De)?De.value=e:null),"character-name":(0,l.SU)(W)},null,8,["modelValue","character-name"]),(0,l.SU)(Fe)?((0,n.wg)(),(0,n.iD)("div",En,[(0,n.Wm)((0,l.SU)(tt.Z),{modelValue:(0,l.SU)(Ve),"onUpdate:modelValue":t[37]||(t[37]=e=>(0,l.dq)(Ve)?Ve.value=e:null),"item-name":(0,l.SU)(De),configs:(0,l.SU)(Ae)},null,8,["modelValue","item-name","configs"])])):(0,n.kq)("",!0),(0,n._)("div",Fn,[(0,n._)("div",An,[(0,n._)("img",{src:(0,l.SU)(Me)},null,8,Pn)]),(0,n._)("div",qn,[(0,n._)("p",{class:"target-function-description",innerHTML:(0,l.SU)(Ee)},null,8,Tn)])])])),_:1},8,["label"]),(0,n.Wm)(Y,{label:"MONA-DSL",name:"dsl"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{type:"warning",title:(0,l.SU)(b)("calcPage.beta"),closable:!1,style:{"margin-bottom":"8px"}},null,8,["title"]),(0,n.Wm)(ce,{type:"textarea",rows:10,placeholder:(0,l.SU)(b)("misc.code"),modelValue:(0,l.SU)(We),"onUpdate:modelValue":t[38]||(t[38]=e=>(0,l.dq)(We)?We.value=e:null),class:"code-input"},null,8,["placeholder","modelValue"])])),_:1})])),_:1},8,["modelValue"])]),(0,n.Wm)(K),(0,n._)("div",Kn,[Bn,(0,n._)("div",Ln,[(0,n.Wm)(D,{icon:(0,l.SU)(ol.Z),onClick:sa,title:"添加BUFF",circle:"",text:""},null,8,["icon"])]),(0,l.SU)(ta).length>0?((0,n.wg)(),(0,n.iD)("div",Zn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(ta),(e=>((0,n.wg)(),(0,n.j4)((0,l.SU)(at.Z),{key:e.id,buff:e,buffConfig:e.config,"onUpdate:buffConfig":t=>e.config=t,onDelete:t=>ra(e.id),onToggle:t=>da(e.id)},null,8,["buff","buffConfig","onUpdate:buffConfig","onDelete","onToggle"])))),128))])):((0,n.wg)(),(0,n.iD)("div",In,[(0,n.Wm)(me,{description:"无BUFF"})]))])])),_:1}),(0,n.Wm)(S,{sm:24,md:9,class:"middle-container mona-scroll-hidden"},{default:(0,n.w5)((()=>[(0,n._)("div",Rn,[(0,n.Wm)(he,null,{default:(0,n.w5)((()=>[(0,n.Wm)(D,{type:"primary",icon:(0,l.SU)(Xa),onClick:Za},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.start")),1)])),_:1},8,["icon"]),(0,n.Wm)(D,{icon:(0,l.SU)(nl),onClick:Lt},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.setupCalc")),1)])),_:1},8,["icon"]),(0,n.Wm)(D,{icon:(0,l.SU)(nl),onClick:jt},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.setupArt")),1)])),_:1},8,["icon"])])),_:1})]),(0,n._)("p",jn,(0,p.zw)((0,l.SU)(b)("misc.artifact")),1),Fa.value.length>0?((0,n.wg)(),(0,n.iD)("div",$n,[(0,n._)("div",On,[(0,n.Wm)(k,{"model-value":Aa.value,"onUpdate:modelValue":Pa,min:1,max:Fa.value.length,"show-input":"","show-stops":""},null,8,["model-value","max"])]),(0,n.Wm)((0,l.SU)(bt),{value:Fa.value[Aa.value-1].ratio,extra:Fa.value[Aa.value-1].value.toFixed(1),style:{"margin-top":"12px"}},null,8,["value","extra"])])):(0,n.kq)("",!0),(0,n._)("div",Yn,[(0,n.Wm)(he,{style:{"margin-bottom":"6px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{icon:(0,l.SU)(ul),onClick:Da},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.saveKumi")),1)])),_:1},8,["icon"]),(0,n.Wm)(D,{icon:(0,l.SU)(ml.Z),onClick:za},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.useKumi")),1)])),_:1},8,["icon"]),(0,n.wy)((0,n.Wm)(D,{icon:(0,l.SU)(xt)?(0,l.SU)(pl.Z):(0,l.SU)(hl.Z),onClick:t[40]||(t[40]=()=>{(0,l.SU)(xt)?Ut():Ct()})},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(xt)?(0,l.SU)(b)("calcPage.unlockAll"):(0,l.SU)(b)("calcPage.lockAll")),1)])),_:1},8,["icon"]),[[f.F8,(0,l.SU)(Je)>0]])])),_:1}),(0,n.Wm)(he,null,{default:(0,n.w5)((()=>[(0,n.Wm)(D,{icon:(0,l.SU)(il.Z),onClick:Ea},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.statAnalysis")),1)])),_:1},8,["icon"]),(0,n.Wm)(D,{icon:(0,l.SU)(il.Z),onClick:_a},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.statCurve")),1)])),_:1},8,["icon"])])),_:1})]),(0,n._)("div",null,[(0,n.Wm)(ue,{modelValue:(0,l.SU)(Be),"onUpdate:modelValue":t[41]||(t[41]=e=>(0,l.dq)(Be)?Be.value=e:null),type:"card",addable:"",onEdit:yt,style:{width:"100%"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(Ke),((e,t)=>((0,n.wg)(),(0,n.j4)(Y,{key:e.id,name:e.id,label:`圣遗物组${t+1}`,closable:(0,l.SU)(Ke).length>1,lazy:"",class:"artifacts",style:{width:"100%"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(Qe),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"artifact-item-or-button"},[(0,l.SU)(st)[t]?((0,n.wg)(),(0,n.j4)((0,l.SU)($e.Z),{key:0,item:(0,l.SU)(st)[t],selectable:"",buttons:!0,"delete-button":!0,onDelete:e=>(0,l.SU)(vt)(t),onToggle:t=>(0,l.SU)(y).toggleArtifact(e),onClick:e=>St(t),class:"artifact-display"},null,8,["item","onDelete","onToggle","onClick"])):((0,n.wg)(),(0,n.j4)((0,l.SU)(Oe.Z),{key:1,onClick:e=>St(t),class:"add-button"},null,8,["onClick"]))])))),128))])),_:2},1032,["name","label","closable"])))),128))])),_:1},8,["modelValue"])]),(0,l.SU)(ct)?((0,n.wg)(),(0,n.iD)("div",Gn,[(0,n._)("p",Qn,[(0,n._)("span",Jn,(0,p.zw)((0,l.SU)(b)("calcPage.effect4")),1),(0,n._)("span",{innerHTML:(0,l.SU)(mt)},null,8,Xn)]),(0,l.SU)(ot)?((0,n.wg)(),(0,n.j4)((0,l.SU)(tt.Z),{key:0,modelValue:(0,l.SU)(ot),"onUpdate:modelValue":t[42]||(t[42]=e=>(0,l.dq)(ot)?ot.value=e:null),"item-name":(0,l.SU)(ut),configs:(0,l.SU)(ht)},null,8,["modelValue","item-name","configs"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(S,{sm:24,md:9,class:"right-container mona-scroll-hidden"},{default:(0,n.w5)((()=>[(0,n._)("div",eo,(0,p.zw)((0,l.SU)(b)("calcPage.panel")),1),(0,n.Wm)((0,l.SU)(et.Z),{attribute:(0,l.SU)(ya)},null,8,["attribute"]),(0,n.Wm)(K),(0,n._)("p",to,(0,p.zw)((0,l.SU)(b)("calcPage.dmg")),1),(0,n._)("div",ao,[(0,n.Wm)(he,null,{default:(0,n.w5)((()=>[(0,n.Wm)(D,{icon:(0,l.SU)(il.Z),onClick:ga},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.detail")),1)])),_:1},8,["icon"]),(0,n.Wm)(D,{icon:(0,l.SU)(nl),onClick:z},{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)((0,l.SU)(b)("calcPage.setupEnemy")),1)])),_:1},8,["icon"])])),_:1})]),(0,n._)("div",null,[(0,n._)("h3",lo,(0,p.zw)((0,l.SU)(b)("calcPage.fumo")),1),(0,n.Wm)(Fl.Z,{modelValue:G.value,"onUpdate:modelValue":t[43]||(t[43]=e=>G.value=e),elements:["Pyro","Electro","Hydro","Anemo","Geo","Cryo","Dendro","None"]},null,8,["modelValue"])]),(0,l.SU)($)?((0,n.wg)(),(0,n.iD)("div",no,[(0,n._)("h3",oo,(0,p.zw)((0,l.SU)(b)("calcPage.skillConfig")),1),(0,n.Wm)((0,l.SU)(tt.Z),{modelValue:(0,l.SU)(R),"onUpdate:modelValue":t[44]||(t[44]=e=>(0,l.dq)(R)?R.value=e:null),"item-name":(0,l.SU)(W),configs:(0,l.SU)(O)},null,8,["modelValue","item-name","configs"])])):(0,n.kq)("",!0),(0,n._)("div",io,[(0,n._)("h3",so,(0,p.zw)((0,l.SU)(b)("calcPage.skill")),1),(0,n.Wm)(Le,{modelValue:(0,l.SU)(j),"onUpdate:modelValue":t[45]||(t[45]=e=>(0,l.dq)(j)?j.value=e:null),"character-name":(0,l.SU)(W),style:{"margin-bottom":"16px"}},null,8,["modelValue","character-name"]),(0,n.Wm)((0,l.SU)(Xe),{"analysis-from-wasm":(0,l.SU)(pa)},null,8,["analysis-from-wasm"])]),(0,n._)("h3",ro,(0,p.zw)((0,l.SU)(b)("calcPage.dmg2")),1),(0,n.Wm)((0,l.SU)(gt),{data:(0,l.SU)(fa)},null,8,["data"])])),_:1})])),_:1},512)])}}});const uo=(0,Fe.Z)(co,[["__scopeId","data-v-f608349c"]]);var mo=uo},76404:function(e,t,a){a.d(t,{v:function(){return k}});var l=a(66252),n=a(2262),o=a(49963),i=a(3577),s=a(86660),r=a(7361),d=a(90953),c=a(66080);const u=["light","dark"],m=(0,r.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,d.uc)(c.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:u,default:"light"}}),h={close:e=>e instanceof MouseEvent};var p=a(1446),f=a(25299);const g={name:"ElAlert"},v=(0,l.aZ)({...g,props:m,emits:h,setup(e,{emit:t}){const a=e,{Close:r}=c.f5,d=(0,l.Rr)(),u=(0,f.s)("alert"),m=(0,n.iH)(!0),h=(0,l.Fl)((()=>c.Rp[a.type])),p=(0,l.Fl)((()=>[u.e("icon"),{[u.is("big")]:!!a.description||!!d.default}])),g=(0,l.Fl)((()=>a.description||{[u.is("bold")]:d.default})),v=e=>{m.value=!1,t("close",e)};return(e,t)=>((0,l.wg)(),(0,l.j4)(o.uT,{name:(0,n.SU)(u).b("fade"),persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",{class:(0,i.C_)([(0,n.SU)(u).b(),(0,n.SU)(u).m(e.type),(0,n.SU)(u).is("center",e.center),(0,n.SU)(u).is(e.effect)]),role:"alert"},[e.showIcon&&(0,n.SU)(h)?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.gn),{key:0,class:(0,i.C_)((0,n.SU)(p))},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)((0,n.SU)(h))))])),_:1},8,["class"])):(0,l.kq)("v-if",!0),(0,l._)("div",{class:(0,i.C_)((0,n.SU)(u).e("content"))},[e.title||e.$slots.title?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,i.C_)([(0,n.SU)(u).e("title"),(0,n.SU)(g)])},[(0,l.WI)(e.$slots,"title",{},(()=>[(0,l.Uk)((0,i.zw)(e.title),1)]))],2)):(0,l.kq)("v-if",!0),e.$slots.default||e.description?((0,l.wg)(),(0,l.iD)("p",{key:1,class:(0,i.C_)((0,n.SU)(u).e("description"))},[(0,l.WI)(e.$slots,"default",{},(()=>[(0,l.Uk)((0,i.zw)(e.description),1)]))],2)):(0,l.kq)("v-if",!0),e.closable?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[e.closeText?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)([(0,n.SU)(u).e("close-btn"),(0,n.SU)(u).is("customed")]),onClick:v},(0,i.zw)(e.closeText),3)):((0,l.wg)(),(0,l.j4)((0,n.SU)(s.gn),{key:1,class:(0,i.C_)((0,n.SU)(u).e("close-btn")),onClick:v},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r))])),_:1},8,["class"]))],64)):(0,l.kq)("v-if",!0)],2)],2),[[o.F8,m.value]])])),_:3},8,["name"]))}});var y=(0,p.Z)(v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),w=a(85739);const k=(0,w.nz)(y)},74694:function(e,t,a){a(3392)},97367:function(e,t,a){a(13171)},3905:function(e,t,a){a(3392)}}]);