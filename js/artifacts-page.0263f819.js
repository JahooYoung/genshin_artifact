(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[654],{24044:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"artifact",class:{selectable:t.selectable,omit:t.item.omit},style:t.artifactStyle,on:{click:t.handleClick}},[n("div",{staticClass:"up"},[t.showBack?n("div",{staticClass:"back",style:{width:100*t.backValue+"%"}}):t._e(),n("span",{staticClass:"name"},[t._v(" "+t._s(t.displayedTitle)+" ")]),t.buttons?n("div",{staticClass:"buttons"},[t.lockButton?n("el-button",{staticClass:"mybutton",attrs:{icon:t.item.omit?"el-icon-unlock":"el-icon-lock",circle:"",size:"mini",type:"text",title:t.item.omit?"启用":"禁用"},on:{click:function(e){return e.stopPropagation(),t.$emit("toggle")}}}):t._e(),t.deleteButton?n("el-button",{staticClass:"mybutton",attrs:{icon:"el-icon-delete",circle:"",size:"mini",type:"text",title:"删除"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}}):t._e(),t.editButton?n("el-button",{staticClass:"mybutton",attrs:{icon:"el-icon-edit",circle:"",size:"mini",type:"text",title:"编辑"},on:{click:function(e){return e.stopPropagation(),t.$emit("edit")}}}):t._e()],1):t._e(),t.extra?n("span",{staticClass:"extra fs-12"},[t._v(t._s(t.extra))]):t._e()]),n("div",{staticClass:"down"},[n("div",[n("img",{staticClass:"myimage",style:{background:t.imageBackground},attrs:{src:t.imageSrc}})]),n("div",{staticClass:"detail-div"},[n("p",{staticClass:"main-tag"},[t._v(t._s(t.mainDisplayTag))]),t._l(t.secTags,(function(e,i){return n("p",{key:i,staticClass:"sec-tag"},[t._v(" "+t._s(e)+" ")])}))],2)])])},a=[],s=n(4222),r=n(36110),o=n(67817),l={name:"ArtifactDisplay",props:{item:{type:Object,default:()=>({setName:"luckyDog",position:"cup",mainTag:{name:"attackPercentage",value:.1},normalTags:[{name:"defendStatic",value:20},{name:"attackPercentage",value:.3},{name:"attackPercentage",value:.3},{name:"attackPercentage",value:.3}],omit:!1})},selectable:{type:Boolean,default:!1},extra:{type:String,default:""},buttons:{default:!1},deleteButton:{default:!1},lockButton:{default:!0},editButton:{default:!1},showBack:{default:!1},backValue:{default:1}},methods:{handleClick(){this.selectable&&this.$emit("click")}},computed:{displayedTitle(){let t=r.oN[this.item.setName];if(!t)throw"no artifact";let e="not exist";return t[this.item.position]&&(e=t[this.item.position].chs,Object.prototype.hasOwnProperty.call(this.item,"level")?e+="+"+this.item.level:e+="+??"),e},displayedStar(){return this.item.star||"??"},imageSrc(){let t=r.oN[this.item.setName];if(!t)throw"no artifact";if(t[this.item.position])return t[this.item.position].url;throw"error no position"},mainDisplayTag(){return(0,s.jH)(this.item.mainTag.name,this.item.mainTag.value)},secTags(){let t=[];for(let e of this.item.normalTags)t.push((0,s.jH)(e.name,e.value));return t},imageBackground(){let t=this.item.star??5;return o.Z[t-1]},artifactStyle(){return{}}}},c=l,u=n(1001),f=(0,u.Z)(c,i,a,!1,null,"489aa8da",null),h=f.exports},46499:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"rootBox",staticClass:"root",class:{over:t.isDragOver},on:{dragenter:t.handleDragEnter,dragleave:t.handleDragLeave,dragover:t.handleDragover,drop:t.handleDrop,click:t.handleClick}},[t._m(0)]),t.hasFile?n("p",{staticClass:"filename"},[t._v(t._s(t.fileName))]):t._e(),n("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{change:t.handleSelectFile}})])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-div"},[n("i",{staticClass:"el-icon-upload"}),n("span",[t._v("点击，或拖拽上传")])])}],s={name:"ImportBlock",mounted(){this.file=null},data(){return{isDragOver:!1,hasFile:!1,fileName:""}},methods:{handleDrop(t){t.preventDefault(),this.isDragOver=!1;let e=null;if(t.dataTransfer.items){for(let n=0;n<t.dataTransfer.items.length;n++)if("file"===t.dataTransfer.items[n].kind){e=t.dataTransfer.items[n].getAsFile();break}}else e=t.dataTransfer.files[0].name;this.file=e,e&&(this.hasFile=!0,this.fileName=e.name)},getReadPromise(){return new Promise(((t,e)=>{this.file||e("未选择文件");try{let n=new FileReader;n.onload=e=>{t(e.target.result)},n.onerror=t=>{e(t)},n.readAsText(this.file)}catch(n){e(n)}}))},handleDragEnter(t){t.preventDefault(),this.isDragOver=!0},handleDragLeave(t){t.preventDefault(),this.isDragOver=!1},handleDragover(t){t.preventDefault()},handleClick(){const t=this.$refs["fileInput"];t&&t.click()},handleSelectFile(t){const e=this.$refs["fileInput"];if(!e)return;const n=Array.from(e.files);n.length>0&&(this.file=n[0],this.hasFile=!0,this.fileName=n[0].name)}}},r=s,o=n(1001),l=(0,o.Z)(r,i,a,!1,null,"d75e0f8c",null),c=l.exports},60630:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{value:t.value,size:"small",multiple:t.multiple},on:{input:function(e){return t.$emit("input",e)}}},[t.includeAny?n("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.tagList,(function(t){return n("el-option",{key:t.name,attrs:{label:t.title,value:t.name}})}))],2)},a=[],s=n(98017),r={name:"SelectArtifactMainStat",props:{value:{},includeAny:{default:!0},multiple:{default:!1},position:{default:null}},computed:{tagList(){let t=[];if(this.position)for(let e of s.nl[this.position])t.push({name:e,title:s.vB[e].chs});else for(let e in s.vB)t.push({name:e,title:s.vB[e].chs});return t}}},o=r,l=n(1001),c=(0,l.Z)(o,i,a,!1,null,null,null),u=c.exports},93972:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{value:t.value,disabled:t.disabled,size:"small",multiple:t.multiple,"multiple-limit":t.multipleLimit},on:{input:function(e){return t.$emit("input",e)}}},[t.anyOption?n("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.allArtifactsName,(function(e){return n("el-option",{key:e.name,attrs:{label:e.chs,value:e.name}},[n("div",{staticClass:"item"},[n("img",{staticClass:"tn",attrs:{src:e.url}}),n("span",[t._v(t._s(e.chs))])])])}))],2)},a=[],s=n(36110),r=n(4222);let o=Object.values(s.oN);o.sort(((t,e)=>e.maxStar-t.maxStar));let l=o.map((t=>({name:t.eng,chs:t.chs,url:(0,r.Lk)(t.eng)})));var c={name:"SelectArtifactSet",created:function(){this.allArtifactsName=l},props:{value:{type:String,required:!0},disabled:{type:Boolean,default:!1},anyOption:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},multipleLimit:{default:2}}},u=c,f=n(1001),h=(0,f.Z)(u,i,a,!1,null,"470a80ef",null),d=h.exports},48599:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{size:"small",value:t.value,multiple:t.multiple},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.positions,(function(t){return n("el-option",{key:t.name,attrs:{label:t.chs,value:t.name}})})),1)},a=[],s=n(26400),r={name:"SelectArtifactSlot",props:{value:{},multiple:{default:!1}},created(){this.positions=s.m}},o=r,l=n(1001),c=(0,l.Z)(o,i,a,!1,null,"7cc2cd7e",null),u=c.exports},9669:function(t,e,n){t.exports=n(51609)},55448:function(t,e,n){"use strict";var i=n(64867),a=n(36026),s=n(4372),r=n(15327),o=n(94097),l=n(84109),c=n(67985),u=n(85061),f=n(77874),h=n(65263);t.exports=function(t){return new Promise((function(e,n){var d,p=t.data,m=t.headers,A=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}i.isFormData(p)&&delete m["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var y=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(y+":"+b)}var w=o(t.baseURL,t.url);function C(){if(g){var i="getAllResponseHeaders"in g?l(g.getAllResponseHeaders()):null,s=A&&"text"!==A&&"json"!==A?g.response:g.responseText,r={data:s,status:g.status,statusText:g.statusText,headers:i,config:t,request:g};a((function(t){e(t),v()}),(function(t){n(t),v()}),r),g=null}}if(g.open(t.method.toUpperCase(),r(w,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=C:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(C)},g.onabort=function(){g&&(n(u("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||f;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},i.isStandardBrowserEnv()){var x=(t.withCredentials||c(w))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;x&&(m[t.xsrfHeaderName]=x)}"setRequestHeader"in g&&i.forEach(m,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete m[e]:g.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),A&&"json"!==A&&(g.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){g&&(n(!t||t&&t.type?new h("canceled"):t),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},51609:function(t,e,n){"use strict";var i=n(64867),a=n(91849),s=n(30321),r=n(47185),o=n(45546);function l(t){var e=new s(t),n=a(s.prototype.request,e);return i.extend(n,s.prototype,e),i.extend(n,e),n.create=function(e){return l(r(t,e))},n}var c=l(o);c.Axios=s,c.Cancel=n(65263),c.CancelToken=n(14972),c.isCancel=n(26502),c.VERSION=n(97288).version,c.all=function(t){return Promise.all(t)},c.spread=n(8713),c.isAxiosError=n(16268),t.exports=c,t.exports["default"]=c},65263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},14972:function(t,e,n){"use strict";var i=n(65263);function a(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,i=n._listeners.length;for(e=0;e<i;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,i=new Promise((function(t){n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},a.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},a.source=function(){var t,e=new a((function(e){t=e}));return{token:e,cancel:t}},t.exports=a},26502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},30321:function(t,e,n){"use strict";var i=n(64867),a=n(15327),s=n(80782),r=n(13572),o=n(47185),l=n(54875),c=l.validators;function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=o(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var i=[],a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!a){var f=[r,void 0];Array.prototype.unshift.apply(f,i),f=f.concat(u),s=Promise.resolve(e);while(f.length)s=s.then(f.shift(),f.shift());return s}var h=e;while(i.length){var d=i.shift(),p=i.shift();try{h=d(h)}catch(m){p(m);break}}try{s=r(h)}catch(m){return Promise.reject(m)}while(u.length)s=s.then(u.shift(),u.shift());return s},u.prototype.getUri=function(t){return t=o(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(o(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(o(i||{},{method:t,url:e,data:n}))}})),t.exports=u},80782:function(t,e,n){"use strict";var i=n(64867);function a(){this.handlers=[]}a.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=a},94097:function(t,e,n){"use strict";var i=n(91793),a=n(7303);t.exports=function(t,e){return t&&!i(e)?a(t,e):e}},85061:function(t,e,n){"use strict";var i=n(80481);t.exports=function(t,e,n,a,s){var r=new Error(t);return i(r,e,n,a,s)}},13572:function(t,e,n){"use strict";var i=n(64867),a=n(18527),s=n(26502),r=n(45546),o=n(65263);function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new o("canceled")}t.exports=function(t){l(t),t.headers=t.headers||{},t.data=a.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||r.adapter;return e(t).then((function(e){return l(t),e.data=a.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(l(t),e&&e.response&&(e.response.data=a.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},80481:function(t){"use strict";t.exports=function(t,e,n,i,a){return t.config=e,n&&(t.code=n),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},47185:function(t,e,n){"use strict";var i=n(64867);t.exports=function(t,e){e=e||{};var n={};function a(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function s(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:a(void 0,t[n]):a(t[n],e[n])}function r(t){if(!i.isUndefined(e[t]))return a(void 0,e[t])}function o(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:a(void 0,t[n]):a(void 0,e[n])}function l(n){return n in e?a(t[n],e[n]):n in t?a(void 0,t[n]):void 0}var c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return i.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||s,a=e(t);i.isUndefined(a)&&e!==l||(n[t]=a)})),n}},36026:function(t,e,n){"use strict";var i=n(85061);t.exports=function(t,e,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},18527:function(t,e,n){"use strict";var i=n(64867),a=n(45546);t.exports=function(t,e,n){var s=this||a;return i.forEach(n,(function(n){t=n.call(s,t,e)})),t}},45546:function(t,e,n){"use strict";var i=n(64867),a=n(16016),s=n(80481),r=n(77874),o={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function c(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(55448)),t}function u(t,e,n){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(t)}var f={transitional:r,adapter:c(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(l(e,"application/json"),u(t)):t}],transformResponse:[function(t){var e=this.transitional||f.transitional,n=e&&e.silentJSONParsing,a=e&&e.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||a&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(r){if("SyntaxError"===o.name)throw s(o,this,"E_JSON_PARSE");throw o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){f.headers[t]=i.merge(o)})),t.exports=f},77874:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:function(t){t.exports={version:"0.26.1"}},91849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},15327:function(t,e,n){"use strict";var i=n(64867);function a(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(i.isURLSearchParams(e))s=e.toString();else{var r=[];i.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),r.push(a(e)+"="+a(t))})))})),s=r.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},7303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:function(t,e,n){"use strict";var i=n(64867);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,a,s,r){var o=[];o.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),i.isString(a)&&o.push("path="+a),i.isString(s)&&o.push("domain="+s),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},91793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},16268:function(t,e,n){"use strict";var i=n(64867);t.exports=function(t){return i.isObject(t)&&!0===t.isAxiosError}},67985:function(t,e,n){"use strict";var i=n(64867);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=a(window.location.href),function(e){var n=i.isString(e)?a(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},16016:function(t,e,n){"use strict";var i=n(64867);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},84109:function(t,e,n){"use strict";var i=n(64867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,r={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),n=i.trim(t.substr(s+1)),e){if(r[e]&&a.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r}},8713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},54875:function(t,e,n){"use strict";var i=n(97288).version,a={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){a[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var s={};function r(t,e,n){if("object"!==typeof t)throw new TypeError("options must be an object");var i=Object.keys(t),a=i.length;while(a-- >0){var s=i[a],r=e[s];if(r){var o=t[s],l=void 0===o||r(o,s,t);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}}a.transitional=function(t,e,n){function a(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,r){if(!1===t)throw new Error(a(i," has been removed"+(e?" in "+e:"")));return e&&!s[i]&&(s[i]=!0,console.warn(a(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,r)}},t.exports={assertOptions:r,validators:a}},64867:function(t,e,n){"use strict";var i=n(91849),a=Object.prototype.toString;function s(t){return Array.isArray(t)}function r(t){return"undefined"===typeof t}function o(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===a.call(t)}function c(t){return"[object FormData]"===a.call(t)}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer),e}function f(t){return"string"===typeof t}function h(t){return"number"===typeof t}function d(t){return null!==t&&"object"===typeof t}function p(t){if("[object Object]"!==a.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function m(t){return"[object Date]"===a.call(t)}function A(t){return"[object File]"===a.call(t)}function v(t){return"[object Blob]"===a.call(t)}function g(t){return"[object Function]"===a.call(t)}function y(t){return d(t)&&g(t.pipe)}function b(t){return"[object URLSearchParams]"===a.call(t)}function w(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function S(){var t={};function e(e,n){p(t[n])&&p(e)?t[n]=S(t[n],e):p(e)?t[n]=S({},e):s(e)?t[n]=e.slice():t[n]=e}for(var n=0,i=arguments.length;n<i;n++)x(arguments[n],e);return t}function E(t,e,n){return x(e,(function(e,a){t[a]=n&&"function"===typeof e?i(e,n):e})),t}function k(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:s,isArrayBuffer:l,isBuffer:o,isFormData:c,isArrayBufferView:u,isString:f,isNumber:h,isObject:d,isPlainObject:p,isUndefined:r,isDate:m,isFile:A,isBlob:v,isFunction:g,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:C,forEach:x,merge:S,extend:E,trim:w,stripBOM:k}},17187:function(t){"use strict";var e,n="object"===typeof Reflect?Reflect:null,i=n&&"function"===typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function a(t){console&&console.warn&&console.warn(t)}e=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function r(){r.init.call(this)}t.exports=r,t.exports.once=g,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function u(t,e,n,i){var s,r,o;if(l(n),r=t._events,void 0===r?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),o=r[e]),void 0===o)o=r[e]=n,++t._eventsCount;else if("function"===typeof o?o=r[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),s=c(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a(u)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=f.bind(i);return a.listener=n,i.wrapFn=a,a}function d(t,e,n){var i=t._events;if(void 0===i)return[];var a=i[e];return void 0===a?[]:"function"===typeof a?n?[a.listener||a]:[a]:n?v(a):m(a,a.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function A(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function v(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function g(t,e){return new Promise((function(n,i){function a(n){t.removeListener(e,s),i(n)}function s(){"function"===typeof t.removeListener&&t.removeListener("error",a),n([].slice.call(arguments))}b(t,e,s,{once:!0}),"error"!==e&&y(t,a,{once:!0})}))}function y(t,e,n){"function"===typeof t.on&&b(t,"error",e,n)}function b(t,e,n,i){if("function"===typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function a(s){i.once&&t.removeEventListener(e,a),n(s)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return c(this)},r.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var a="error"===t,s=this._events;if(void 0!==s)a=a&&void 0===s.error;else if(!a)return!1;if(a){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}var l=s[t];if(void 0===l)return!1;if("function"===typeof l)i(l,this,e);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,e)}return!0},r.prototype.addListener=function(t,e){return u(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return u(this,t,e,!0)},r.prototype.once=function(t,e){return l(e),this.on(t,h(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,h(this,t,e)),this},r.prototype.removeListener=function(t,e){var n,i,a,s,r;if(l(e),i=this._events,void 0===i)return this;if(n=i[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){r=n[s].listener,a=s;break}if(a<0)return this;0===a?n.shift():A(n,a),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,r||e)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var a,s=Object.keys(n);for(i=0;i<s.length;++i)a=s[i],"removeListener"!==a&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},r.prototype.listeners=function(t){return d(this,t,!0)},r.prototype.rawListeners=function(t){return d(this,t,!1)},r.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},67817:function(t,e){"use strict";e["Z"]=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"]},1291:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return me}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("add-artifact-dialog",{attrs:{visible:t.newDialogVisible},on:{close:function(e){t.newDialogVisible=!1},confirm:t.handleAddArtifact}}),n("yas-ui-dialog",{attrs:{visible:t.showYasUIDialog},on:{"update:visible":function(e){t.showYasUIDialog=e}}}),n("el-dialog",{attrs:{visible:t.showImportDialog,title:"导入",width:"60%"},on:{"update:visible":function(e){t.showImportDialog=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("el-button",{on:{click:function(e){t.showImportDialog=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleImportJson}},[t._v("确定")])]},proxy:!0}])},[n("import-block",{ref:"fileUploader"}),n("el-checkbox",{staticStyle:{"margin-top":"12px"},model:{value:t.importDeleteUnseen,callback:function(e){t.importDeleteUnseen=e},expression:"importDeleteUnseen"}},[t._v("删除不存在的圣遗物")])],1),n("el-drawer",{attrs:{title:"编辑圣遗物",visible:t.showEditArtifactDrawer,direction:"rtl"},on:{"update:visible":function(e){t.showEditArtifactDrawer=e}}},[n("edit-artifact",{ref:"editArtifactDrawer",on:{confirm:t.handleConfirmEdit,cancel:function(e){t.showEditArtifactDrawer=!1}}})],1),n("el-drawer",{attrs:{title:"推荐圣遗物",visible:t.showArtifactRecommendationDrawer},on:{"update:visible":function(e){t.showArtifactRecommendationDrawer=e}}},[0===t.recommendationList.length?n("el-empty"):n("div",{staticStyle:{padding:"0 20px"}},t._l(t.recommendationList,(function(e){return n("artifact-display",{key:e[0],staticStyle:{width:"100%","margin-bottom":"16px"},attrs:{item:t.artifactsById[e[0]],"show-back":!0,"back-value":e[1]}})})),1)],1),n("el-breadcrumb",[n("el-breadcrumb-item",[t._v("圣遗物（"+t._s(t.count)+"）")])],1),n("div",{staticClass:"tool-bar"},[n("el-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:t.add}}),n("el-popconfirm",{staticStyle:{"margin-right":"8px"},attrs:{title:"确定清除吗，将会同时清除圣遗物套装数据"},on:{confirm:t.handleClickDeleteAll}},[n("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-delete",type:"danger",title:"清空"},slot:"reference"},[t._v(" 清空 ")])],1),n("el-button",{attrs:{size:"mini",icon:"el-icon-unlock",title:"启用全部"},on:{click:function(e){return t.$store.commit("artifacts/unlockAll")}}},[t._v("启用全部")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-s-opportunity"},on:{click:t.handleClickRecommendation}},[t._v("推荐")]),n("div",{staticClass:"tool-right"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleYasUIClicked}},[t._v(" 扫描 ")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleImportJsonClicked}},[t._v(" 导入 ")]),n("el-button",{attrs:{size:"mini"},on:{click:t.handleOutputJsonClicked}},[t._v(" 导出 ")])],1)],1),n("div",{staticClass:"filter"},[n("span",[t._v("套装")]),n("select-artifact-set",{attrs:{multiple:!0,"multiple-limit":1e3},model:{value:t.filterSet,callback:function(e){t.filterSet=e},expression:"filterSet"}}),n("span",{staticStyle:{"margin-left":"24px"}},[t._v("主词条")]),n("select-artifact-main-stat",{attrs:{"include-any":!1,multiple:!0},model:{value:t.filterMainStat,callback:function(e){t.filterMainStat=e},expression:"filterMainStat"}}),n("el-checkbox",{staticStyle:{"margin-left":"24px"},model:{value:t.ge16,callback:function(e){t.ge16=e},expression:"ge16"}},[t._v("只显示16级以上")])],1),n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e){return n("el-tab-pane",{key:e.name,staticClass:"panel",attrs:{name:e.name}},[n("div",{attrs:{slot:"label"},slot:"label"},[n("img",{staticClass:"icon",attrs:{src:e.icon}})]),t.filteredArtifacts.length>0?n("div",[n("div",{ref:"artifactsDiv",refInFor:!0,staticClass:"artifacts-div mona-scroll",style:{height:t.contentHeight}},t._l(t.artifactToBeDisplayed,(function(e){return n("artifact-display",{key:e.id,staticClass:"artifact-item",attrs:{item:e,buttons:!0,"delete-button":!0,"edit-button":!0},on:{delete:function(n){return t.handleClickRemoveArtifact(e.id)},toggle:function(n){return t.handleClickToggleArtifact(e.id)},edit:function(n){return t.handleClickEditArtifact(e.id)}}})})),1)]):n("div",[n("el-empty")],1)])})),1)],1)},a=[],s=n(26294),r=n(67828),o=n(26400),l=n(76711),c=n(54715),u=n(37313),f=n(1642),h=n(66464),d=n(79560),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加圣遗物",visible:t.visible,width:"80%","before-close":t.onCancel},on:{"update:visible":function(e){t.visible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("el-button",{on:{click:t.onCancel}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v("确定")])]},proxy:!0}])},[n("h3",[t._v("套装")]),n("choose-artifact-set",{attrs:{value:t.setName},on:{input:t.handleSetNameChange}}),n("h3",[t._v("位置")]),n("choose-artifact-position",{attrs:{setName:t.setName},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}}),n("el-row",{attrs:{gutter:16}},[n("el-col",{attrs:{span:12}},[n("h3",[t._v("品质")]),n("el-rate",{attrs:{value:t.star,max:t.artifactData.maxStar},on:{input:t.handleStarChange}})],1),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"flex-row"},[n("h3",{staticStyle:{"margin-right":"8px"}},[t._v("等级")]),n("el-button",{attrs:{icon:"el-icon-d-arrow-left",circle:"",size:"mini",title:"0级"},on:{click:function(e){t.level=0}}}),n("el-button",{attrs:{icon:"el-icon-d-arrow-right",circle:"",size:"mini",title:"满级"},on:{click:function(e){t.level=4*t.star}}})],1),n("el-input-number",{attrs:{max:4*t.star,min:0,size:"small"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1)],1),n("el-row",{attrs:{gutter:16}},[n("el-col",{attrs:{span:12}},[n("h3",[t._v("主属性")]),n("select-artifact-main-tag",{attrs:{value:t.mainTag,position:t.position},on:{input:t.handleMainTagChange}})],1),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"flex-row"},[n("h3",{staticStyle:{"margin-right":"8px"}},[t._v("副属性")]),n("el-button",{attrs:{icon:"el-icon-refresh",circle:"",size:"mini",title:"随机"},on:{click:t.shuffleNormalTags}}),n("el-button",{staticStyle:{padding:"0"},attrs:{icon:"el-icon-question",circle:"",title:"帮助",type:"text"},on:{click:t.openHelp}})],1),n("select-artifact-normal-tag",{model:{value:t.normalTags,callback:function(e){t.normalTags=e},expression:"normalTags"}})],1)],1)],1)},m=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"choose-artifact-set"},t._l(t.artifactsData,(function(e){return n("div",{key:e.eng,staticClass:"item",class:{active:e.eng===t.value},on:{click:function(n){return t.$emit("input",e.eng)}}},[n("el-image",{staticClass:"image",attrs:{src:t.getArtifactThumbnailURL(e.eng)}}),n("p",{staticClass:"text"},[t._v(" "+t._s(e.chs)+" ")])],1)})),0)},v=[],g=n(36110),y=n(4222),b={name:"SetChoose",inject:["star"],created:function(){this.artifactsData=Object.values(g.oN),this.artifactsData.sort(((t,e)=>e.maxStar-t.maxStar)),this.getArtifactThumbnailURL=y.Lk},props:{value:{type:String}}},w=b,C=n(1001),x=(0,C.Z)(w,A,v,!1,null,"1bc47a68",null),S=x.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"choose-artifact-position"},t._l(t.availablePositions,(function(e){return n("div",{key:e,staticClass:"item",class:{active:e===t.value},on:{click:function(n){return t.$emit("input",e)}}},[n("img",{staticClass:"image",attrs:{src:t.selectedArtData[e].url}}),n("p",{staticClass:"text"},[t._v(" "+t._s(t.selectedArtData[e].chs)+" ")])])})),0)},k=[],T={name:"PositionChoose",created:function(){this.artifactsData=g.oN},props:{setName:{type:String},value:{type:String}},methods:{choose(t){this.$emit("input",t)}},computed:{selectedArtData(){return this.artifactsData[this.setName]||{}},availablePositions(){return["flower","feather","sand","cup","head"].filter((t=>Object.prototype.hasOwnProperty.call(this.selectedArtData,t)))}},watch:{setName(){if(-1===this.availablePositions.indexOf(this.value)){let t=this.availablePositions[0];this.$emit("input",t)}}}},O=T,N=(0,C.Z)(O,E,k,!1,null,"bf0d2af6",null),R=N.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(4,(function(e){return n("div",{key:e,staticClass:"item"},[n("el-input",{staticClass:"input",attrs:{value:t.displayedValue[e-1],size:"small"},on:{input:function(n){return t.handleValueChange(e-1,n)}}},[n("template",{slot:"prepend"},[n("el-select",{staticClass:"prepend",attrs:{value:t.names[e-1]},on:{input:function(n){return t.handleTagChange(e-1,n)}}},t._l(t.secondaryTagData,(function(t){return n("el-option",{key:t.name,attrs:{label:t.chs,value:t.name}})})),1)],1),n("template",{slot:"append"},[t.isPercentage[e-1]?n("span",[t._v("%")]):t._e()])],2),n("el-button",{staticClass:"del-button",attrs:{icon:"el-icon-delete",circle:"",type:"text"},on:{click:function(n){return t.deleteItem(e-1)}}})],1)})),0)},D=[],j=n(98017);function U(t){return Array.isArray(t)?B(t):"object"===typeof t?W(t):t}function B(t){let e=[];for(let n of t)e.push(U(n));return e}function W(t){let e={};for(let n in t)e[n]=U(t[n]);return e}var L=U;let V=g.NY.map((t=>j.vB[t]));var F={name:"SelectArtifactNormalTag",created:function(){this.secondaryTagData=V},props:{value:{type:Array,required:!0}},methods:{handleValueChange(t,e){if(!this.value[t])return;let n=L(this.value);n[t].value=e,this.$emit("input",n)},handleTagChange(t,e){let n=L(this.value);this.value[t]&&""!==this.value[t].name?n[t].name=e:n.push({name:e,value:0}),this.$emit("input",n)},deleteItem(t){let e=[];for(let n=0;n<this.value.length;n++)n!==t&&e.push(L(this.value[n]));this.$emit("input",e)}},computed:{isPercentage(){let t=[];for(let n=0;n<4;n++)try{t.push(j.vB[this.value[n].name].percentage)}catch(e){t.push(!1)}return t},displayedValue(){let t=[];for(let n=0;n<4;n++)try{let e=this.value[n].value;t.push(e)}catch(e){t.push("0")}return t},names(){let t=[];for(let n=0;n<4;n++)try{let e=this.value[n].name;t.push(e)}catch(e){t.push("")}return t}}},M=F,Z=(0,C.Z)(M,_,D,!1,null,"60d11b08",null),P=Z.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input",{attrs:{value:t.value.value,size:"small"},on:{input:t.handleValueChange}},[n("template",{slot:"prepend"},[n("el-select",{staticClass:"prepend",attrs:{value:t.value.name},on:{input:t.handleTagChange}},t._l(t.validTags,(function(t){return n("el-option",{key:t.name,attrs:{label:t.chs,value:t.name}})})),1)],1),n("template",{slot:"append"},[t.isPercentage?n("span",[t._v("%")]):t._e()])],2)},Y=[];const H={flower:g.Fb.flower.map((t=>j.vB[t])),feather:g.Fb.feather.map((t=>j.vB[t])),sand:g.Fb.sand.map((t=>j.vB[t])),cup:g.Fb.cup.map((t=>j.vB[t])),head:g.Fb.head.map((t=>j.vB[t]))};var z={name:"SelectArtifactMainTag",props:{value:{type:Object,required:!0},position:{type:String}},methods:{handleTagChange(t){let e=Object.assign({},this.value);e.name=t,this.$emit("input",e)},handleValueChange(t){let e=Object.assign({},this.value);e.value=t,this.$emit("input",e)}},computed:{validTags(){return""===this.position?[]:H[this.position]},isPercentage(){return!!this.value.name&&j.vB[this.value.name].percentage}},watch:{position(){if(-1===g.Fb[this.position].indexOf(this.value.name)){let t=g.Fb[this.position][0],e=Object.assign({},this.value);e.name=t,this.$emit("input",e)}}}},J=z,G=(0,C.Z)(J,I,Y,!1,null,"371cf49e",null),Q=G.exports,$={4:{critical:[.022,.025,.028,.031],lifePercentage:[.033,.037,.042,.047],attackPercentage:[.033,.037,.042,.047],recharge:[.036,.041,.047,.052],defendPercentage:[.041,.047,.053,.058],criticalDamage:[.044,.05,.056,.062],attackStatic:[11,12,14,16],defendStatic:[13,15,17,19],elementalMastery:[13,15,17,19],lifeStatic:[167,191,215,239]},5:{critical:[.027,.031,.035,.039],lifePercentage:[.041,.047,.053,.058],attackPercentage:[.041,.047,.053,.058],recharge:[.045,.052,.058,.065],defendPercentage:[.051,.058,.066,.073],criticalDamage:[.054,.062,.07,.078],attackStatic:[14,16,18,19],defendStatic:[16,19,21,23],elementalMastery:[16,19,21,23],lifeStatic:[209,239,269,299]}};function X(){return Math.random()<.5?1:0}function q(t){let e=Math.floor(Math.random()*t.length);return t[e]}function K(t,e){return Math.floor(Math.random()*(e-t))+t}function tt(t,e){let n=g.NY.filter((t=>-1===e.indexOf(t))),i=n.length,a=[];for(let s=0;s<t;s++){let t=K(0,i);a.push(n[t]);let e=n[t];n[t]=n[i-1],n[i-1]=e,i--}return a}function et(t,e,n){let i=$[t],a=Math.floor(e/4),s=t-2+X(),r=Math.min(4,a+s),o=tt(r,n),l=[];o.forEach((t=>{l.push({name:t,value:q(i[t])})}));let c=a+s-4;for(let u=0;u<c;u++){let t=K(0,l.length);l[t].value+=q(i[l[t].name])}return l}function nt(t,e){return t.mainTag.name===e.mainTag.name&&t.mainTag.value===e.mainTag.value}function it(t,e){if(t.normalTags.length!==e.normalTags.length)return!1;let n=new Set;for(let i of t.normalTags){let t=i.name+i.value.toFixed(3);n.add(t)}for(let i of e.normalTags){let t=i.name+i.value.toFixed(3);if(!n.has(t))return!1}return!0}function at(t,e){return t.setName===e.setName&&(t.position===e.position&&(!!nt(t,e)&&!!it(t,e)))}function st(t,e){for(let n of t)if(at(n,e))return!1;return!0}function rt(t){return t.value=(0,y.MI)(t.name,t.value),t}var ot={name:"NewDialog",provide(){return{star:this.star}},components:{ChooseArtifactSet:S,ChooseArtifactPosition:R,SelectArtifactNormalTag:P,SelectArtifactMainTag:Q},props:{visible:{type:Boolean}},data:function(){return{setName:"archaicPetra",position:"flower",mainTag:{name:"lifeStatic",value:"4780"},normalTags:[],star:5,level:20}},methods:{handleStarChange(t){t>=this.artifactData.minStar&&t<=this.artifactData.maxStar&&(this.star=t,this.level=4*this.star)},handleMainTagChange(t){if(t.name!==this.mainTag.name){const e=j.vB[t.name].max[5];this.mainTag.value=(0,y.ut)(t.name,e),this.mainTag.name=t.name}else this.mainTag=t},handleSetNameChange(t){this.setName=t,this.star=this.artifactData.maxStar,this.level=4*this.star},getArtifact:function(){return{setName:this.setName,position:this.position,detailName:(0,y.F_)(this.setName,this.position),mainTag:this.getArtifactMainTag(),normalTags:this.getArtifactNormalTags(),omit:this.level<16,star:this.star,level:this.level,id:0}},getArtifactMainTag(){let t=Object.assign({},this.mainTag);return t.value=parseFloat(t.value),isNaN(t.value)&&(t.value=0),rt(t)},getArtifactNormalTags(){let t=[];for(let e of this.normalTags)""!==e.value&&"0"!==e.value&&t.push(rt({name:e.name,value:parseFloat(e.value)}));return t},onConfirm(){let t=this.getArtifact();st(this.$store.getters["artifacts/allFlat"],t)?this.$emit("confirm",t):this.$confirm("检测到已有相同圣遗物，是否继续？","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$emit("confirm",t)})).catch((()=>{}))},onCancel(){this.$emit("close")},shuffleNormalTags(){let t=et(5,20,[this.mainTag.name]);for(let e=0,n=t.length;e<n;e++)t[e].value=(0,y.ut)(t[e].name,t[e].value);this.normalTags=t},openHelp(){let t="使用随机副词条，可以快速构建大量合理的圣遗物，可以方便地确定某个角色适合什么圣遗物。例如，快速构建角斗士、乐团、魔女4件套，从而计算胡桃适合什么样的圣遗物组合";this.$alert(t,"帮助")}},computed:{artifactData(){return g.oN[this.setName]}}},lt=ot,ct=(0,C.Z)(lt,p,m,!1,null,"1bee89aa",null),ut=ct.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"使用YAS WebUI扫描圣遗物",visible:t.visible,width:"80%"},on:{"update:visible":function(e){return t.$emit("update:visible",e)}}},[n("div",{class:t.$style.webcapturer},[t.visible&&!t.connected?n("client-comp",{attrs:{control:t.control},on:{done:t.onConnected}}):t._e(),t.connected?n("div",{class:t.$style.uimain},[2===t.step?n("div",[n("el-progress",{attrs:{type:"circle",percentage:t.statusProgress}}),n("br"),n("div",{staticClass:"progress-text"},[t._v(" "+t._s(t.statusText)+" ")])],1):t._e(),3===t.step?n("div",[n("el-form",[n("el-form-item",{attrs:{label:"最小等级"}},[n("el-input-number",{attrs:{placeholder:"请输入最小等级"},model:{value:t.form["min-level"],callback:function(e){t.$set(t.form,"min-level",e)},expression:"form['min-level']"}})],1),n("el-form-item",{attrs:{label:"最小星级"}},[n("el-input-number",{attrs:{placeholder:"请输入最小星级"},model:{value:t.form["min-star"],callback:function(e){t.$set(t.form,"min-star",e)},expression:"form['min-star']"}})],1),n("el-form-item",{attrs:{label:"扫描数量"}},[n("el-input-number",{attrs:{placeholder:"请输入扫描数量"},model:{value:t.form["number"],callback:function(e){t.$set(t.form,"number",e)},expression:"form['number']"}}),n("br"),n("small",[t._v("0为无限制")])],1),n("div",[n("el-checkbox",{staticStyle:{"margin-top":"12px"},model:{value:t.importDeleteUnseen,callback:function(e){t.importDeleteUnseen=e},expression:"importDeleteUnseen"}},[t._v("删除不存在的圣遗物")])],1),n("el-button",{staticClass:"start-btn start-gray",on:{click:t.startScan}},[n("div",{staticClass:"l"},[n("i",{staticClass:"el-icon-check"})]),n("div",{staticClass:"m"},[n("div",{staticClass:"t"},[t._v("开始扫描")]),n("div",{staticClass:"d"},[t._v("点击后YAS将自动运行...")])]),n("div",{staticClass:"r"},[n("i",{staticClass:"el-icon-arrow-right"})])])],1)],1):t._e(),4===t.step?n("div",{staticStyle:{width:"100%"}},[n("textarea",{ref:"outputArea",staticClass:"output",attrs:{readonly:""},domProps:{value:t.output.join("\n")}})]):t._e()]):t._e()],1)])},ht=[],dt=(n(21703),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.client},[n("div",{staticClass:"client-content"},[t.loading?n("div",[n("div",{class:t.$style.loader},[t._m(0),n("div",{staticClass:"loader-text"},[t._v("正在连接辅助插件")])])]):t._e(),t.notFound&&!t.loading?n("div",{staticClass:"not-found"},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.needUpdate?"您的辅助插件版本过低":"自动操作需要辅助插件")+" "),t.needUpdate?n("small",[t._v("(v"+t._s(t.version)+")")]):t._e()]),n("div",{staticClass:"content"},[t._v(" 由于浏览器限制，自动操作无法在网页完成 "),n("a",{staticClass:"dlink",attrs:{href:"https://cocogoat.work/extra/client",target:"_blank"}},[t._v(" 点击此处下载辅助插件"),n("small",[t._v("(v"+t._s(t.cVersion)+" 300kB)")])]),n("div",{staticClass:"absolute-area"},[n("el-button",{staticClass:"start-btn start-gray",on:{click:function(e){return t.enable(!1)}}},[n("div",{staticClass:"l"},[n("i",{staticClass:"el-icon-check"})]),n("div",{staticClass:"m"},[n("div",{staticClass:"t"},[t._v(" "+t._s(t.needUpdate?"我已更新并重新运行客户端":"我已下载并运行客户端")+" ")]),n("div",{staticClass:"d"},[t._v("记得同意控制键鼠的权限申请")])]),n("div",{staticClass:"r"},[n("i",{staticClass:"el-icon-arrow-right"})])])],1)])]):t._e(),t.notFound||!t.denied&&!t.gameNotFound||t.loading?t._e():n("div",{staticClass:"not-found"},[n("div",{staticClass:"title"},[t._v(t._s(t.denied?"您已拒绝辅助插件的权限申请":"未找到可用的原神游戏窗口"))]),n("div",{staticClass:"content"},[t.denied?n("div",[t._v(" 由于浏览器限制，自动操作无法在网页完成"),n("br"),t._v(" 模拟键鼠操作需要您运行辅助插件并同意权限申请 ")]):n("div",[t._v(" 自动操仅支持原神PC客户端"),n("br"),t._v(" 请重新检查是否启动原神 ")]),n("div",{staticClass:"absolute-area"},[n("el-button",{staticClass:"start-btn start-gray",on:{click:function(e){return t.enable(!1)}}},[n("div",{staticClass:"l"},[n("i",{staticClass:"el-icon-check"})]),n("div",{staticClass:"m"},[n("div",{staticClass:"t"},[t._v("点击重试")]),n("div",{staticClass:"d"},[t._v("记得同意控制键鼠的权限申请")])]),n("div",{staticClass:"r"},[n("i",{staticClass:"el-icon-arrow-right"})])])],1)])])])])}),pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-animation"},[n("span",{staticClass:"cssload-loader"},[n("span",{staticClass:"cssload-loader-inner"})])])}],mt=n(89294);function At(t,e){const n=t.split("."),i=e.split("."),a=Math.max(n.length,i.length);for(let s=0;s<a;s++){const t=parseInt(n[s],10),e=parseInt(i[s],10);if(t!==e)return void 0===t?-1:void 0===e||t-e>0?1:-1}return 0}var vt=(0,mt.defineComponent)({props:{control:{type:Object,required:!0}},emits:["done"],setup(t,{emit:e}){const n=(0,mt.toRef)(t,"control"),i=(0,mt.ref)(!0),a=(0,mt.ref)(!1),s=(0,mt.ref)(!1),r=(0,mt.ref)(!1),o=(0,mt.ref)(!1),l=(0,mt.ref)(""),c=async(t=!1)=>{if(i.value&&!t)return;i.value=!0,s.value=!1;const c=await n.value.check();if(!c)return a.value=!0,i.value=!1,void(o.value=!1);if(At(n.value.version,"1.2.0")<0)return o.value=!0,a.value=!0,i.value=!1,void(l.value=n.value.version);o.value=!1;try{i.value=!0;const t=await n.value.authorize();if(t){let t=await n.value.listWindows();if(t=t.filter((t=>t.title.includes("原神")||t.title.toLowerCase().includes("genshin"))),0===t.length)return a.value=!1,i.value=!1,void(r.value=!0);e("done",t[0].hWnd)}else s.value=!0;a.value=!1}catch(u){a.value=!0,console.log(u)}i.value=!1};return(0,mt.onMounted)((()=>c(!0))),{loading:i,notFound:a,enable:c,denied:s,gameNotFound:r,needUpdate:o,version:l,cVersion:"1.2.0"}}}),gt=vt,yt={client:"Client_client_VfGtS",loader:"Client_loader_vPNa8","scanner-cssload-loader":"Client_scanner-cssload-loader_DI8sF","scanner-cssload-loader-inner":"Client_scanner-cssload-loader-inner_GKkZ4"};function bt(t){this["$style"]=yt.locals||yt}var wt=(0,C.Z)(gt,dt,pt,!1,bt,null,null),Ct=wt.exports,xt=n(17187),St=n(9669),Et=n.n(St);class kt{constructor(t=32333){this.port=32333,this.token="",this.hwnd=0,this.version="",this.ev=new xt.EventEmitter,this.client=Et().create({baseURL:`http://localhost:${this.port}`}),this.MOUSEEVENTF_ABSOLUTE=32768,this.MOUSEEVENTF_LEFTDOWN=2,this.MOUSEEVENTF_LEFTUP=4,this.MOUSEEVENTF_MIDDLEDOWN=32,this.MOUSEEVENTF_MIDDLEUP=64,this.MOUSEEVENTF_MOVE=1,this.MOUSEEVENTF_RIGHTDOWN=8,this.MOUSEEVENTF_RIGHTUP=16,this.MOUSEEVENTF_WHEEL=2048,this.MOUSEEVENTF_XDOWN=128,this.MOUSEEVENTF_XUP=256,this.MOUSEEVENTF_HWHEEL=4096,this.port=t,this.client.interceptors.request.use((t=>(this.token&&(t.headers["Authorization"]=`Bearer ${this.token}`),""===t.headers["Content-Type"]&&delete t.headers["Content-Type"],t))),this.client.interceptors.response.use(void 0,(t=>{const e=t;return 410===e.status?(console.warn("Control stopped by user"),new Error("ECANCEL")):t}))}async check(){try{const{data:t}=await this.client.get("/",{},{timeout:800});return this.version=t.version,!0}catch(t){return!1}}async authorize(){if(this.ws)return!0;try{const t=await this.client.post("/token");if(t instanceof Error)throw t;const e=t.data;this.token=e.token,this.hwnd=e.hwnd||0;const n=new WebSocket(`ws://localhost:${this.port}/ws/${this.token}`);return n.onmessage=t=>{const e=JSON.parse(t.data);this.ev.emit(e.id||e.action,e.data)},n.onclose=()=>{this.ws=void 0},await new Promise((t=>{n.onopen=t})),this.ws=n,!0}catch(t){if(t.response&&401===t.response.status)return!1;throw t}}wsInvoke(t,e,n,i){if(!this.ws)throw new Error("WebSocket not connected");const a=new URL(e,`http://localhost:${this.port}`);n&&a.searchParams.append(...Object.entries(n));const s=a.pathname+a.search,r=Math.round(1e3*Date.now()+1e3*Math.random()).toString(16),o={id:r,action:"api",data:{url:s,method:t,body:i?JSON.stringify(i):void 0}},l=new Promise((t=>{this.ev.on(r,t)}));return this.ws.send(JSON.stringify(o)),l}async listWindows(){return(await this.wsInvoke("GET","/api/windows")).body}async activateWindow(t){return await this.wsInvoke("PATCH","/api/windows/"+t)}}const Tt=t=>new Promise((e=>setTimeout(e,t)));var Ot={components:{ClientComp:Ct},props:{visible:{type:Boolean}},data(){return{control:new kt,connected:!1,step:1,statusText:"正在检查更新...",statusProgress:0,form:{"min-level":0,"min-star":5,number:0},output:[],importDeleteUnseen:!1,hwnd:-1}},watch:{visible(t){t&&(this.connected=!!this.control.ws,this.step=this.connected?2:1)},step(t){2===t&&this.loopForUpdate()},output:{async handler(t){await this.$nextTick(),this.$refs.outputArea.scrollTop=this.$refs.outputArea.scrollHeight},deep:!0}},methods:{onConnected(t){this.connected=!0,this.step=2,this.hwnd=t},async startScan(){this.step++,this.control.ev.removeAllListeners("yas"),this.control.ev.removeAllListeners("yas-output"),this.output=[],this.control.ev.on("yas",(async t=>{if(this.output.push(`[YAS STAT] ${t}`),"exit"===t){this.output.push("[YAS PROG] 正在获取圣遗物数据...");const t=await this.control.client.get("/api/yas");if(t instanceof Error)this.output.push(`[YAS ERR!] 获取圣遗物数据失败，错误详情如下：\n${t.message}`);else{const n=t.data;try{(0,r.k6)(n,this.importDeleteUnseen),this.output.push("[YAS DONE] 圣遗物扫描完成，您可以关闭本窗口和辅助插件。")}catch(e){this.output.push(`[YAS ERR!] 导入圣遗物数据失败，错误详情如下：\n${t.message}`)}}}})),this.control.ev.on("yas-output",(t=>{this.output.push(t)})),this.hwnd>-1&&await this.control.activateWindow(this.hwnd),this.control.wsInvoke("POST","/api/yas","",{argv:Object.keys(this.form).reduce(((t,e)=>(0===this.form[e]||(t+=`--${e} ${this.form[e]} `),t)),"")})},async loopForUpdate(){const t={started:"正在检查更新...[0]",prechecking:"正在检查更新...[1]",prehashing:"正在检查更新...[2]",prechecksum:"正在检查更新...[3]",downloading:"正在下载更新...",checksum:"正在校验更新...",done:"更新完成",noupdate:"没有更新"},e=await this.control.wsInvoke("POST","/api/upgrade/yas");if(201===e.status)while(1){const{body:{total:e,downloaded:n,msg:i}}=await this.control.wsInvoke("GET","/api/upgrade/yas");if("done"===i||"noupdate"===i){this.step++,this.statusText=t[i],this.statusProgress=100;break}{const a=Math.floor(n/e*100)||0;if(this.statusProgress=a,!t[i]){this.statusText="ERROR: "+i;break}this.statusText=t[i]+"  "+a+"%"}await Tt(80)}}}},Nt=Ot,Rt={webcapturer:"YasUIDialog_webcapturer_XcTXY",uimain:"YasUIDialog_uimain_Qdkhh"};function _t(t){this["$style"]=Rt.locals||Rt}var Dt=(0,C.Z)(Nt,ft,ht,!1,_t,null,null),jt=Dt.exports,Ut=n(93972),Bt=n(60630),Wt=n(24044),Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"section title"},[n("img",{staticClass:"title-image",attrs:{src:t.image}}),n("span",{staticClass:"title-name"},[t._v(t._s(t.title))])]),n("el-divider"),n("div",{staticStyle:{padding:"0 20px"}},[n("el-row",{attrs:{gutter:16}},[n("el-col",{attrs:{span:12}},[n("p",{staticClass:"config-title"},[t._v("套装")]),n("select-artifact-set",{model:{value:t.setName,callback:function(e){t.setName=e},expression:"setName"}})],1),n("el-col",{attrs:{span:12}},[n("p",{staticClass:"config-title"},[t._v("位置")]),n("select-artifact-slot",{attrs:{value:t.position},on:{input:t.handleChangePosition}})],1)],1),n("el-row",{attrs:{gutter:16}},[n("el-col",{attrs:{span:12}},[n("p",{staticClass:"config-title"},[t._v("品质")]),n("el-rate",{model:{value:t.star,callback:function(e){t.star=e},expression:"star"}})],1),n("el-col",{attrs:{span:12}},[n("p",{staticClass:"config-title"},[t._v("等级")]),n("el-input-number",{attrs:{max:20,min:0,size:"small"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1)],1)],1),n("el-divider"),n("div",{staticClass:"section"},[n("p",{staticClass:"config-title"},[t._v("词条")]),n("input-artifact-main-stat",{staticStyle:{"margin-bottom":"24px"},model:{value:t.mainStat,callback:function(e){t.mainStat=e},expression:"mainStat"}}),n("div",{staticClass:"sub-stat-div"},t._l(t.subStats,(function(e,i){return n("div",{key:i,staticClass:"sub-stat-item"},[n("input-artifact-sub-stat",{model:{value:t.subStats[i],callback:function(e){t.$set(t.subStats,i,e)},expression:"subStats[index]"}}),n("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.handleRemoveSubStat(i)}}})],1)})),0)],1),n("el-divider"),n("div",{staticClass:"section"},[n("el-row",{attrs:{gutter:12}},[n("el-col",{attrs:{span:12}},[n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.$emit("confirm",t.artifactId)}}},[t._v(" 确定 ")])],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticClass:"button",on:{click:function(e){return t.$emit("cancel")}}},[t._v(" 取消 ")])],1)],1)],1)],1)},Vt=[],Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input",{attrs:{size:"small",value:t.value.value},on:{input:t.handleChangeValue}},[n("template",{slot:"prepend"},[n("select-artifact-sub-stat",{staticStyle:{width:"150px"},attrs:{value:t.value.name},on:{input:t.handleChangeName}})],1),n("template",{slot:"append"},[t.isPercent?n("span",[t._v("%")]):t._e()])],2)},Mt=[],Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.list,(function(t){return n("el-option",{key:t.name,attrs:{label:t.title,value:t.name}})})),1)},Pt=[];let It=[];for(let Ae of j.Fd)It.push({name:Ae,title:j.vB[Ae].chs});Object.freeze(It);var Yt={name:"SelectArtifactSubStat",props:["value"],created(){this.list=It}},Ht=Yt,zt=(0,C.Z)(Ht,Zt,Pt,!1,null,"139cc1a6",null),Jt=zt.exports,Gt={name:"InputArtifactSubStat",props:["value"],components:{SelectArtifactSubStat:Jt},methods:{handleChangeName(t){let e={name:t,value:this.value.value};this.$emit("input",e)},handleChangeValue(t){this.$emit("input",{name:this.value.name,value:t})}},computed:{isPercent(){return!!this.value.name&&j.vB[this.value.name].percentage}}},Qt=Gt,$t=(0,C.Z)(Qt,Ft,Mt,!1,null,"0ef85aa0",null),Xt=$t.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input",{attrs:{size:"small",value:t.value.value},on:{input:t.handleChangeValue}},[n("template",{slot:"prepend"},[n("select-artifact-main-stat",{staticStyle:{width:"150px"},attrs:{"include-any":!1,position:t.position,value:t.name},on:{input:t.handleChangeName}})],1),n("template",{slot:"append"},[t.isPercent?n("span",[t._v("%")]):t._e()])],2)},Kt=[],te={name:"InputArtifactMainStat",props:["value","position"],components:{SelectArtifactMainStat:Bt.Z},methods:{handleChangeName(t){if(console.log(t),t!==this.value.name){let e=j.vB[t].max[5];const n=j.vB[t].percentage;n&&(e*=100),this.$emit("input",{name:t,value:e})}},handleChangeValue(t){this.$emit("input",{name:this.value.name,value:t})}},computed:{isPercent(){return!!this.value.name&&j.vB[this.value.name].percentage},name(){return this.value.name}}},ee=te,ne=(0,C.Z)(ee,qt,Kt,!1,null,"1961f098",null),ie=ne.exports,ae=n(48599),se={name:"EditArtifact",components:{InputArtifactSubStat:Xt,InputArtifactMainStat:ie,SelectArtifactSet:Ut.Z,SelectArtifactSlot:ae.Z},data(){return{artifactId:-1,setName:"berserker",star:5,level:20,position:"flower",mainStat:{name:"attackStatic",value:0},subStats:[{name:null,value:0},{name:null,value:0},{name:null,value:0},{name:null,value:0}]}},methods:{handleChangePosition(t){this.position=t;const e=j.nl[this.position];if(e.indexOf(this.mainStat.name)<0){const t=e[0],n=j.vB[t].max["5"];this.mainStat=this.convertStat({name:t,value:n})}},convertStat(t){const e=j.vB[t.name];return e.percentage?{name:t.name,value:(100*t.value).toFixed(1)}:{name:t.name,value:t.value}},convertStatBack(t){if(!t.name)return null;const e=j.vB[t.name];let n=parseFloat(t.value);return e.percentage&&(n/=100),{name:t.name,value:n}},setId(t){const e=(0,r.gk)(t);this.artifactId=e.id,this.setName=e.setName,this.star=e.star,this.level=e.level,this.position=e.position,this.mainStat=this.convertStat(e.mainTag);let n=[];for(let i of e.normalTags)n.push(this.convertStat(i));while(n.length<4)n.push({name:null,value:0});this.subStats=n},getNewArtifact(){const t=this.convertStatBack(this.mainStat);let e=[];for(let n of this.subStats){const t=this.convertStatBack(n);t&&e.push(t)}return{setName:this.setName,star:this.star,level:this.level,position:this.position,mainTag:t,normalTags:e}},handleRemoveSubStat(t){this.$set(this.subStats,t,{name:null,value:0})}},computed:{image(){return(0,r.KL)(this.setName,this.position)},title(){const t=g.oN[this.setName];return t[this.position].chs}},watch:{setName(t,e){if(t===e)return;const n=g.oN[t];if(!n[this.position])for(let i in o.m)if(n[[i]]){this.position=i;break}}}},re=se,oe=(0,C.Z)(re,Lt,Vt,!1,null,"13aad0da",null),le=oe.exports,ce=n(46499);const ue=[{icon:c,name:"flower"},{icon:u,name:"feather"},{icon:f,name:"sand"},{icon:h,name:"cup"},{icon:d,name:"head"}];Object.freeze(ue);const fe=20;var he={name:"ArtifactsPage",components:{ImportBlock:ce.Z,AddArtifactDialog:ut,SelectArtifactSet:Ut.Z,SelectArtifactMainStat:Bt.Z,ArtifactDisplay:Wt.Z,EditArtifact:le,YasUiDialog:jt},created:function(){this.tabs=ue,this.pageSize=fe},mounted(){this.$nextTick((()=>{const t=this.$refs["artifactsDiv"]?.[0];if(!t)return;const e=t.getBoundingClientRect();this.contentHeight=`calc(100vh - ${e.top}px)`}))},data:function(){return{activeName:"flower",newDialogVisible:!1,showEditArtifactDrawer:!1,showImportDialog:!1,showYasUIDialog:!1,showArtifactRecommendationDrawer:!1,recommendationList:[],recommendationInCalculation:!1,filterSet:[],filterMainStat:[],ge16:!0,contentHeight:"",importDeleteUnseen:!1}},methods:{handleClickDeleteAll(){this.$store.commit("artifacts/removeAllArtifacts")},handleClickRemoveArtifact(t){(0,r.VE)(t)},handleClickToggleArtifact(t){(0,r.kY)(t)},handleClickEditArtifact(t){this.showEditArtifactDrawer=!0,this.$nextTick((()=>{let e=this.$refs["editArtifactDrawer"];e&&e.setId(t)}))},handleConfirmEdit(t){let e=this.$refs["editArtifactDrawer"];if(!e)return;let n=e.getNewArtifact();(0,r.Ro)(t,n),this.showEditArtifactDrawer=!1},add:function(){this.newDialogVisible=!0},handleAddArtifact:function(t){this.newDialogVisible=!1,this.activeName=t.position,this.$store.commit("artifacts/addArtifact",t)},handleImportJsonClicked(){this.showImportDialog=!0},handleYasUIClicked(){this.showYasUIDialog=!0},handleImportJson(){const t=this.$refs.fileUploader;if(!t)return;const e=this.$loading({lock:!0,text:"导入中"});t.getReadPromise().then((t=>{try{const e=JSON.parse(t);(0,r.k6)(e,this.importDeleteUnseen)}catch(e){return Promise.reject("格式不正确")}})).catch((t=>{this.$message.error(t)})).finally((()=>{e.close()}))},handleOutputJsonClicked(){let t={version:"1"};for(let n in o.m)t[n]=this.$store.state.artifacts[n];const e=JSON.stringify(t);(0,l.Qz)(e,"application/json","artifacts_mona")},handleClickRecommendation(){const t=this.$store.getters["presets/allFlat"].length;0!==t?(this.showArtifactRecommendationDrawer=!0,(0,r.h1)().then((t=>{let e=t.slice(0,50);const n=e.map((t=>t[1])).reduce(((t,e)=>Math.max(t,e)),0);for(let i=0;i<e.length;i++)e[i][1]/=n;this.recommendationList=e}))):this.$message.error("添加计算预设以使用该功能")}},computed:{...(0,s.mapGetters)("artifacts",["allArtifacts","artifactsById","count"]),artifactsCurrentSlotFlat(){const t=this.allArtifacts[this.activeName];return t},filteredArtifacts(){let t=[];for(let e of this.artifactsCurrentSlotFlat){const n=e.setName,i=e.mainTag.name,a=e.level??20;this.filterSet.length>0&&-1===this.filterSet.indexOf(n)||(this.filterMainStat.length>0&&-1===this.filterMainStat.indexOf(i)||this.ge16&&a<16||t.push(e))}return t},artifactToBeDisplayed(){return this.filteredArtifacts}}},de=he,pe=(0,C.Z)(de,i,a,!1,null,"6e1f534a",null),me=pe.exports},4222:function(t,e,n){"use strict";n.d(e,{F_:function(){return c},Lk:function(){return o},MI:function(){return l},jH:function(){return s},ut:function(){return r}});var i=n(98017),a=n(36110);function s(t,e){let n=i.vB[t];if(!n)throw"tag name not exist";let a="";switch(t){case"attackPercentage":case"attackStatic":a="攻击力";break;case"lifePercentage":case"lifeStatic":a="生命值";break;case"defendPercentage":case"defendStatic":a="防御力";break;default:a=n.chs;break}if(n.percentage){let t=(100*e).toFixed(1);return a+"+"+t+"%"}return a+"+"+e}function r(t,e){let n=i.vB[t];if(!n)throw"tag name not exist";return n.percentage?(100*e).toFixed(1):e}function o(t){let e=a.oN[t];return e["flower"]?e["flower"].url:e["head"].url}function l(t,e){let n=parseFloat(e);return i.vB[t].percentage?n/100:n}function c(t,e){return a.oN[t][e].chs}},37313:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAgEWABva7wK6AAABWUlEQVQ4y9XSW3OaYBSF4ecD8dRoncTU/P8/16RWo3FkPCD0ohgxAUsvs6+AWe/stRabLznxf6mD6Pq1LdbzzVBib+7w92OnBRgZGJvoi5DZtIe7HjzoVjwW54fbcHBnZvSetBAcHNvAsXszvXJXQFBYn03fgmOPZjoKedlyIdhZyS9lNJU09aQjdyxVhSAzt6uK6rNOzMROduLyFoLCwvKytwkeepI4SnXF7+2mFk7X9j5PYmYgs9XTcT6kveeq5frCYo++O9no65ZZSf20vvzhJnhgKtiI9Us0t/Yi/YjWwUMdOycToUTnXi6HcStz7E5hbyQqDa/8qkevNwdDA0OZvqQs6uCtCf1oe+SHTrkxd7T12/Zz1nr4gCDIbS1tHWRuzDWcyeXlLS2aN9bBsXuFV4m0OWc9HIyNPVuJ7NugVTgx9WZ5O2UTHEktKmj4d2YVcdRe/KXnD5RKbQt8T0f7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTAyLTAxVDIyOjAwOjI3KzAwOjAwx9jdRwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMi0wMVQyMjowMDoyNyswMDowMLaFZfsAAAAgdEVYdHNvZnR3YXJlAGh0dHBzOi8vaW1hZ2VtYWdpY2sub3JnvM8dnQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMjU26cNEGQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAyNTZ6MhREAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE2MTIyMTY4MjeuuB8qAAAAEXRFWHRUaHVtYjo6U2l6ZQA4Mjg1Qkq5w8cAAAA2dEVYdFRodW1iOjpVUkkAZmlsZTovLy90bXAvdGh1bWJsci9pbWcxMTE1Mjg3MTkyMzA2ODI4NDc4OO1fFe8AAAAASUVORK5CYII="},54715:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAgEWABva7wK6AAABm0lEQVQ4y+XUS1PbQBAE4G93bcuY2BhCQaiE//+7csgBkpTzMNiWJW8OyEJyeN3pg0qj7dbu9Mws7w/pVUYwNhGRXxcfO5HUDTWY+uLCiYnS9mVx0VCHShWOXPsgGjgSLe2eFyeXTkXJxNha7dyZ0KxGv1Vd+qAnHjsVZQQz2Y0TQW7lB+iLg0BLnaLoxOvDnGMv2ip7a8dNWhm1X+qXxKWF3JCzbCA0SewslQfs/9zeGhkLyJayLMm2SiNzQ/ddv/viIGEkIcjWoqEsGxlKCnc2Txs2cObMSFAZNt8yYtNfQegffNB5u3DZLmaMFZ2WDNhYPy2euRDbmj4+cxttfVcZyvtW2eecfDLp1FRz0AenNyobS8mpc9F9f+dsZdazr+r8uLJwbC6Jarf7ZFIrXlvZSaJsp7RrTatVJsZqUbTwY1+uftcmhUJUq12ZybLSykSyMTKw8tVd18OnEMx9lK38MXWlQnDvxt/HCjwn3jdMLbg2980aZa/3D6aqi31BpqZ+WhwOxcs7P6Dw2cbt4TC+DSPTN1yS7wj/AMNxfuQtfh4DAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTAyLTAxVDIyOjAwOjI3KzAwOjAwx9jdRwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMi0wMVQyMjowMDoyNyswMDowMLaFZfsAAAAgdEVYdHNvZnR3YXJlAGh0dHBzOi8vaW1hZ2VtYWdpY2sub3JnvM8dnQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMjU26cNEGQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAyNTZ6MhREAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE2MTIyMTY4MjeuuB8qAAAAEnRFWHRUaHVtYjo6U2l6ZQAxMDYxMULxkdaTAAAANXRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vdG1wL3RodW1ibHIvaW1nNjAwODgyNjMzOTY5MTk3MjAxOPCLm8sAAAAASUVORK5CYII="},66464:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAgEVOi/ctJYvAAABNElEQVQ4y+2Ty07DMBBFj+O2EAKKqiIhgfj/72IDm6oK5N3YMRtjbDduBeveVWbGx565duCqP0kEUU4RZUIZWvrfcBUUNzxHmVCKtzTccuDhDFzT+mEIK2q2ZAl0pkGlYRjRbLwZfVd6hnBxfMqRxgMnRq/WcDwPG1pm12bFAY2xUWu/Em0LDAOKDaCp2DOzYssaUAwYhL/B6cUoNACSkhFFadfo0KxleLawYM2OmRub124cJxm1DYaMO5uXrKzbE3saohd5CkNPh0CS2czEFx9U0cXFgWeHJKekAFo+6e0ohIalXpOmA3JyBJ1DLxrmjyTBTb2gjHRFW6uS8JJhICh4YodEcMsa5e74otsZj7xQ2q4yCu4xDKduL8E5r+5p/DiTUzPF8JJhR96jTUHHf9RV/9A3NS9dtVrifrUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMDFUMjE6NTg6NDcrMDA6MDDe/VS4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTAxVDIxOjU4OjQ3KzAwOjAwr6DsBAAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAyNTbpw0QZAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADI1NnoyFEQAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTYxMjIxNjcyN6XkWBcAAAARdEVYdFRodW1iOjpTaXplADczMTBCAvP8uQAAADZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL3RtcC90aHVtYmxyL2ltZzEwMTg1MTYxNzAyNzg3MzA2NjE0byj7gAAAAABJRU5ErkJggg=="},79560:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAgEVOi/ctJYvAAABcklEQVQ4y+3T207bUBCF4W/7EMdJkFqaQLjo+z9ZpZIiRFvlgJNt94LYxDlAq96yJF9YM79nlvfafKivVPZWOXmjFnxxdxYP78OFqWujM5XmfXhoIFW2c865urTyZzOFIBds2ll/BxfmxhJBYmCl+heYjbWJ4N5CpT7X0nrODHv+o6VGQLC27Rkq5P3JibmJrd3B4neGgry3dGbm2uqlL+kmrc186v5sZmay/8iNooNH5qLnY8/RWKmyEwzcmkrUGkGh8CwKRm6lvrfw6xkGU19tLUWlkYC1Zh+StRXGCg++ie16rRq/rIwNuveNhcaNUlAqwdZTi/YTVnnqhSFTKI6y/dvq0jnXrrrmIFUoDQ6sRfeX4ShXCl17elBvNJYWh3HJjiY/Gsilwj4iL1jQiGoPvbic3Nad3FitETv/iUQiiH30FI5WriS0ETzQ8vh6HF+MRiWq1Zr9U4sqaz/9aMPxGo1TBalE1h1jLe4/+KH/0x8ztHBAJzlpvAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0wMVQyMTo1ODo0NyswMDowMN79VLgAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMDFUMjE6NTg6NDcrMDA6MDCvoOwEAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADI1NunDRBkAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMjU2ejIURAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNjEyMjE2NzI3peRYFwAAABF0RVh0VGh1bWI6OlNpemUAOTUxMkKqnn+GAAAANnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vdG1wL3RodW1ibHIvaW1nMTM1MzgyODE4MzQ1NzQxNzQzNTnIUaTXAAAAAElFTkSuQmCC"},1642:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAgEVOi/ctJYvAAABl0lEQVQ4y8XUTVPiQBCA4WcwJBCiIlWWbmHt//9dWxzY2j2gkA0QkuxBS0kC4s2+zUy//T3Nd0noncMn2o3mHBzcuv4Urq1sPo7R0dPAzKxtuyfVObj2V2lqqziBjSVWno+vjuHGi0Ii97vnP3hUWzqcg1/DKsWcgIdKdfty0CtJYWzYCzo2VnRNDnpqG0HWu80EG027F1FPbSs3s1G9G65FZjZ2XdVTXU39tLV3Y4Dai1jilwLhOPSrE/BB6U6skYrsjESWb/1tOTsFs7d1LagdNBqL99H4AsxeZWqvEltan05z4JxUaqW9RnVO5ZznxIPgn4OhkeLdwBfCHpuLLTVqa1OZnfJrcOzJlYVcKnhWuDWRqy7Dwb3MQiHzILWT25oJ8stw4oeVZzeepGITe7krU2vVpWpPBGuZuREYmcusBZP2fPXhILUTPL6hr/ijYCftDnMXHoiV7jr/KnOnlHThds6JqRsDmejo+zWCIYYa1fHIhJbXufsLq/ePxUfe7R1WKLpFadWjaa/G0HmOLniuunvse+Q/vQCCBImN3yIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMDFUMjE6NTg6NDcrMDA6MDDe/VS4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTAxVDIxOjU4OjQ3KzAwOjAwr6DsBAAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAyNTbpw0QZAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADI1NnoyFEQAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTYxMjIxNjcyN6XkWBcAAAASdEVYdFRodW1iOjpTaXplADEwOTA4QnnyF7sAAAA1dEVYdFRodW1iOjpVUkkAZmlsZTovLy90bXAvdGh1bWJsci9pbWc3MDE5MDc0OTk4MTQ1NjAwODg2GLawiAAAAABJRU5ErkJggg=="}}]);