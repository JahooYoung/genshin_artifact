"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[41],{3041:function(t,a,e){e.r(a),e.d(a,{default:function(){return f}});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticStyle:{"margin-bottom":"16px"}},[e("el-radio-group",{staticStyle:{"margin-right":"24px"},attrs:{size:"small"},model:{value:t.damageType,callback:function(a){t.damageType=a},expression:"damageType"}},[e("el-radio-button",{attrs:{label:"normal"}},[t._v(t._s(t.normalDamageName))]),t.showMeltOption?e("el-radio-button",{attrs:{label:"melt"}},[t._v("融化")]):t._e(),t.showVaporizeOption?e("el-radio-button",{attrs:{label:"vaporize"}},[t._v("蒸发")]):t._e()],1),"normal"===t.damageType?e("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageNormal)))]):t._e(),"melt"===t.damageType?e("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageMelt)))]):t._e(),"vaporize"===t.damageType?e("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageVaporize)))]):t._e()],1),e("div",{staticClass:"header-row",staticStyle:{overflow:"auto","margin-bottom":"16px"}},[e("div",[e("div",{staticClass:"big-title base-damage-region"},[t._v(t._s(t.baseRegionName))]),e("div",{staticClass:"header-row"},[t.atkRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.atkState,title:"攻击力"}}):t._e(),t.atkRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.atkRatioState,title:"攻击力倍率"}}):t._e(),t.defRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.defState,title:"防御力"}}):t._e(),t.defRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.defRatioState,title:"防御力倍率"}}):t._e(),t.hpRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.hpState,title:"生命值"}}):t._e(),t.hpRatioState.length>0?e("damage-analysis-util",{attrs:{arr:t.hpRatioState,title:"生命值倍率"}}):t._e(),t.extraDamageState.length>0?e("damage-analysis-util",{attrs:{arr:t.extraDamageState,title:"其他"}}):t._e()],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHeal,expression:"!isHeal"}]},[e("div",{staticClass:"big-title critical-region"},[t._v("暴击")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.criticalState,title:"暴击率"}}),e("damage-analysis-util",{attrs:{arr:t.criticalDamageState,title:"暴击伤害"}})],1)]),e("div",[e("div",{staticClass:"big-title bonus-region"},[t._v("加成")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.bonusState,title:t.bonusRegionName}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"melt"===t.damageType||"vaporize"===t.damageType,expression:"damageType === 'melt' || damageType === 'vaporize'"}]},[e("div",{staticClass:"big-title reaction-ratio-region"},[t._v("反应倍率")]),e("div",{staticClass:"header-row",staticStyle:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[e("span",[t._v(t._s(t.reactionRatio))])])]),"melt"===t.damageType?e("div",[e("div",{staticClass:"big-title melt-region"},[t._v("增幅伤害加成")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.meltEnhanceState,title:"融化伤害加成"}})],1)]):t._e(),"vaporize"===t.damageType?e("div",[e("div",{staticClass:"big-title vaporize-region"},[t._v("增幅伤害加成")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.vaporizeEnhanceState,title:"蒸发伤害加成"}})],1)]):t._e()]),t.isHeal?t._e():e("div",{staticClass:"header-row",staticStyle:{overflow:"auto"}},[e("div",[e("div",{staticClass:"big-title def-minus"},[t._v("防御乘区")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.defMinusState,title:"减防"}}),e("damage-analysis-util",{attrs:{arr:t.defPenetrationState,title:"穿防"}})],1)]),e("div",[e("div",{staticClass:"big-title res-minus"},[t._v("抗性乘区")]),e("div",{staticClass:"header-row"},[e("damage-analysis-util",{attrs:{arr:t.resMinusState,title:"减抗"}})],1)])])])},s=[],n=e(62032),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"min-width":"100px"}},[e("div",{staticClass:"header"},[t._v(t._s(t.title))]),e("div",t._l(t.arr,(function(a){return e("div",{key:a.name,staticClass:"item"},[e("div",{staticClass:"item-top"},[e("el-checkbox",{model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"item.checked"}},[t._v(t._s(a.name))])],1),e("div",{staticClass:"item-bottom"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.value,expression:"item.value",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"text"},domProps:{value:a.value},on:{input:function(e){e.target.composing||t.$set(a,"value",t._n(e.target.value))},blur:function(a){return t.$forceUpdate()}}})])])})),0)])},l=[],o={name:"DamageAnalysisUtil",props:{arr:{},title:{default:"title"}}},c=o,u=e(1001),d=(0,u.Z)(c,r,l,!1,null,"a0a38e98",null),m=d.exports;function h(t){var a,e=0,i=(0,n.Z)(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.checked&&(e+=parseFloat(s.value))}}catch(r){i.e(r)}finally{i.f()}return e}var g={name:"DamageAnalysis",components:{DamageAnalysisUtil:m},props:["enemyConfig","characterLevel"],data:function(){return{damageType:"normal",element:"Pyro",isHeal:!1,atkState:[{name:"test",value:1e3,checked:!0}],atkRatioState:[{name:"test",value:1e3,checked:!0}],defState:[],defRatioState:[],hpState:[],hpRatioState:[],extraDamageState:[],criticalState:[],criticalDamageState:[],meltEnhanceState:[],vaporizeEnhanceState:[],defMinusState:[],defPenetrationState:[],resMinusState:[],bonusState:[],healingBonusState:[]}},methods:{setValue:function(t){console.log(t);var a={atkState:"atk",atkRatioState:"atk_ratio",defState:"def",defRatioState:"def_ratio",hpState:"hp",hpRatioState:"hp_ratio",extraDamageState:"extra_damage",criticalState:"critical",criticalDamageState:"critical_damage",meltEnhanceState:"melt_enhance",vaporizeEnhanceState:"vaporize_enhance",bonusState:"bonus",defMinusState:"def_minus",defPenetrationState:"def_penetration",resMinusState:"res_minus",healingBonusState:"healing_bonus"};for(var e in this.element=t.element,this.isHeal=t.is_heal,this.damageType="normal",a){var i=a[e],s=[];for(var n in t[i])s.push({name:n,checked:!0,value:Math.round(1e3*t[i][n])/1e3});this[e]=s}}},computed:{normalDamageName:function(){var t={Pyro:"火元素伤害",Electro:"雷元素伤害",Hydro:"水元素伤害",Anemo:"风元素伤害",Geo:"岩元素伤害",Dendro:"草元素伤害",Cryo:"冰元素伤害",Physical:"物理伤害"};return t[this.element]},showMeltOption:function(){return"Cryo"===this.element||"Pyro"===this.element},showVaporizeOption:function(){return"Pyro"===this.element||"Hydro"===this.element},baseRegionName:function(){return this.isHeal?"基础治疗":"基础伤害"},bonusRegionName:function(){return this.isHeal?"治疗加成":"伤害加成"},reactionRatio:function(){var t={Cryomelt:1.5,Pyromelt:2,Pyrovaporize:1.5,Hydrovaporize:2};return t[this.element+this.damageType]},atk:function(){return h(this.atkState)},atkRatio:function(){return h(this.atkRatioState)},def:function(){return h(this.defState)},defRatio:function(){return h(this.defRatioState)},hp:function(){return h(this.hpState)},hpRatio:function(){return h(this.hpRatioState)},extraDamage:function(){return h(this.extraDamageState)},bonus:function(){return h(this.bonusState)},healingBonus:function(){return h(this.healingBonusState)},critical:function(){return h(this.criticalState)},criticalDamage:function(){return h(this.criticalDamageState)},meltEnhance:function(){return h(this.meltEnhanceState)},vaporizeEnhance:function(){return h(this.vaporizeEnhanceState)},defMinus:function(){return h(this.defMinusState)},defPenetration:function(){return h(this.defPenetrationState)},resMinus:function(){return h(this.resMinusState)},baseDamage:function(){return this.atk*this.atkRatio+this.def*this.defRatio+this.hp*this.hpRatio+this.extraDamage},damageNormal:function(){var t,a,e=this.enemyConfig.level,i=this.characterLevel,s=100+i,n=s/((1-this.defPenetration)*(1-this.defMinus)*(100+e)+s),r=.1-this.resMinus;return t=r>.75?1/(1+4*r):r>0?1-r:1-r/2,a=this.isHeal?this.baseDamage*(1+this.healingBonus):this.baseDamage*(1+this.critical*this.criticalDamage)*(1+this.bonus)*t*n,a},damageMelt:function(){var t=this.damageNormal*this.reactionRatio*(1+this.meltEnhance);return t},damageVaporize:function(){var t=this.damageNormal*this.reactionRatio*(1+this.vaporizeEnhance);return t}}},v=g,p=(0,u.Z)(v,i,s,!1,null,"94e1436a",null),f=p.exports}}]);