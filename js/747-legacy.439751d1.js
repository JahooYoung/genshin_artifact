(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[747],{3671:function(t,e,a){var r=a(7854),n=a(9662),o=a(7908),s=a(8361),l=a(6244),i=r.TypeError,c=function(t){return function(e,a,r,c){n(a);var f=o(e),u=s(f),d=l(f),h=t?d-1:0,p=t?-1:1;if(r<2)while(1){if(h in u){c=u[h],h+=p;break}if(h+=p,t?h<0:d<=h)throw i("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=p)h in u&&(c=a(c,u[h],h,f));return c}};t.exports={left:c(!1),right:c(!0)}},5827:function(t,e,a){"use strict";var r=a(2109),n=a(3671).left,o=a(9341),s=a(7392),l=a(5268),i=o("reduce"),c=!l&&s>79&&s<83;r({target:"Array",proto:!0,forced:!i||c},{reduce:function(t){var e=arguments.length;return n(this,t,e,e>1?arguments[1]:void 0)}})},7747:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"chart-div"},[a("v-chart",{attrs:{option:t.chartOptionForEChart,autoresize:!0}})],1),a("div",{staticClass:"table-div"},[a("el-table",{ref:"table",attrs:{data:t.tableDataForElementUI,size:"mini"},on:{"selection-change":function(e){t.selection=e}}},[a("el-table-column",{attrs:{type:"selection",width:"48"}}),a("el-table-column",{attrs:{label:"词条"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.chs)+" ")]}}])}),a("el-table-column",{attrs:{label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.percentage?[t._v(" "+t._s((100*a.value).toFixed(1))+"% ")]:[t._v(" "+t._s(a.value.toFixed(0))+" ")]]}}])}),a("el-table-column",{attrs:{label:"有效词条数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.eff.toFixed(3))+" ")]}}])}),a("el-table-column",{attrs:{label:"强化次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" ["+t._s(e.row.upgradeCount[0])+", "+t._s(e.row.upgradeCount[1])+"] ")]}}])})],1),a("p",{staticStyle:{"font-size":"12px"}},[t._v("选中："+t._s(t.selectedEff.toFixed(1)))])],1)])},n=[],o=(a(3948),a(5827),a(2707),a(9849)),s=a(2032),l={name:"ArtifactsSetStatistics",components:{},props:["artifactIds"],data(){return{selection:[]}},methods:{setSelection(t,e){const a=this.$refs["table"];if(a)for(let r of this.tableDataForElementUI)if(r.name===t){a.toggleRowSelection(r,e);break}}},computed:{artifacts(){const t=this.$store.getters["artifacts/artifactsById"];let e=[];for(let a of this.artifactIds){let r=t[a];r&&e.push(r)}return e},data(){let t={};if(!this.artifacts)return{};for(let a of this.artifacts){var e;const r=null!==(e=a.star)&&void 0!==e?e:5;if(!(r<=3))for(let e of a.normalTags){const a=e.name,n=e.value,[l,i]=(0,o.gA)(n,a,r),c=s.Og[r][a],f=c.reduce(((t,e)=>t+e))/c.length,u=n/f;if(Object.prototype.hasOwnProperty.call(t,a)){let e=t[a];e.upgradeCount[0]+=l,e.upgradeCount[1]+=i,e.value+=n,e.eff+=u}else t[a]={name:a,upgradeCount:[l,i],value:n,chs:s.vB[a].chs,eff:u,percentage:s.vB[a].percentage}}}return t},selectedEff(){let t=0;for(let e of this.selection)t+=e.eff;return t},tableDataForElementUI(){let t=[];for(let e in this.data)t.push(this.data[e]);return t.sort(((t,e)=>e.eff-t.eff)),t},chartOptionForEChart(){let t=[];for(let e in this.data)t.push({value:this.data[e].eff,name:this.data[e].chs});return t.sort(((t,e)=>t.value-e.value)),{tooltip:{trigger:"item",formatter:t=>{const e=t.value,a=t.percent;return`${e.toFixed(1)}/${a.toFixed(0)}%`}},visualMap:{show:!1,min:0,max:25,inRange:{colorLightness:[.3,1]}},series:[{name:"有效词条分布",type:"pie",label:{},itemStyle:{color:"#c23531"},data:t}]}}}},i=l,c=a(1001),f=(0,c.Z)(i,r,n,!1,null,"08a19c0d",null),u=f.exports}}]);