"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[633],{27633:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"chart-div"},[a("v-chart",{attrs:{option:t.chartOptionForEChart,autoresize:!0}})],1),a("div",{staticClass:"table-div"},[a("el-table",{ref:"table",attrs:{data:t.tableDataForElementUI,size:"mini"},on:{"selection-change":function(e){t.selection=e}}},[a("el-table-column",{attrs:{type:"selection",width:"48"}}),a("el-table-column",{attrs:{label:"词条"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.chs)+" ")]}}])}),a("el-table-column",{attrs:{label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.percentage?[t._v(" "+t._s((100*a.value).toFixed(1))+"% ")]:[t._v(" "+t._s(a.value.toFixed(0))+" ")]]}}])}),a("el-table-column",{attrs:{label:"有效词条数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.eff.toFixed(3))+" ")]}}])}),a("el-table-column",{attrs:{label:"强化次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" ["+t._s(e.row.upgradeCount[0])+", "+t._s(e.row.upgradeCount[1])+"] ")]}}])})],1),a("p",{staticStyle:{"font-size":"12px"}},[t._v("选中："+t._s(t.selectedEff.toFixed(1)))])],1)])},n=[],o=a(75200),s=a(62032),l=(a(68309),a(41539),a(2707),a(92222),a(56977),a(67828)),i=a(98017),c={name:"ArtifactsSetStatistics",components:{},props:["artifactIds"],data:function(){return{selection:[]}},methods:{setSelection:function(t,e){var a=this.$refs["table"];if(a){var r,n=(0,s.Z)(this.tableDataForElementUI);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.name===t){a.toggleRowSelection(o,e);break}}}catch(l){n.e(l)}finally{n.f()}}}},computed:{artifacts:function(){var t,e=this.$store.getters["artifacts/artifactsById"],a=[],r=(0,s.Z)(this.artifactIds);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=e[n];o&&a.push(o)}}catch(l){r.e(l)}finally{r.f()}return a},data:function(){var t={};if(!this.artifacts)return{};var e,a=(0,s.Z)(this.artifacts);try{for(a.s();!(e=a.n()).done;){var r,n=e.value,c=null!==(r=n.star)&&void 0!==r?r:5;if(!(c<=3)){var u,f=(0,s.Z)(n.normalTags);try{for(f.s();!(u=f.n()).done;){var v=u.value,d=v.name,h=v.value,p=(0,l.gA)(h,d,c),m=(0,o.Z)(p,2),g=m[0],b=m[1],y=i.Og[c][d],_=y.reduce((function(t,e){return t+e}))/y.length,C=h/_;if(Object.prototype.hasOwnProperty.call(t,d)){var w=t[d];w.upgradeCount[0]+=g,w.upgradeCount[1]+=b,w.value+=h,w.eff+=C}else t[d]={name:d,upgradeCount:[g,b],value:h,chs:i.vB[d].chs,eff:C,percentage:i.vB[d].percentage}}}catch(F){f.e(F)}finally{f.f()}}}}catch(F){a.e(F)}finally{a.f()}return t},selectedEff:function(){var t,e=0,a=(0,s.Z)(this.selection);try{for(a.s();!(t=a.n()).done;){var r=t.value;e+=r.eff}}catch(n){a.e(n)}finally{a.f()}return e},tableDataForElementUI:function(){var t=[];for(var e in this.data)t.push(this.data[e]);return t.sort((function(t,e){return e.eff-t.eff})),t},chartOptionForEChart:function(){var t=[];for(var e in this.data)t.push({value:this.data[e].eff,name:this.data[e].chs});return t.sort((function(t,e){return t.value-e.value})),{tooltip:{trigger:"item",formatter:function(t){var e=t.value,a=t.percent;return"".concat(e.toFixed(1),"/").concat(a.toFixed(0),"%")}},visualMap:{show:!1,min:0,max:25,inRange:{colorLightness:[.3,1]}},series:[{name:"有效词条分布",type:"pie",label:{},itemStyle:{color:"#c23531"},data:t}]}}}},u=c,f=a(1001),v=(0,f.Z)(u,r,n,!1,null,"08a19c0d",null),d=v.exports}}]);