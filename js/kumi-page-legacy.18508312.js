"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[7416],{75106:function(e,t,l){var i=l(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),o=[a];function c(e,t){return(0,i.wg)(),(0,i.iD)("svg",n,o)}t["Z"]={name:"ep-folder",render:c}},51582:function(e,t,l){var i=l(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224a112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96a48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96z"},null,-1),o=[a];function c(e,t){return(0,i.wg)(),(0,i.iD)("svg",n,o)}t["Z"]={name:"ep-more",render:c}},31133:function(e,t,l){var i=l(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),o=[a];function c(e,t){return(0,i.wg)(),(0,i.iD)("svg",n,o)}t["Z"]={name:"ep-search",render:c}},90489:function(e,t,l){l.r(t),l.d(t,{default:function(){return de}});var i=l(2262),n=l(66252),a=l(50592),o=(l(59674),l(28785)),c=(l(9638),l(77049)),d=(l(7739),l(86660)),u=(l(28475),l(90653)),m=(l(96152),l(31133)),r=l(59462),s=(l(98151),l(76398),l(33466),l(75915),l(8350)),v=(l(12573),l(33948),l(74916),l(3577)),f=l(74221);const w=["onClick"];function p(e,t,l,i,a,o){return(0,n.wg)(),(0,n.iD)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.items,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.index,class:(0,v.C_)({active:t.index===l.modelValue}),onClick:l=>e.$emit("update:modelValue",t.index)},(0,v.zw)(t.title),11,w)))),128))])}var h={name:"MyList",props:["modelValue","items"],emits:["update:modelValue"]},k=l(83744);const g=(0,k.Z)(h,[["render",p],["__scopeId","data-v-ce1acaf2"]]);var U=g,_=l(75701),S=l(17212),x=l(16317),z=l(42516),D=l(21323),Z=l(94234);const y={class:"up"},C={class:"title"},V={class:"buttons"},H={class:"body"};var W=(0,n.aZ)({__name:"KumiItem",props:{data:null},emits:["click","deleteArtifact","delete","edit"],setup(e,{emit:t}){const l=e,a=(0,z.n)(),o=(0,n.Fl)((()=>{let e=[];const t={};for(let n of null!==(i=l.data.artifactIds)&&void 0!==i?i:[]){var i;if(n){const e=a.artifacts.value.get(n);e&&(t[e.position]=e)}}for(let l=0;l<5;l++){const i=t[_.m7[l]];i?e.push(i):e.push(null)}return e}));return(e,a)=>{const d=c.mi;return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",y,[(0,n._)("p",C,(0,v.zw)(l.data.title),1),(0,n._)("div",V,[(0,n.Wm)(d,{text:"",icon:(0,i.SU)(D.Z),title:"删除",onClick:a[0]||(a[0]=e=>t("delete")),circle:""},null,8,["icon"]),(0,n.Wm)(d,{text:"",icon:(0,i.SU)(Z.Z),title:"重命名",onClick:a[1]||(a[1]=e=>t("edit")),circle:""},null,8,["icon"])])]),(0,n._)("div",H,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(o),((e,l)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:l},[e?((0,n.wg)(),(0,n.j4)((0,i.SU)(x.Z),{key:0,class:"artifact-item",width:"200px",item:e,selectable:"",onClick:l=>t("click",e.position),onDelete:l=>t("deleteArtifact",e.id),buttons:!0,"lock-button":!1,"delete-button":!0},null,8,["item","onClick","onDelete"])):((0,n.wg)(),(0,n.j4)((0,i.SU)(S.Z),{key:1,class:"artifact-item",onClick:e=>t("click",(0,i.SU)(_.m7)[l])},null,8,["onClick"]))],64)))),128))])])}}});const K=(0,k.Z)(W,[["__scopeId","data-v-3b630bd6"]]);var b=K,B=l(37445),P=l(6552),F=l(81884),M=l(69531),T=l(51582),A=l(75106);const Y={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},j=(0,n._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),I=[j];function q(e,t){return(0,n.wg)(),(0,n.iD)("svg",Y,I)}var L={name:"ep-folder-add",render:q},R=l(8509);const E={class:"m-toolbar hidden-md-and-up"},G={class:"m-middle"},O={class:"pc-container"},Q={class:"left mona-scroll-hidden hidden-sm-and-down"},$={class:"toolbar"},J={class:"mona-scroll-hidden left-list"},N={class:"right mona-scroll-hidden"},X={class:"hidden-md-and-up"},ee={class:"toolbar2 hidden-sm-and-down"},te={class:"button-left"},le={class:"button-right"},ie={class:"items mona-scroll-hidden"},ne={key:0},ae={key:1};var oe=(0,n.aZ)({__name:"KumiPage",setup(e){const t=(0,P.F)(),{t:l}=(0,R.QT)(),w=(0,i.iH)(0),p=(0,n.Fl)((()=>{let e=[];for(let l of t.dirs.value)e.push({index:l.id,title:l.title});return e})),h=(0,n.Fl)((()=>{const e=t.itemById(w.value);return e?e.title:"title"}));function k(){a.T.prompt(l("kumiPage.enterFolder"),l("kumiPage.newFolder"),{confirmButtonText:l("misc.confirm"),cancelButtonText:l("misc.cancel")}).then((({value:e})=>{e&&t.createDir(e)})).catch((()=>{}))}function g(e){0!==e&&(t.deleteDir(e),w.value=0)}function _(e){a.T.prompt(l("kumiPage.enterFolder"),l("kumiPage.renameFolder"),{confirmButtonText:l("misc.confirm"),cancelButtonText:l("misc.cancel")}).then((({value:l})=>{l&&t.rename(e,l)})).catch((()=>{}))}const S=(0,n.Fl)((()=>t.kumisByDirId.value[w.value]));function x(){a.T.prompt(l("kumiPage.enterKumi"),l("kumiPage.newKumi"),{confirmButtonText:l("misc.confirm"),cancelButtonText:l("misc.cancel")}).then((({value:e})=>{e&&t.createKumi(w.value,e)})).catch((()=>{}))}function z(e){t.deleteKumi(e)}function y(e){a.T.prompt(l("kumiPage.enterKumi"),l("kumiPage.renameKumi"),{confirmButtonText:l("misc.confirm"),cancelButtonText:l("misc.cancel")}).then((({value:l})=>{l&&t.rename(e,l)})).catch((()=>{}))}const C=(0,i.iH)(""),V=(0,n.Fl)((()=>new f.Z(S.value,{keys:["title"]}))),H=(0,n.Fl)((()=>{if(""===C.value)return S.value;const e=V.value.search(C.value);return e.map((e=>e.item))})),W=(0,i.iH)(!1),K=(0,i.iH)("flower"),Y=(0,i.iH)(0);function j(e){W.value=!1,t.addArtifact(Y.value,e)}function I(e,l){t.deleteArtifact(e,l)}function q(e,t){K.value=t,W.value=!0,Y.value=e}function oe(e){"add"===e?k():e.startsWith("use")?w.value=parseInt(e.split(" ")[1]):"delete"===e?g(w.value):"rename"===e?_(w.value):"addKumi"===e&&x()}return(e,t)=>{const a=s.d0,f=c.mi,S=r.Df,V=r.o2,P=r.YK,Y=m.Z,R=u.EZ,ce=d.gn,de=c.MO,ue=o.GT;return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(a,{modelValue:W.value,"onUpdate:modelValue":t[0]||(t[0]=e=>W.value=e),title:(0,i.SU)(l)("kumiPage.selectArt"),width:(0,i.SU)(F.B)?"80%":"90%"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(B.Z),{position:K.value,onSelect:j},null,8,["position"])])),_:1},8,["modelValue","title","width"]),(0,n._)("div",E,[(0,n.Wm)(P,{trigger:"click",onCommand:oe},{dropdown:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S,{command:"add",icon:(0,i.SU)(L)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("kumiPage.newFolder")),1)])),_:1},8,["icon"]),(0,n.Wm)(S,{command:"addKumi",icon:(0,i.SU)(M.Z)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("kumiPage.newKumi")),1)])),_:1},8,["icon"]),0!==w.value?((0,n.wg)(),(0,n.j4)(S,{key:0,command:"delete",icon:(0,i.SU)(D.Z)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("misc.del"))+'"'+(0,v.zw)((0,i.SU)(h))+'"',1)])),_:1},8,["icon"])):(0,n.kq)("",!0),0!==w.value?((0,n.wg)(),(0,n.j4)(S,{key:1,command:"rename",icon:(0,i.SU)(Z.Z)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("misc.rename")),1)])),_:1},8,["icon"])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(p),((e,t)=>((0,n.wg)(),(0,n.j4)(S,{key:e.index,divided:0===t,command:"use "+e.index,icon:(0,i.SU)(A.Z)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)(e.title),1)])),_:2},1032,["divided","command","icon"])))),128))])),_:1})])),default:(0,n.w5)((()=>[(0,n.Wm)(f,{icon:(0,i.SU)(T.Z),size:"small",text:"",circle:""},null,8,["icon"])])),_:1}),(0,n._)("div",G,(0,v.zw)((0,i.SU)(h)),1)]),(0,n._)("div",O,[(0,n._)("div",Q,[(0,n._)("div",$,[(0,n.Wm)(f,{type:"primary",icon:(0,i.SU)(M.Z),onClick:k},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("kumiPage.newFolder")),1)])),_:1},8,["icon"])]),(0,n._)("div",J,[(0,n.Wm)((0,i.SU)(U),{modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=e=>w.value=e),items:(0,i.SU)(p)},null,8,["modelValue","items"])])]),(0,n._)("div",N,[(0,n._)("div",X,[(0,n.Wm)(R,{modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=e=>C.value=e),style:{"margin-bottom":"12px"},placeholder:(0,i.SU)(l)("misc.search")},{append:(0,n.w5)((()=>[(0,n.Wm)(Y)])),_:1},8,["modelValue","placeholder"])]),(0,n._)("div",ee,[(0,n._)("div",te,[(0,n.Wm)(f,{type:"primary",icon:(0,i.SU)(M.Z),onClick:x},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("kumiPage.newKumi")),1)])),_:1},8,["icon"]),(0,n.Wm)(R,{modelValue:C.value,"onUpdate:modelValue":t[3]||(t[3]=e=>C.value=e),style:{"margin-left":"16px"},placeholder:(0,i.SU)(l)("misc.search")},{append:(0,n.w5)((()=>[(0,n.Wm)(ce,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Y)])),_:1})])),_:1},8,["modelValue","placeholder"])]),(0,n._)("div",le,[(0,n.Wm)(de,null,{default:(0,n.w5)((()=>[0!==w.value?((0,n.wg)(),(0,n.j4)(f,{key:0,icon:(0,i.SU)(Z.Z),onClick:t[4]||(t[4]=e=>_(w.value))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,v.zw)((0,i.SU)(l)("misc.rename")),1)])),_:1},8,["icon"])):(0,n.kq)("",!0),0!==w.value?((0,n.wg)(),(0,n.j4)(f,{key:1,type:"danger",onClick:t[5]||(t[5]=e=>g(w.value)),title:(0,i.SU)(l)("kumiPage.deleteFolder"),icon:(0,i.SU)(D.Z)},null,8,["title","icon"])):(0,n.kq)("",!0)])),_:1})])]),(0,n._)("div",ie,[(0,i.SU)(H).length>0?((0,n.wg)(),(0,n.iD)("div",ne,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(H),(e=>((0,n.wg)(),(0,n.j4)((0,i.SU)(b),{key:e.id,data:e,onDelete:t=>z(e.id),onEdit:t=>y(e.id),onClick:t=>q(e.id,t),onDeleteArtifact:t=>I(e.id,t)},null,8,["data","onDelete","onEdit","onClick","onDeleteArtifact"])))),128))])):((0,n.wg)(),(0,n.iD)("div",ae,[(0,n.Wm)(ue)]))])])])])}}});const ce=(0,k.Z)(oe,[["__scopeId","data-v-3fff4ea7"]]);var de=ce},96152:function(e,t,l){l(93979)}}]);