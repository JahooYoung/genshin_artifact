"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[9057],{85524:function(e,t,l){l.d(t,{Y:function(){return a}});l(33948),l(60285),l(41637);function a(e,t,a=12e4,n=!1){const i=new Worker(new URL(l.p+l.u(3857),l.b));let u=null,o=-1;const s=new Promise(((l,n)=>{u=()=>{n("计算被中止")},o=setTimeout((()=>{n("计算超时")}),a),i.onmessage=a=>{if("ready"===a.data.type)i.postMessage({optimizeConfig:e,artifacts:t});else{const e=a.data.data.results;l(e)}},i.onerror=()=>{n("计算发生错误")}})).finally((()=>{i.terminate(),clearTimeout(o)}));return n?[s,u]:s}},20820:function(e,t,l){l.d(t,{YK:function(){return n},$o:function(){return u},eH:function(){return o}});l(33948);var a=l(7025);l(60285),l(41637);function n(e,t){const a=new Worker(new URL(l.p+l.u(4901),l.b));return new Promise(((l,n)=>{a.onmessage=function(n){const i=n.data.type;if("ready"===i)a.postMessage({input:e,artifacts:t});else if("result"===i){const e=n.data.data.result;a.terminate(),l(e)}},a.onerror=function(e){n(e)}}))}l(85524);var i=l(80065);function u(e,t,a=12e4){const n=new Worker(new URL(l.p+l.u(8435),l.b)),u=(0,i.p$)(e);return new Promise(((e,l)=>{const i=setTimeout((()=>{l("计算超时")}),a);n.onmessage=l=>{if("ready"===l.data.type)n.postMessage({potentialFunctionInterface:u,artifacts:t});else{const t=l.data.data.results;clearTimeout(i),e(t)}},n.onerror=e=>{l("计算发生错误："+e.message),clearTimeout(i)}})).finally((()=>{n.terminate()}))}async function o(e,t,l,n){const i=await(0,a.n)();return i.CommonInterface.get_artifacts_rank_by_character(e,t,l,n)}},75303:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(59818),n=(l(50657),l(60096),l(66252));function i(e,t,l,i,u,o){const s=a.BT,r=a.km;return(0,n.wg)(),(0,n.j4)(r,{value:l.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t)),multiple:l.multiple},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.positions,(e=>((0,n.wg)(),(0,n.j4)(s,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["value","multiple"])}var u=l(75701),o={name:"SelectArtifactSlot",props:{value:{},multiple:{default:!1}},created(){this.positions=u.m7}},s=l(83744);const r=(0,s.Z)(o,[["render",i]]);var m=r},77744:function(e,t,l){l.r(t),l.d(t,{default:function(){return le}});var a=l(2262),n=l(66252),i=l(89804),u=l(79509),o=l(35267),s=(l(45177),l(29125)),r=(l(40121),l(19651)),m=(l(71683),l(77049)),c=(l(75915),l(31838)),f=(l(87228),l(33948),l(3577)),p=l(24026),d={ArtifactEff:{name:"ArtifactEff",chs:"有效词条",description:"以单次强化最大档位为1分",badge:p,config:[{default:!1,name:"atk_use",title:"p1",type:"bool"},{default:0,max:1,min:0,name:"atk_weight",title:"p2",type:"float"},{default:!0,name:"atk_p_use",title:"p3",type:"bool"},{default:1,max:1,min:0,name:"atk_p_weight",title:"p4",type:"float"},{default:!1,name:"hp_use",title:"p5",type:"bool"},{default:0,max:1,min:0,name:"hp_weight",title:"p6",type:"float"},{default:!1,name:"hp_p_use",title:"p7",type:"bool"},{default:0,max:1,min:0,name:"hp_p_weight",title:"p8",type:"float"},{default:!1,name:"def_use",title:"p9",type:"bool"},{default:0,max:1,min:0,name:"def_weight",title:"p10",type:"float"},{default:!1,name:"def_p_use",title:"p11",type:"bool"},{default:0,max:1,min:0,name:"def_p_weight",title:"p12",type:"float"},{default:!0,name:"critical_use",title:"p13",type:"bool"},{default:1,max:1,min:0,name:"critical_weight",title:"p14",type:"float"},{default:!0,name:"critical_damage_use",title:"p15",type:"bool"},{default:1,max:1,min:0,name:"critical_damage_weight",title:"p16",type:"float"},{default:!1,name:"elemental_mastery_use",title:"p17",type:"bool"},{default:0,max:1,min:0,name:"elemental_mastery_weight",title:"p18",type:"float"},{default:!1,name:"recharge_use",title:"p19",type:"bool"},{default:0,max:1,min:0,name:"recharge_weight",title:"p20",type:"float"}]}};Object.freeze(d);const v=d;function g(e){var t;const l=v[e];if(!l)return"NoConfig";let a=null!==(t=l.config)&&void 0!==t?t:[];if(0===a.length)return"NoConfig";let n={};for(let i of a)n[i.name]=i.default;return{[e]:n}}var _=l(21811),w=l(20820),h=l(81884),y=l(59818);l(50657),l(60096);function U(e,t,l,a,i,u){const o=y.BT,s=y.km;return(0,n.wg)(),(0,n.j4)(s,{"model-value":l.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.potentialFunctionNames,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.name,label:a.t("pfName",e.name),value:e.name},null,8,["label","value"])))),128))])),_:1},8,["model-value"])}var b=l(8509);let V=[];for(const ae in v){const e=v[ae].chs;V.push({name:ae,chs:e})}Object.freeze(V);var k={name:"SelectPotentialFunctionName",props:["modelValue"],emits:["update:modelValue"],created(){this.potentialFunctionNames=V},setup(){const{t:e}=(0,b.QT)();return{t:e}}},S=l(83744);const x=(0,S.Z)(k,[["render",U]]);var W=x,F=l(75303),z=l(75608),H=l(7126),N=l(11180),T=l(16317),Z=l(42516),A=l(3024);const C={class:"root"},j={class:"pf-detail"},E=["src"],P={class:"pf-title"},D={class:"pf-description"},I={class:"pf-config"},M={class:"filter"},O={class:"filter-item"},R={class:"filter-title"},Y={class:"filter-item"},$={class:"filter-title"},K={class:"filter-item"},B={class:"filter-title"},L={style:{margin:"0 0 20px 0"}},q={class:"filter-title"},Q={class:"filter-level"},G=(0,n.Uk)(" ~ "),X={class:"artifacts-div"},J={class:"pager"};var ee=(0,n.aZ)({__name:"NewArtifactPotentialPage",setup(e){const{t:t}=(0,b.QT)(),l=(0,Z.n)(),p=(0,a.iH)("ArtifactEff"),d=(0,n.Fl)((()=>{const e=v[p.value];return null===e||void 0===e?void 0:e.badge})),y=(0,n.Fl)((()=>t("pfDesc",p.value))),U=(0,n.Fl)((()=>{const e=v[p.value];return e?e.config:[]})),V=(0,a.iH)(g("ArtifactEff")),k=(0,a.iH)([]),S=(0,n.Fl)((()=>k.value.length>0?k.value[0][1]:Number.MAX_SAFE_INTEGER)),x=(0,a.iH)([]),ee=(0,a.iH)([]),te=(0,a.iH)([]),le=(0,a.iH)([0,20]),ae=(0,n.Fl)((()=>{let e=[];for(let t of k.value){const a=l.artifacts.value.get(t[0]);if(!a)continue;if(x.value.length>0&&-1===x.value.indexOf(a.position))continue;if(ee.value.length>0&&-1===ee.value.indexOf(a.setName))continue;if(te.value.length>0&&-1===te.value.indexOf(a.mainTag.name))continue;const n=a.level;n<le.value[0]||n>le.value[1]||e.push(t)}return e})),ne=(0,a.iH)(1),ie=(0,n.Fl)((()=>{const e=ne.value;return ae.value.slice(20*(e-1),Math.min(20*e,ae.value.length))})),ue=(0,n.Fl)((()=>{const e=[];for(let t of ie.value){const[a,n]=t,i=l.artifacts.value.get(a);i&&e.push([i,n])}return e})),oe=(0,n.Fl)((()=>({name:p.value,config:V.value})));function se(){const e=(0,_.Cq)(),t=oe.value,l=i.kN.service({text:"莫娜占卜中",lock:!0,fullscreen:!0});(0,w.$o)(t,e).then((e=>{k.value=e})).catch((e=>{console.log(e),(0,u.z8)({message:e,type:"error"})})).finally((()=>{l.close()}))}return(e,l)=>{const i=c.Dv,u=m.mi,v=r.d6,g=s.R,_=o.dq;return(0,n.wg)(),(0,n.iD)("div",C,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{md:6,sm:24,class:"mona-scroll-hidden left"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e)},null,8,["modelValue"]),(0,n._)("div",j,[(0,n._)("img",{src:(0,a.SU)(d),class:"pf-image",alt:"图"},null,8,E),(0,n._)("div",null,[(0,n._)("p",P,(0,f.zw)((0,a.SU)(t)("pfName",p.value)),1),(0,n._)("p",D,(0,f.zw)((0,a.SU)(y)),1)])]),(0,n._)("div",I,[(0,n.Wm)((0,a.SU)(N.Z),{modelValue:V.value,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value=e),"item-name":p.value,configs:(0,a.SU)(U)},null,8,["modelValue","item-name","configs"])])])),_:1}),(0,n.Wm)(i,{md:18,sm:24,class:"col-right mona-scroll-hidden"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(u,{type:"primary",icon:(0,a.SU)(A.Z),onClick:se},{default:(0,n.w5)((()=>[(0,n.Uk)((0,f.zw)((0,a.SU)(t)("poPage.start")),1)])),_:1},8,["icon"])]),(0,n._)("div",M,[(0,n._)("span",O,[(0,n._)("span",R,(0,f.zw)((0,a.SU)(t)("misc.artSlot")),1),(0,n.Wm)((0,a.SU)(F.Z),{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=e=>x.value=e),multiple:!0},null,8,["modelValue"])]),(0,n._)("span",Y,[(0,n._)("span",$,(0,f.zw)((0,a.SU)(t)("misc.artifactSet")),1),(0,n.Wm)(z.Z,{modelValue:ee.value,"onUpdate:modelValue":l[3]||(l[3]=e=>ee.value=e),multiple:!0,"multiple-limit":5},null,8,["modelValue"])]),(0,n._)("span",K,[(0,n._)("span",B,(0,f.zw)((0,a.SU)(t)("misc.mainStat")),1),(0,n.Wm)(H.Z,{modelValue:te.value,"onUpdate:modelValue":l[4]||(l[4]=e=>te.value=e),multiple:!0,"include-any":!1},null,8,["modelValue"])])]),(0,n._)("div",L,[(0,n._)("span",q,(0,f.zw)((0,a.SU)(t)("misc.lvl")),1),(0,n._)("div",Q,[(0,n.Wm)(v,{min:0,max:le.value[1],modelValue:le.value[0],"onUpdate:modelValue":l[5]||(l[5]=e=>le.value[0]=e)},null,8,["max","modelValue"]),G,(0,n.Wm)(v,{min:le.value[0],max:20,modelValue:le.value[1],"onUpdate:modelValue":l[6]||(l[6]=e=>le.value[1]=e)},null,8,["min","modelValue"])])]),(0,n._)("div",X,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,a.SU)(ue),(e=>((0,n.wg)(),(0,n.j4)(T.Z,{item:e[0],extra:e[1].toFixed(2),"show-back":!0,"back-value":e[1]/(0,a.SU)(S)},null,8,["item","extra","back-value"])))),256))]),(0,n._)("div",J,[(0,n.Wm)(g,{total:(0,a.SU)(ae).length,"page-size":20,"current-page":ne.value,"onUpdate:current-page":l[7]||(l[7]=e=>ne.value=e),"hide-on-single-page":"",layout:"prev, pager, next",small:!(0,a.SU)(h.B)},null,8,["total","current-page","small"])])])),_:1})])),_:1})])}}});const te=(0,S.Z)(ee,[["__scopeId","data-v-ad7a322e"]]);var le=te}}]);