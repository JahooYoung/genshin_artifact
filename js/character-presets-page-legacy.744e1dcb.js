"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[7726],{87609:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},i=(0,l._)("path",{fill:"currentColor",d:"M480 352H346.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96c0-17.7-14.3-32-32-32zm-48 104c-13.2 0-24-10.8-24-24s10.8-24 24-24s24 10.8 24 24s-10.8 24-24 24zm-198.6-81.4c6.2 6.3 14.4 9.4 22.6 9.4s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32c-17.7 0-32 14.33-32 32v242.8l-73.4-73.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"},null,-1),c=[i];function r(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,c)}t["Z"]={name:"fa6-solid-download",render:r}},88339:function(e,t,a){var l=a(66252);const n={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},i=(0,l._)("path",{fill:"currentColor",d:"M105.4 182.6c12.5 12.49 32.76 12.5 45.25.001L224 109.3V352c0 17.67 14.33 32 32 32s32-14.33 32-32V109.3l73.38 73.38c12.49 12.49 32.75 12.49 45.25-.001c12.49-12.49 12.49-32.75 0-45.25l-128-128C272.4 3.125 264.2 0 256 0s-16.4 3.125-22.6 9.375L105.4 137.4c-12.52 12.5-12.52 32.7 0 45.2zM480 352H320c0 35.35-28.65 64-64 64s-64-28.65-64-64H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96c0-17.7-14.3-32-32-32zm-48 104c-13.2 0-24-10.8-24-24s10.8-24 24-24s24 10.8 24 24s-10.8 24-24 24z"},null,-1),c=[i];function r(e,t){return(0,l.wg)(),(0,l.iD)("svg",n,c)}t["Z"]={name:"fa6-solid-upload",render:r}},29325:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(79509),n=(a(3905),a(28785)),i=(a(9638),a(77049)),c=(a(7739),a(8350)),r=(a(12573),a(75915),a(33948),a(38862),a(74916),a(15306),a(66252)),s=a(2262),o=a(3577),u=a(42119),m=a(40195),d=a(80065),f=a(81884),v=a(30020),p=a(10384),w=a(27554),g=a(88339),_=a(87609),k=a(8509);const U={class:"toolbar"},h={key:0,class:"body"},S={style:{"font-size":"0.9em",color:"#606266"}};var z=(0,r.aZ)({__name:"CharacterPresetsPage",setup(e){const{t:t}=(0,k.QT)(),a=(0,w.B)(),z=(0,u.tv)(),D=(0,s.iH)(!1),y=(0,s.iH)(null);function C(){D.value=!0}async function b(){if(!y.value)return;const e=await y.value.getReadPromise();let n=null;try{n=JSON.parse(e)}catch(c){n=null}const i=(0,m.mf)(n);if(i){for(let e of n)a.addOrOverwrite(e.name,e.item);D.value=!1}else(0,l.z8)({message:t("presetPage.wrongFormat"),type:"error"})}function Z(e){const t=a.presets.value[e],l=[t],n=JSON.stringify(l);(0,d.Qz)(n,"text/plain",e)}function x(){const e=JSON.stringify(a.allFlat.value);(0,d.Qz)(e,"text/plain",t("misc.preset"))}const F=a.allFlat,H=(0,r.Fl)((()=>F.value.length));function P(e){a.deletePreset(e)}function W(e){console.log("handle",e),z.push({name:"calculate",params:{presetName:e}})}return(e,a)=>{const l=i.mi,u=c.d0,m=i.MO,d=n.GT;return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(u,{modelValue:D.value,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value=e),title:(0,s.SU)(t)("misc.import"),width:(0,s.SU)(f.B)?"60%":"90%"},{footer:(0,r.w5)((()=>[(0,r.Wm)(l,{onClick:a[0]||(a[0]=e=>D.value=!1)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,s.SU)(t)("misc.cancel")),1)])),_:1}),(0,r.Wm)(l,{type:"primary",onClick:b},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,s.SU)(t)("misc.confirm")),1)])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(p.Z),{ref_key:"fileImportBlock",ref:y},null,512)])),_:1},8,["modelValue","title","width"]),(0,r._)("div",U,[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{icon:(0,s.SU)(_.Z),onClick:x},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,s.SU)(t)("presetPage.exportAll")),1)])),_:1},8,["icon"]),(0,r.Wm)(l,{icon:(0,s.SU)(g.Z),onClick:C},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,s.SU)(t)("misc.import")),1)])),_:1},8,["icon"])])),_:1})]),(0,s.SU)(H)>0?((0,r.wg)(),(0,r.iD)("div",h,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,s.SU)(F),(e=>((0,r.wg)(),(0,r.j4)(v.Z,{item:e.item,name:e.name,"calculate-icon":!1,onDelete:t=>P(e.name),onDownload:t=>Z(e.name),class:"item",onClick:t=>W(e.name)},null,8,["item","name","onDelete","onDownload","onClick"])))),256))])):((0,r.wg)(),(0,r.j4)(d,{key:1},{default:(0,r.w5)((()=>[(0,r._)("p",S,[(0,r.Uk)((0,o.zw)((0,s.SU)(t)("presetPage.go")),1),(0,r._)("span",{class:"route-item",onClick:a[2]||(a[2]=t=>e.$router.replace("/calculate"))},(0,o.zw)((0,s.SU)(t)("misc.calculator")),1),(0,r.Uk)((0,o.zw)((0,s.SU)(t)("presetPage.toCalc")),1)])])),_:1}))])}}}),D=a(83744);const y=(0,D.Z)(z,[["__scopeId","data-v-7e50a26a"]]);var C=y},30020:function(e,t,a){a.d(t,{Z:function(){return Z}});var l=a(66252),n=a(77049),i=(a(75915),a(3577)),c=a(2262),r=a(49963),s=a(2193),o=a(66113),u=a(10403),m=a(87609),d=a(21323),f=a(8509);const v={class:"item br-3"},p={class:"header"},w={class:"fs-12"},g={key:0,class:"buttons flex-row"},_={class:"body"},k={class:"detail-div fs-12"},U=["src"],h={class:"detail-div fs-12"},S=["src"],z={class:"detail-div fs-12"},D=["src"];var y=(0,l.aZ)({__name:"PresetItem",props:{item:null,name:{default:"name"},toolbar:{type:Boolean,default:!0},calculateIcon:{type:Boolean,default:!0}},setup(e){const t=e,{t:a}=(0,f.QT)(),y=(0,l.Fl)((()=>t.item.character.name)),C=(0,l.Fl)((()=>{const e=s.O[y.value];return e.avatar})),b=((0,l.Fl)((()=>{const e=s.O[y.value];return e.chs})),(0,l.Fl)((()=>o.G[t.item.weapon.name]))),Z=(0,l.Fl)((()=>u.F[t.item.targetFunction.name]));return(s,o)=>{const u=n.mi;return(0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",p,[(0,l._)("span",w,(0,i.zw)(t.name),1),e.toolbar?((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(u,{icon:(0,c.SU)(d.Z),text:"",size:"small",circle:"",onClick:o[0]||(o[0]=(0,r.iM)((e=>s.$emit("delete")),["stop"])),class:"button",title:(0,c.SU)(a)("misc.del")},null,8,["icon","title"]),(0,l.Wm)(u,{icon:(0,c.SU)(m.Z),text:"",size:"small",circle:"",onClick:o[1]||(o[1]=(0,r.iM)((e=>s.$emit("download")),["stop"])),class:"button",title:(0,c.SU)(a)("misc.export")},null,8,["icon","title"])])):(0,l.kq)("",!0)]),(0,l._)("div",_,[(0,l._)("div",k,[(0,l._)("img",{src:(0,c.SU)(C),class:"c-avatar br-50p"},null,8,U),(0,l._)("span",null,(0,i.zw)((0,c.SU)(a)("character",(0,c.SU)(y))),1)]),(0,l._)("div",h,[(0,l._)("img",{src:(0,c.SU)(b).url,class:"w-avatar br-50p"},null,8,S),(0,l._)("span",null,(0,i.zw)((0,c.SU)(a)("weapon",t.item.weapon.name)),1)]),(0,l._)("div",z,[(0,l._)("img",{src:(0,c.SU)(Z).badge,class:"tf-avatar br-50p"},null,8,D),(0,l._)("span",null,(0,i.zw)((0,c.SU)(a)("tfName",(0,c.SU)(Z).name)),1)])])])}}}),C=a(83744);const b=(0,C.Z)(y,[["__scopeId","data-v-2991bd7c"]]);var Z=b},10384:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(2262),n=a(86660),i=(a(28475),a(88339)),c=a(66252),r=a(3577);const s=e=>((0,c.dD)("data-v-9adc0540"),e=e(),(0,c.Cn)(),e),o={class:"center-div"},u=s((()=>(0,c._)("span",null,"点击，或拖拽上传",-1))),m={key:0,class:"filename"};var d=(0,c.aZ)({__name:"ImportBlock",setup(e,{expose:t}){const a=(0,l.iH)(!1);function s(e){e.preventDefault(),a.value=!0}function d(e){e.preventDefault(),a.value=!1}function f(e){e.preventDefault()}const v=(0,l.iH)(null),p=(0,l.iH)(!1),w=(0,l.iH)(""),g=(0,l.iH)(null);function _(){g.value&&g.value.click()}function k(){if(g.value&&g.value.files){const e=Array.from(g.value.files);e.length>0&&(v.value=e[0],p.value=!0,w.value=e[0].name)}}function U(e){e.preventDefault(),a.value=!1;let t=null;if(e.dataTransfer)if(e.dataTransfer.items){for(let a=0;a<e.dataTransfer.items.length;a++)if("file"===e.dataTransfer.items[a].kind){t=e.dataTransfer.items[a].getAsFile();break}}else t=e.dataTransfer.files[0];v.value=t,t&&(p.value=!0,w.value=t.name)}function h(){return new Promise(((e,t)=>{v.value||t("未选择文件");try{let a=new FileReader;a.onload=t=>{t.target&&e(t.target.result)},a.onerror=e=>{t(e)},a.readAsText(v.value)}catch(a){t(a)}}))}return t({getReadPromise:h}),(e,t)=>{const l=i.Z,v=n.gn;return(0,c.wg)(),(0,c.iD)("div",null,[(0,c._)("div",{class:(0,r.C_)(["root",{over:a.value}]),ref:"rootBox",onDragenter:s,onDragleave:d,onDragover:f,onDrop:U,onClick:_},[(0,c._)("div",o,[(0,c.Wm)(v,null,{default:(0,c.w5)((()=>[(0,c.Wm)(l)])),_:1}),u])],34),p.value?((0,c.wg)(),(0,c.iD)("p",m,(0,r.zw)(w.value),1)):(0,c.kq)("",!0),(0,c._)("input",{type:"file",ref_key:"fileInput",ref:g,class:"file-input",onChange:k},null,544)])}}}),f=a(83744);const v=(0,f.Z)(d,[["__scopeId","data-v-9adc0540"]]);var p=v},7739:function(e,t,a){a(3392)},3905:function(e,t,a){a(3392)}}]);