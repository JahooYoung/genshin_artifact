"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[9057],{10781:function(e,t,l){l.d(t,{Y:function(){return a}});l(76265),l(78730),l(79307),l(98858),l(61318),l(33228);function a(e,t,a=3e5,n=!1){const i=new Worker(new URL(l.p+l.u(7118),l.b));let u=null,o=-1;const s=new Promise(((l,n)=>{u=()=>{n("计算被中止")},o=setTimeout((()=>{n("计算超时")}),a),i.onmessage=a=>{if("ready"===a.data.type)i.postMessage({optimizeConfig:e,artifacts:t});else{const e=a.data.data.results;l(e)}},i.onerror=()=>{n("计算发生错误")}})).finally((()=>{i.terminate(),clearTimeout(o)}));return n?[s,u]:s}},71774:function(e,t,l){l.d(t,{YK:function(){return n},$o:function(){return u},eH:function(){return o}});l(76265);var a=l(75658);l(78730),l(79307),l(98858),l(61318),l(33228);function n(e,t){const a=new Worker(new URL(l.p+l.u(6283),l.b));return new Promise(((l,n)=>{a.onmessage=function(n){const i=n.data.type;if("ready"===i)a.postMessage({input:e,artifacts:t});else if("result"===i){const e=n.data.data.result;a.terminate(),l(e)}},a.onerror=function(e){n(e)}}))}l(10781);var i=l(72391);function u(e,t,a=12e4){const n=new Worker(new URL(l.p+l.u(234),l.b)),u=(0,i.p$)(e);return new Promise(((e,l)=>{const i=setTimeout((()=>{l("计算超时")}),a);n.onmessage=l=>{if("ready"===l.data.type)n.postMessage({potentialFunctionInterface:u,artifacts:t});else{const t=l.data.data.results;clearTimeout(i),e(t)}},n.onerror=e=>{l("计算发生错误："+e.message),clearTimeout(i)}})).finally((()=>{n.terminate()}))}async function o(e,t,l,n){const i=await(0,a.n)();return i.CommonInterface.get_artifacts_rank_by_character(e,t,l,n)}},14772:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(17566),n=(l(74874),l(61715),l(66252));function i(e,t,l,i,u,o){const s=a.BT,r=a.km;return(0,n.wg)(),(0,n.j4)(r,{value:l.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t)),multiple:l.multiple},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.positions,(e=>((0,n.wg)(),(0,n.j4)(s,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["value","multiple"])}var u=l(73831),o={name:"SelectArtifactSlot",props:{value:{},multiple:{default:!1}},created(){this.positions=u.m7}},s=l(83744);const r=(0,s.Z)(o,[["render",i]]);var m=r},54197:function(e,t,l){l.r(t),l.d(t,{default:function(){return te}});var a=l(2262),n=l(66252),i=l(27739),u=l(1464),o=l(73632),s=(l(74965),l(49676)),r=(l(73204),l(63726)),m=(l(86709),l(15659)),c=(l(10444),l(22040)),f=(l(99426),l(76265),l(70560),l(3577)),d=l(24026),p={ArtifactEff:{name:"ArtifactEff",chs:"有效词条",description:"以单次强化最大档位为1分",badge:d,config:[{default:!1,name:"atk_use",title:746,type:"bool"},{default:0,max:1,min:0,name:"atk_weight",title:747,type:"float"},{default:!0,name:"atk_p_use",title:738,type:"bool"},{default:1,max:1,min:0,name:"atk_p_weight",title:739,type:"float"},{default:!1,name:"hp_use",title:1303,type:"bool"},{default:0,max:1,min:0,name:"hp_weight",title:1304,type:"float"},{default:!1,name:"hp_p_use",title:1288,type:"bool"},{default:0,max:1,min:0,name:"hp_p_weight",title:1289,type:"float"},{default:!1,name:"def_use",title:1780,type:"bool"},{default:0,max:1,min:0,name:"def_weight",title:1781,type:"float"},{default:!1,name:"def_p_use",title:1775,type:"bool"},{default:0,max:1,min:0,name:"def_p_weight",title:1776,type:"float"},{default:!0,name:"critical_use",title:1014,type:"bool"},{default:1,max:1,min:0,name:"critical_weight",title:1015,type:"float"},{default:!0,name:"critical_damage_use",title:1008,type:"bool"},{default:1,max:1,min:0,name:"critical_damage_weight",title:1009,type:"float"},{default:!1,name:"elemental_mastery_use",title:245,type:"bool"},{default:0,max:1,min:0,name:"elemental_mastery_weight",title:246,type:"float"},{default:!1,name:"recharge_use",title:204,type:"bool"},{default:0,max:1,min:0,name:"recharge_weight",title:205,type:"float"}]}};Object.freeze(p);const v=p;function g(e){var t;const l=v[e];if(!l)return"NoConfig";let a=null!==(t=l.config)&&void 0!==t?t:[];if(0===a.length)return"NoConfig";let n={};for(let i of a)n[i.name]=i.default;return{[e]:n}}var _=l(22813),w=l(71774),h=l(42694),U=l(17566);l(74874),l(61715);function y(e,t,l,a,i,u){const o=U.BT,s=U.km;return(0,n.wg)(),(0,n.j4)(s,{"model-value":l.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.potentialFunctionNames,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.name,label:a.t("pfName",e.name),value:e.name},null,8,["label","value"])))),128))])),_:1},8,["model-value"])}var S=l(76456);let b=[];for(const le in v){const e=v[le].chs;b.push({name:le,chs:e})}Object.freeze(b);var V={name:"SelectPotentialFunctionName",props:["modelValue"],emits:["update:modelValue"],created(){this.potentialFunctionNames=b},setup(){const{t:e}=(0,S.QT)();return{t:e}}},k=l(83744);const x=(0,k.Z)(V,[["render",y]]);var W=x,F=l(14772),z=l(7832),H=l(401),N=l(25690),T=l(54766),Z=l(721),q=l(93232);const A={class:"root"},C={class:"pf-detail"},E=["src"],P={class:"pf-title"},j={class:"pf-description"},D={class:"pf-config"},I={class:"filter"},M={class:"filter-item"},O={class:"filter-title"},R={class:"filter-item"},Y={class:"filter-title"},$={class:"filter-item"},B={class:"filter-title"},K={style:{margin:"0 0 20px 0"}},L={class:"filter-title"},Q={class:"filter-level"},G={class:"artifacts-div"},X={class:"pager"};var J=(0,n.aZ)({__name:"NewArtifactPotentialPage",setup(e){const{t:t}=(0,S.QT)(),l=(0,Z.nf)(),d=(0,a.iH)("ArtifactEff"),p=(0,n.Fl)((()=>{const e=v[d.value];return null===e||void 0===e?void 0:e.badge})),U=(0,n.Fl)((()=>t("pfDesc",d.value))),y=(0,n.Fl)((()=>{const e=v[d.value];return e?e.config:[]})),b=(0,a.iH)(g("ArtifactEff")),V=(0,a.iH)([]),k=(0,n.Fl)((()=>V.value.length>0?V.value[0][1]:Number.MAX_SAFE_INTEGER)),x=(0,a.iH)([]),J=(0,a.iH)([]),ee=(0,a.iH)([]),te=(0,a.iH)([0,20]),le=(0,n.Fl)((()=>{let e=[];for(let t of V.value){const a=l.artifacts.value.get(t[0]);if(!a)continue;if(x.value.length>0&&-1===x.value.indexOf(a.position))continue;if(J.value.length>0&&-1===J.value.indexOf(a.setName))continue;if(ee.value.length>0&&-1===ee.value.indexOf(a.mainTag.name))continue;const n=a.level;n<te.value[0]||n>te.value[1]||e.push(t)}return e})),ae=(0,a.iH)(1),ne=(0,n.Fl)((()=>{const e=ae.value;return le.value.slice(20*(e-1),Math.min(20*e,le.value.length))})),ie=(0,n.Fl)((()=>{const e=[];for(let t of ne.value){const[a,n]=t,i=l.artifacts.value.get(a);i&&e.push([i,n])}return e})),ue=(0,n.Fl)((()=>({name:d.value,config:b.value})));function oe(){const e=(0,_.Cq)(),t=ue.value,l=i.kN.service({text:"莫娜占卜中",lock:!0,fullscreen:!0});(0,w.$o)(t,e).then((e=>{V.value=e})).catch((e=>{console.log(e),(0,u.z8)({message:e,type:"error"})})).finally((()=>{l.close()}))}return(e,l)=>{const i=c.Dv,u=m.ElButton,v=r.d6,g=s.R,_=o.dq;return(0,n.wg)(),(0,n.iD)("div",A,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{md:6,sm:24,class:"mona-scroll-hidden left"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{modelValue:(0,a.SU)(d),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,a.dq)(d)?d.value=e:null)},null,8,["modelValue"]),(0,n._)("div",C,[(0,n._)("img",{src:(0,a.SU)(p),class:"pf-image",alt:"图"},null,8,E),(0,n._)("div",null,[(0,n._)("p",P,(0,f.zw)((0,a.SU)(t)("pfName",(0,a.SU)(d))),1),(0,n._)("p",j,(0,f.zw)((0,a.SU)(U)),1)])]),(0,n._)("div",D,[(0,n.Wm)((0,a.SU)(N.Z),{modelValue:(0,a.SU)(b),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,a.dq)(b)?b.value=e:null),"item-name":(0,a.SU)(d),configs:(0,a.SU)(y)},null,8,["modelValue","item-name","configs"])])])),_:1}),(0,n.Wm)(i,{md:18,sm:24,class:"col-right mona-scroll-hidden"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(u,{type:"primary",icon:(0,a.SU)(q.Z),onClick:oe},{default:(0,n.w5)((()=>[(0,n.Uk)((0,f.zw)((0,a.SU)(t)("poPage.start")),1)])),_:1},8,["icon"])]),(0,n._)("div",I,[(0,n._)("span",M,[(0,n._)("span",O,(0,f.zw)((0,a.SU)(t)("misc.artSlot")),1),(0,n.Wm)((0,a.SU)(F.Z),{modelValue:(0,a.SU)(x),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,a.dq)(x)?x.value=e:null),multiple:!0},null,8,["modelValue"])]),(0,n._)("span",R,[(0,n._)("span",Y,(0,f.zw)((0,a.SU)(t)("misc.artifactSet")),1),(0,n.Wm)(z.Z,{modelValue:(0,a.SU)(J),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,a.dq)(J)?J.value=e:null),multiple:!0,"multiple-limit":5},null,8,["modelValue"])]),(0,n._)("span",$,[(0,n._)("span",B,(0,f.zw)((0,a.SU)(t)("misc.mainStat")),1),(0,n.Wm)(H.Z,{modelValue:(0,a.SU)(ee),"onUpdate:modelValue":l[4]||(l[4]=e=>(0,a.dq)(ee)?ee.value=e:null),multiple:!0,"include-any":!1},null,8,["modelValue"])])]),(0,n._)("div",K,[(0,n._)("span",L,(0,f.zw)((0,a.SU)(t)("misc.lvl")),1),(0,n._)("div",Q,[(0,n.Wm)(v,{min:0,max:(0,a.SU)(te)[1],modelValue:(0,a.SU)(te)[0],"onUpdate:modelValue":l[5]||(l[5]=e=>(0,a.SU)(te)[0]=e)},null,8,["max","modelValue"]),(0,n.Uk)(" ~ "),(0,n.Wm)(v,{min:(0,a.SU)(te)[0],max:20,modelValue:(0,a.SU)(te)[1],"onUpdate:modelValue":l[6]||(l[6]=e=>(0,a.SU)(te)[1]=e)},null,8,["min","modelValue"])])]),(0,n._)("div",G,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,a.SU)(ie),(e=>((0,n.wg)(),(0,n.j4)(T.Z,{item:e[0],extra:e[1].toFixed(2),"show-back":!0,"back-value":e[1]/(0,a.SU)(k)},null,8,["item","extra","back-value"])))),256))]),(0,n._)("div",X,[(0,n.Wm)(g,{total:(0,a.SU)(le).length,"page-size":20,"current-page":(0,a.SU)(ae),"onUpdate:currentPage":l[7]||(l[7]=e=>(0,a.dq)(ae)?ae.value=e:null),"hide-on-single-page":"",layout:"prev, pager, next",small:!(0,a.SU)(h.B)},null,8,["total","current-page","small"])])])),_:1})])),_:1})])}}});const ee=(0,k.Z)(J,[["__scopeId","data-v-ad7a322e"]]);var te=ee}}]);